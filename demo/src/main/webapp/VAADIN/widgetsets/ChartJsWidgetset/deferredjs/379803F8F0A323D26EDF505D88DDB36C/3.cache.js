$wnd.ChartJsWidgetset.runAsyncCallback3("var $intern_288 = {2340:1, 3:1, 1:1, 5:1};\ndefineClass(407, 1, $intern_36);\n_.isSupported_0 = function isSupported_0(){\n  return this.isSupported;\n}\n;\ndefineClass(1814, 407, $intern_36);\n_.isSupported_0 = function isSupported_1(){\n  return false;\n}\n;\ndefineClass(1181, 82, $intern_34);\n_.isAttached = function isAttached_0(){\n  return this.attached;\n}\n;\nfunction lte(a, b){\n  cggl.$clinit_LongLib();\n  return !gt(a, b);\n}\n\ndefineClass(2321, 1, $intern_0, cggtc.DefaultMomentum);\n_.$init_356 = function $init_356(){\n}\n;\n_.calcNewVelocity = function calcNewVelocity(initialVelocity, decelFactor, oldVelocity, minDecel){\n  var maxVelocityX, minVelocityX, newVelocity;\n  newVelocity = initialVelocity * decelFactor;\n  if (oldVelocity >= 0) {\n    maxVelocityX = jl.max_2(0, oldVelocity - minDecel);\n    newVelocity = jl.min_2(newVelocity, maxVelocityX);\n  }\n   else {\n    minVelocityX = jl.min_2(0, oldVelocity + minDecel);\n    newVelocity = jl.max_2(newVelocity, minVelocityX);\n  }\n  return newVelocity;\n}\n;\n_.createState = function createState(initialPosition, initialVelocity){\n  return new cggtc.Momentum$State(initialPosition, initialVelocity);\n}\n;\n_.updateState = function updateState(state){\n  var decelFactor, dist, elapsedMillis, ellapsedMillis, initialVelocity, minDecel, newVelocity, newVelocityX, newVelocityY, oldVelocity, position, totalEllapsedMillis;\n  ellapsedMillis = state.getElapsedMillis();\n  totalEllapsedMillis = state.getCumulativeElapsedMillis();\n  initialVelocity = state.getInitialVelocity();\n  oldVelocity = state.getVelocity();\n  decelFactor = jl.pow_0(0.9993, totalEllapsedMillis);\n  minDecel = ellapsedMillis * 5.0E-4;\n  newVelocityX = this.calcNewVelocity(initialVelocity.getX_0(), decelFactor, oldVelocity.getX_0(), minDecel);\n  newVelocityY = this.calcNewVelocity(initialVelocity.getY_0(), decelFactor, oldVelocity.getY_0(), minDecel);\n  newVelocity = new cggtc.Point(newVelocityX, newVelocityY);\n  state.setVelocity(newVelocity);\n  elapsedMillis = state.getElapsedMillis();\n  dist = newVelocity.mult(new cggtc.Point(elapsedMillis, elapsedMillis));\n  position = state.getPosition();\n  state.setPosition(position.plus(dist));\n  if (jl.abs_0(newVelocity.getX_0()) < 0.02 && jl.abs_0(newVelocity.getY_0()) < 0.02) {\n    return false;\n  }\n  return true;\n}\n;\ndefineClass(2322, 1, $intern_0, cggtc.Momentum$State);\n_.$init_357 = function $init_357(){\n  this.cumulativeElapsedMillis = 0;\n  this.elapsedMillis = 0;\n}\n;\n_.getCumulativeElapsedMillis = function getCumulativeElapsedMillis(){\n  return this.cumulativeElapsedMillis;\n}\n;\n_.getElapsedMillis = function getElapsedMillis(){\n  return this.elapsedMillis;\n}\n;\n_.getInitialVelocity = function getInitialVelocity(){\n  return this.initialVelocity;\n}\n;\n_.getPosition = function getPosition(){\n  return this.position_0;\n}\n;\n_.getVelocity = function getVelocity(){\n  return this.velocity;\n}\n;\n_.setCumulativeElapsedMillis = function setCumulativeElapsedMillis(cumulativeElapsedMillis){\n  this.cumulativeElapsedMillis = cumulativeElapsedMillis;\n}\n;\n_.setElapsedMillis = function setElapsedMillis(elapsedMillis){\n  this.elapsedMillis = elapsedMillis;\n}\n;\n_.setPosition = function setPosition(position){\n  this.position_0 = position;\n}\n;\n_.setVelocity = function setVelocity(velocity){\n  this.velocity = velocity;\n}\n;\n_.cumulativeElapsedMillis = 0;\n_.elapsedMillis = 0;\ndefineClass(130, 1, $intern_67, cggtc.Point_0);\n_.minus = function minus(c){\n  return new cggtc.Point(this.x_0 - c.x_0, this.y_0 - c.y_0);\n}\n;\n_.mult = function mult(c){\n  return new cggtc.Point(this.x_0 * c.x_0, this.y_0 * c.y_0);\n}\n;\n_.plus = function plus(c){\n  return new cggtc.Point(this.x_0 + c.x_0, this.y_0 + c.y_0);\n}\n;\ndefineClass(2311, 1, $intern_0, cggtc.TouchScroller);\n_.$init_359 = function $init_359(){\n  this.handlerRegs = new ju.ArrayList;\n  this.lastTouchPosition = new cggtc.TouchScroller$TemporalPoint;\n  this.recentTouchPosition = new cggtc.TouchScroller$TemporalPoint;\n  this.recentScrollTriggeringTouchPosition = new cggtc.TouchScroller$TemporalPoint;\n  this.touchPositionsDuringMomentum = new ju.ArrayList;\n  this.momentumTouchRemovalCommand = new cggtc.TouchScroller$MomentumTouchRemovalCommand(this);\n}\n;\n_.calculateEndVelocity = function calculateEndVelocity(from, to){\n  var dist, time;\n  time = to.getTime_0() - from.getTime_0();\n  if (time <= 0) {\n    return null;\n  }\n  dist = from.getPoint().minus(to.getPoint());\n  return new cggtc.Point(dist.getX_0() / time, dist.getY_0() / time);\n}\n;\n_.cancelAll = function cancelAll(){\n  this.touching = false;\n  this.dragging = false;\n  this.momentumCommand = null;\n}\n;\n_.getTouchFromEvent = function getTouchFromEvent(event_0){\n  var touches;\n  touches = event_0.getTouches_0();\n  return cggcc.$length(touches) > 0?cggcc.$get(touches, 0):null;\n}\n;\n_.getWidgetScrollPosition = function getWidgetScrollPosition(){\n  cggtc.$clinit_TouchScroller();\n  return new cggtc.Point(this.widget.getHorizontalScrollPosition(), this.widget.getVerticalScrollPosition());\n}\n;\n_.hitTest = function hitTest(point1, point2){\n  var absDiffX, absDiffY, diff;\n  diff = point1.minus(point2);\n  absDiffX = jl.abs_0(diff.getX_0());\n  absDiffY = jl.abs_0(diff.getY_0());\n  return absDiffX <= 25 && absDiffY <= 25;\n}\n;\n_.isClickScrollTriggeringTouch = function isClickScrollTriggeringTouch(clickPoint){\n  cggtc.$clinit_TouchScroller();\n  if (isNotNull(this.recentScrollTriggeringTouchPosition.getPoint())) {\n    return this.hitTest(clickPoint, this.recentScrollTriggeringTouchPosition.getPoint());\n  }\n  return false;\n}\n;\n_.isClickTouchPositionDuringMomentum = function isClickTouchPositionDuringMomentum(clickPoint){\n  cggtc.$clinit_TouchScroller();\n  var currentTime, point, point$iterator, same;\n  currentTime = cggcc.currentTimeMillis();\n  same = false;\n  for (point$iterator = this.touchPositionsDuringMomentum.iterator(); point$iterator.hasNext();) {\n    point = dynamicCast(point$iterator.next_1(), 263);\n    if (currentTime - point.getTime_0() <= 2500 && this.hitTest(clickPoint, point.getPoint())) {\n      same = true;\n      break;\n    }\n  }\n  return same;\n}\n;\n_.isMomentumActive = function isMomentumActive(){\n  return isNotNull(this.momentumCommand);\n}\n;\n_.onDragEnd = function onDragEnd(event_0){\n  var endVelocity;\n  if (isNull(this.momentum)) {\n    return;\n  }\n  endVelocity = this.calculateEndVelocity(this.recentTouchPosition, this.lastTouchPosition);\n  if (isNotNull(endVelocity)) {\n    this.momentumCommand = new cggtc.TouchScroller$MomentumCommand(this, endVelocity);\n    cggcc.get_2().scheduleFixedDelay(this.momentumCommand, 16);\n  }\n}\n;\n_.onDragMove = function onDragMove(event_0){\n  var curScrollPosition, diff;\n  diff = this.startTouchPosition.minus(this.lastTouchPosition.getPoint());\n  curScrollPosition = this.startScrollPosition.plus(diff);\n  this.setWidgetScrollPosition(curScrollPosition);\n}\n;\n_.onDragStart = function onDragStart(event_0){\n}\n;\n_.onTouchCancel_0 = function onTouchCancel(event_0){\n  this.onTouchEnd_0(event_0);\n}\n;\n_.onTouchEnd_0 = function onTouchEnd(event_0){\n  if (!this.touching) {\n    return;\n  }\n  this.touching = false;\n  if (this.dragging) {\n    this.dragging = false;\n    this.onDragEnd(event_0);\n  }\n}\n;\n_.onTouchMove_0 = function onTouchMove(event_0){\n  var absDiffX, absDiffY, diff, hMax, hMin, hPosition, touch, touchPoint, touchTime, trackingTime, vMax, vMin, vPosition;\n  if (!this.touching) {\n    return;\n  }\n  touch = this.getTouchFromEvent(event_0);\n  touchPoint = new cggtc.Point(cggdc.$getPageX(touch), cggdc.$getPageY(touch));\n  touchTime = cggcc.currentTimeMillis();\n  this.lastTouchPosition.setTemporalPoint(touchPoint, touchTime);\n  if (!this.dragging) {\n    diff = touchPoint.minus(this.startTouchPosition);\n    absDiffX = jl.abs_0(diff.getX_0());\n    absDiffY = jl.abs_0(diff.getY_0());\n    if (absDiffX > 5 || absDiffY > 5) {\n      this.recentScrollTriggeringTouchPosition.setTemporalPoint(this.recentTouchPosition.getPoint(), this.recentTouchPosition.getTime_0());\n      if (absDiffX > absDiffY) {\n        hPosition = this.widget.getHorizontalScrollPosition();\n        hMin = this.widget.getMinimumHorizontalScrollPosition();\n        hMax = this.widget.getMaximumHorizontalScrollPosition();\n        if (diff.getX_0() < 0 && hMax <= hPosition) {\n          this.cancelAll();\n          return;\n        }\n         else if (diff.getX_0() > 0 && hMin >= hPosition) {\n          this.cancelAll();\n          return;\n        }\n      }\n       else {\n        vPosition = this.widget.getVerticalScrollPosition();\n        vMin = this.widget.getMinimumVerticalScrollPosition();\n        vMax = this.widget.getMaximumVerticalScrollPosition();\n        if (diff.getY_0() < 0 && vMax <= vPosition) {\n          this.cancelAll();\n          return;\n        }\n         else if (diff.getY_0() > 0 && vMin >= vPosition) {\n          this.cancelAll();\n          return;\n        }\n      }\n      this.dragging = true;\n      this.onDragStart(event_0);\n    }\n  }\n  event_0.preventDefault_0();\n  if (this.dragging) {\n    this.onDragMove(event_0);\n    trackingTime = touchTime - this.recentTouchPosition.getTime_0();\n    if (trackingTime > 200 && isNotNull(this.recentTouchPositionOnDeck)) {\n      this.recentTouchPosition.setTemporalPoint(this.recentTouchPositionOnDeck.getPoint(), this.recentTouchPositionOnDeck.getTime_0());\n      this.recentTouchPositionOnDeck = null;\n    }\n     else if (trackingTime > 100 && isNull(this.recentTouchPositionOnDeck)) {\n      this.recentTouchPositionOnDeck = new cggtc.TouchScroller$TemporalPoint_0(touchPoint, touchTime);\n    }\n  }\n}\n;\n_.onTouchStart_0 = function onTouchStart(event_0){\n  var startTouchTime, touch;\n  this.recentScrollTriggeringTouchPosition.setTemporalPoint(null, 0);\n  if (this.touching) {\n    return;\n  }\n  touch = this.getTouchFromEvent(event_0);\n  this.startTouchPosition = new cggtc.Point(cggdc.$getPageX(touch), cggdc.$getPageY(touch));\n  startTouchTime = cggcc.currentTimeMillis();\n  this.recentTouchPosition.setTemporalPoint(this.startTouchPosition, startTouchTime);\n  this.lastTouchPosition.setTemporalPoint(this.startTouchPosition, startTouchTime);\n  this.recentTouchPositionOnDeck = null;\n  if (this.isMomentumActive()) {\n    this.touchPositionsDuringMomentum.add_7(new cggtc.TouchScroller$TemporalPoint_0(this.startTouchPosition, startTouchTime));\n    cggcc.get_2().scheduleFixedDelay(this.momentumTouchRemovalCommand, 2500);\n  }\n  this.startScrollPosition = this.getWidgetScrollPosition();\n  this.cancelAll();\n  this.touching = true;\n}\n;\n_.removeAttachHandler = function removeAttachHandler(){\n  if (isNotNull(this.attachHandlerReg)) {\n    this.attachHandlerReg.removeHandler_0();\n    this.attachHandlerReg = null;\n  }\n}\n;\n_.removeBustClickHandler = function removeBustClickHandler(){\n  if (isNotNull(this.bustClickHandlerReg)) {\n    this.bustClickHandlerReg.removeHandler_0();\n    this.bustClickHandlerReg = null;\n  }\n}\n;\n_.setMomentum = function setMomentum(momentum){\n  this.momentum = momentum;\n  if (isNull(momentum)) {\n    this.momentumCommand = null;\n  }\n}\n;\n_.setTargetWidget = function setTargetWidget(widget){\n  var reg, reg$iterator;\n  if (jsEquals(this.widget, widget)) {\n    return;\n  }\n  this.cancelAll();\n  for (reg$iterator = this.handlerRegs.iterator(); reg$iterator.hasNext();) {\n    reg = dynamicCast(reg$iterator.next_1(), 303);\n    reg.removeHandler_0();\n  }\n  this.handlerRegs.clear_1();\n  this.removeAttachHandler();\n  this.removeBustClickHandler();\n  this.widget = widget;\n  if (isNotNull(widget)) {\n    if (widget.asWidget().isAttached()) {\n      this.setupBustClickHandler();\n    }\n    this.attachHandlerReg = widget.asWidget().addAttachHandler(new cggtc.TouchScroller$1(this));\n    this.handlerRegs.add_7(widget.asWidget().addDomHandler(new cggtc.TouchScroller$2(this), cggedc.getType_27()));\n    this.handlerRegs.add_7(widget.asWidget().addDomHandler(new cggtc.TouchScroller$3(this), cggedc.getType_26()));\n    this.handlerRegs.add_7(widget.asWidget().addDomHandler(new cggtc.TouchScroller$4(this), cggedc.getType_25()));\n    this.handlerRegs.add_7(widget.asWidget().addDomHandler(new cggtc.TouchScroller$5(this), cggedc.getType_24()));\n  }\n}\n;\n_.setWidgetScrollPosition = function setWidgetScrollPosition(position){\n  cggtc.$clinit_TouchScroller();\n  this.widget.setHorizontalScrollPosition(round_int(position.getX_0()));\n  this.widget.setVerticalScrollPosition(round_int(position.getY_0()));\n}\n;\n_.setupBustClickHandler = function setupBustClickHandler(){\n  this.removeBustClickHandler();\n  this.bustClickHandlerReg = cgguc.addNativePreviewHandler(new cggtc.TouchScroller$6(this));\n}\n;\n_.dragging = false;\n_.touching = false;\ndefineClass(2315, 1, {2381:1, 7:1, 1:1}, cggtc.TouchScroller$1);\n_.$init_360 = function $init_360(){\n}\n;\n_.onAttachOrDetach = function onAttachOrDetach(event_0){\n  if (event_0.isAttached()) {\n    this.this$01.setupBustClickHandler();\n  }\n   else {\n    this.this$01.removeBustClickHandler();\n  }\n}\n;\ndefineClass(2316, 1, $intern_170, cggtc.TouchScroller$2);\n_.$init_361 = function $init_361(){\n}\n;\n_.onTouchStart = function onTouchStart_0(event_0){\n  this.this$01.onTouchStart_0(event_0);\n}\n;\ndefineClass(2317, 1, $intern_184, cggtc.TouchScroller$3);\n_.$init_362 = function $init_362(){\n}\n;\n_.onTouchMove = function onTouchMove_0(event_0){\n  this.this$01.onTouchMove_0(event_0);\n}\n;\ndefineClass(2318, 1, $intern_185, cggtc.TouchScroller$4);\n_.$init_363 = function $init_363(){\n}\n;\n_.onTouchEnd = function onTouchEnd_0(event_0){\n  this.this$01.onTouchEnd_0(event_0);\n}\n;\ndefineClass(2319, 1, $intern_196, cggtc.TouchScroller$5);\n_.$init_364 = function $init_364(){\n}\n;\n_.onTouchCancel = function onTouchCancel_0(event_0){\n  this.this$01.onTouchCancel_0(event_0);\n}\n;\ndefineClass(2320, 1, $intern_109, cggtc.TouchScroller$6);\n_.$init_365 = function $init_365(){\n}\n;\n_.onPreviewNativeEvent = function onPreviewNativeEvent(event_0){\n  var clickPoint;\n  if (1 == event_0.getTypeInt()) {\n    clickPoint = new cggtc.Point(cggdc.$getClientX(event_0.getNativeEvent()), cggdc.$getClientY(event_0.getNativeEvent()));\n    if (this.this$01.isClickScrollTriggeringTouch(clickPoint) || this.this$01.isClickTouchPositionDuringMomentum(clickPoint)) {\n      event_0.cancel();\n      cggdc.$stopPropagation(event_0.getNativeEvent());\n      cggdc.$preventDefault(event_0.getNativeEvent());\n    }\n  }\n}\n;\ndefineClass(2312, 1, $intern_0, cggtc.TouchScroller$MomentumCommand);\n_.$init_366 = function $init_366(){\n  this.duration = new cggcc.Duration;\n  this.initialPosition = this.this$01.getWidgetScrollPosition();\n  this.lastElapsedMillis = 0;\n}\n;\n_.execute_1 = function execute_8(){\n  var cumulativeElapsedMillis, hMax, hMin, hPos, notDone, vMax, vMin, vPos;\n  if (jsNotEquals(this, this.this$01.momentumCommand)) {\n    this.finish();\n    return false;\n  }\n  cumulativeElapsedMillis = this.duration.elapsedMillis_0();\n  this.state.setElapsedMillis(cumulativeElapsedMillis - this.lastElapsedMillis);\n  this.lastElapsedMillis = cumulativeElapsedMillis;\n  this.state.setCumulativeElapsedMillis(cumulativeElapsedMillis);\n  notDone = this.this$01.momentum.updateState(this.state);\n  if (!notDone) {\n    this.finish();\n  }\n  this.this$01.setWidgetScrollPosition(this.state.getPosition());\n  hPos = round_int(this.state.getPosition().getX_0());\n  hMin = this.this$01.widget.getMinimumHorizontalScrollPosition();\n  hMax = this.this$01.widget.getMaximumHorizontalScrollPosition();\n  vMin = this.this$01.widget.getMinimumVerticalScrollPosition();\n  vMax = this.this$01.widget.getMaximumVerticalScrollPosition();\n  vPos = round_int(this.state.getPosition().getY_0());\n  if ((vMax <= vPos || vMin >= vPos) && (hMax <= hPos || hMin >= hPos)) {\n    this.finish();\n    return false;\n  }\n  return notDone;\n}\n;\n_.finish = function finish(){\n  cggtc.$clinit_TouchScroller$MomentumCommand();\n  if (isNotNull(this.windowResizeHandler)) {\n    this.windowResizeHandler.removeHandler_0();\n    this.windowResizeHandler = null;\n  }\n  if (jsEquals(this, this.this$01.momentumCommand)) {\n    this.this$01.momentumCommand = null;\n  }\n}\n;\n_.lastElapsedMillis = 0;\ndefineClass(2314, 1, $intern_108, cggtc.TouchScroller$MomentumCommand$1);\n_.$init_367 = function $init_367(){\n}\n;\n_.onResize = function onResize(event_0){\n  this.this$11.finish();\n}\n;\ndefineClass(2313, 1, $intern_0, cggtc.TouchScroller$MomentumTouchRemovalCommand);\n_.$init_368 = function $init_368(){\n}\n;\n_.execute_1 = function execute_9(){\n  var currentTime, iter, point;\n  currentTime = cggcc.currentTimeMillis();\n  iter = this.this$01.touchPositionsDuringMomentum.iterator();\n  while (iter.hasNext()) {\n    point = dynamicCast(iter.next_1(), 263);\n    if (currentTime - point.getTime_0() >= 2500) {\n      iter.remove_6();\n    }\n  }\n  return !this.this$01.touchPositionsDuringMomentum.isEmpty_0();\n}\n;\ndefineClass(263, 1, {263:1, 1:1}, cggtc.TouchScroller$TemporalPoint, cggtc.TouchScroller$TemporalPoint_0);\n_.$init_369 = function $init_369(){\n}\n;\n_.getPoint = function getPoint(){\n  return this.point;\n}\n;\n_.getTime_0 = function getTime_0(){\n  return this.time;\n}\n;\n_.setTemporalPoint = function setTemporalPoint(point, time){\n  this.point = point;\n  this.time = time;\n}\n;\n_.time = 0;\ndefineClass(6, 10, $intern_85);\n_.addAttachHandler = function addAttachHandler(handler){\n  return this.addHandler_2(handler, cggels.getType_28());\n}\n;\n_.asWidget = function asWidget(){\n  return this;\n}\n;\n_.getLayoutData = function getLayoutData(){\n  return this.layoutData;\n}\n;\n_.setLayoutData = function setLayoutData(layoutData){\n  this.layoutData = layoutData;\n}\n;\ndefineClass(537, 49, $intern_86);\n_.getWidgetTd = function getWidgetTd(w){\n  if (jsNotEquals(w.getParent_0(), this)) {\n    return null;\n  }\n  return cgguc.getParent_0(w.getElement());\n}\n;\n_.setBorderWidth = function setBorderWidth(width_0){\n  cggdc.$setPropertyString(this.table, 'border', '' + width_0);\n}\n;\n_.setCellHorizontalAlignment_1 = function setCellHorizontalAlignment_1(w, align_0){\n  var td;\n  td = this.getWidgetTd(w);\n  if (isNotNull(td)) {\n    this.setCellHorizontalAlignment(td, align_0);\n  }\n}\n;\n_.setCellWidth = function setCellWidth(w, width_0){\n  var td;\n  td = this.getWidgetTd(w);\n  if (isNotNull(td)) {\n    cggdc.$setPropertyString(td, 'width', width_0);\n  }\n}\n;\n_.setSpacing = function setSpacing(spacing){\n  this.spacing = spacing;\n  cggdc.$setPropertyInt(this.table, 'cellSpacing', spacing);\n}\n;\ndefineClass(2196, 537, $intern_86, cggucu.DockPanel);\n_.$init_424 = function $init_424(){\n  this.horzAlign = (cggucu.$clinit_HasHorizontalAlignment() , cggucu.ALIGN_DEFAULT);\n  this.vertAlign = (cggucu.$clinit_HasVerticalAlignment() , cggucu.ALIGN_TOP);\n}\n;\n_.add_6 = function add_10(widget, direction){\n  var layout;\n  if (jsEquals(direction, cggucu.CENTER_0)) {\n    if (jsEquals(widget, this.center)) {\n      return;\n    }\n     else if (isNotNull(this.center)) {\n      throw new jl.IllegalArgumentException_0('Only one CENTER widget may be added');\n    }\n  }\n  widget.removeFromParent();\n  this.getChildren().add_2(widget);\n  if (jsEquals(direction, cggucu.CENTER_0)) {\n    this.center = widget;\n  }\n  layout = new cggucu.DockPanel$LayoutData(direction);\n  widget.setLayoutData(layout);\n  this.setCellHorizontalAlignment_1(widget, this.horzAlign);\n  this.setCellVerticalAlignment_1(widget, this.vertAlign);\n  this.realizeTable();\n  this.adopt(widget);\n}\n;\n_.realizeTable = function realizeTable(){\n  var bodyElem, centerTd, child, colCount, dir_0, i_0, it, it0, layout, logicalLeftCol, logicalRightCol, northRow, row, rowCount, rows_0, southRow, td;\n  bodyElem = this.getBody();\n  while (cgguc.getChildCount(bodyElem) > 0) {\n    cggdc.$removeChild(bodyElem, cgguc.getChild(bodyElem, 0));\n  }\n  rowCount = 1;\n  colCount = 1;\n  for (it0 = this.getChildren().iterator(); it0.hasNext();) {\n    child = dynamicCast(it0.next_1(), 6);\n    dir_0 = dynamicCast(child.getLayoutData(), 298).direction_0;\n    if (jsEquals(dir_0, cggucu.NORTH) || jsEquals(dir_0, cggucu.SOUTH)) {\n      ++rowCount;\n    }\n     else if (jsEquals(dir_0, cggucu.EAST) || jsEquals(dir_0, cggucu.WEST) || jsEquals(dir_0, cggucu.LINE_START) || jsEquals(dir_0, cggucu.LINE_END)) {\n      ++colCount;\n    }\n  }\n  rows_0 = initDim(cggl.Lcom_google_gwt_user_client_ui_DockPanel$TmpRow_2_classLit, $intern_7, 678, rowCount, 0, 1);\n  for (i_0 = 0; i_0 < rowCount; ++i_0) {\n    setCheck(rows_0, i_0, new cggucu.DockPanel$TmpRow);\n    rows_0[i_0].tr = cgguc.createTR();\n    cgguc.appendChild(bodyElem, rows_0[i_0].tr);\n  }\n  logicalLeftCol = 0;\n  logicalRightCol = colCount - 1;\n  northRow = 0;\n  southRow = rowCount - 1;\n  centerTd = null;\n  for (it = this.getChildren().iterator(); it.hasNext();) {\n    child = dynamicCast(it.next_1(), 6);\n    layout = dynamicCast(child.getLayoutData(), 298);\n    td = cgguc.createTD();\n    layout.td = td;\n    cggdc.$setPropertyString(layout.td, 'align', layout.hAlign);\n    cggdc.$setProperty_0(cggdc.$getStyle(layout.td), 'verticalAlign', layout.vAlign);\n    cggdc.$setPropertyString(layout.td, 'width', layout.width_0);\n    cggdc.$setPropertyString(layout.td, 'height', layout.height_0);\n    if (jsEquals(layout.direction_0, cggucu.NORTH)) {\n      cgguc.insertChild(rows_0[northRow].tr, td, rows_0[northRow].center);\n      cgguc.appendChild(td, child.getElement());\n      cggdc.$setPropertyInt(td, 'colSpan', logicalRightCol - logicalLeftCol + 1);\n      ++northRow;\n    }\n     else if (jsEquals(layout.direction_0, cggucu.SOUTH)) {\n      cgguc.insertChild(rows_0[southRow].tr, td, rows_0[southRow].center);\n      cgguc.appendChild(td, child.getElement());\n      cggdc.$setPropertyInt(td, 'colSpan', logicalRightCol - logicalLeftCol + 1);\n      --southRow;\n    }\n     else if (jsEquals(layout.direction_0, cggucu.CENTER_0)) {\n      centerTd = td;\n    }\n     else if (this.shouldAddToLogicalLeftOfTable(layout.direction_0)) {\n      row = rows_0[northRow];\n      cgguc.insertChild(row.tr, td, row.center++);\n      cgguc.appendChild(td, child.getElement());\n      cggdc.$setPropertyInt(td, 'rowSpan', southRow - northRow + 1);\n      ++logicalLeftCol;\n    }\n     else if (this.shouldAddToLogicalRightOfTable(layout.direction_0)) {\n      row = rows_0[northRow];\n      cgguc.insertChild(row.tr, td, row.center);\n      cgguc.appendChild(td, child.getElement());\n      cggdc.$setPropertyInt(td, 'rowSpan', southRow - northRow + 1);\n      --logicalRightCol;\n    }\n  }\n  if (isNotNull(this.center)) {\n    row = rows_0[northRow];\n    cgguc.insertChild(row.tr, centerTd, row.center);\n    cgguc.appendChild(centerTd, this.center.getElement());\n  }\n}\n;\n_.remove_4 = function remove_9(w){\n  var removed;\n  removed = getClassPrototype(49).remove_4.call(this, w);\n  if (removed) {\n    if (jsEquals(w, this.center)) {\n      this.center = null;\n    }\n    this.realizeTable();\n  }\n  return removed;\n}\n;\n_.setCellHorizontalAlignment_1 = function setCellHorizontalAlignment_2(w, align_0){\n  var data_0;\n  data_0 = dynamicCast(w.getLayoutData(), 298);\n  data_0.hAlign = align_0.getTextAlignString();\n  if (isNotNull(data_0.td)) {\n    this.setCellHorizontalAlignment(data_0.td, align_0);\n  }\n}\n;\n_.setCellVerticalAlignment_1 = function setCellVerticalAlignment_2(w, align_0){\n  var data_0;\n  data_0 = dynamicCast(w.getLayoutData(), 298);\n  data_0.vAlign = align_0.getVerticalAlignString();\n  if (isNotNull(data_0.td)) {\n    this.setCellVerticalAlignment(data_0.td, align_0);\n  }\n}\n;\n_.setCellWidth = function setCellWidth_0(w, width_0){\n  var data_0;\n  data_0 = dynamicCast(w.getLayoutData(), 298);\n  data_0.width_0 = width_0;\n  if (isNotNull(data_0.td)) {\n    cggdc.$setProperty_0(cggdc.$getStyle(data_0.td), 'width', data_0.width_0);\n  }\n}\n;\n_.shouldAddToLogicalLeftOfTable = function shouldAddToLogicalLeftOfTable(widgetDirection){\n  if (jsEquals(widgetDirection, cggucu.LINE_START)) {\n    return true;\n  }\n  if (cggic.getCurrentLocale().isRTL_1()) {\n    return jsEquals(widgetDirection, cggucu.EAST);\n  }\n  return jsEquals(widgetDirection, cggucu.WEST);\n}\n;\n_.shouldAddToLogicalRightOfTable = function shouldAddToLogicalRightOfTable(widgetDirection){\n  if (jsEquals(widgetDirection, cggucu.LINE_END)) {\n    return true;\n  }\n  if (cggic.getCurrentLocale().isRTL_1()) {\n    return jsEquals(widgetDirection, cggucu.WEST);\n  }\n  return jsEquals(widgetDirection, cggucu.EAST);\n}\n;\ndefineClass(297, 1, $intern_0, cggucu.DockPanel$DockLayoutConstant);\n_.$init_425 = function $init_425(){\n}\n;\ndefineClass(298, 1, {298:1, 1:1}, cggucu.DockPanel$LayoutData);\n_.$init_426 = function $init_426(){\n  this.hAlign = (cggucu.$clinit_HasHorizontalAlignment() , cggucu.ALIGN_DEFAULT).getTextAlignString();\n  this.height_0 = '';\n  this.vAlign = (cggucu.$clinit_HasVerticalAlignment() , cggucu.ALIGN_TOP).getVerticalAlignString();\n  this.width_0 = '';\n}\n;\ndefineClass(678, 1, {678:1, 1:1}, cggucu.DockPanel$TmpRow);\n_.$init_427 = function $init_427(){\n}\n;\n_.center = 0;\ndefineClass(488, 208, $intern_92);\n_.removeAllRows = function removeAllRows(){\n  var i_0, numRows;\n  numRows = this.getRowCount();\n  for (i_0 = 0; i_0 < numRows; i_0++) {\n    this.removeRow(0);\n  }\n}\n;\ndefineClass(687, 208, $intern_92);\n_.getColumnCount = function getColumnCount(){\n  return this.numColumns;\n}\n;\ndefineClass(428, 1, $intern_113);\n_.getMaximumHorizontalScrollPosition_0 = function getMaximumHorizontalScrollPosition(scrollable){\n  return this.isRtl(scrollable)?0:cggdc.$getScrollWidth(scrollable) - cggdc.$getClientWidth(scrollable);\n}\n;\n_.getMinimumHorizontalScrollPosition_0 = function getMinimumHorizontalScrollPosition(scrollable){\n  return this.isRtl(scrollable)?cggdc.$getClientWidth(scrollable) - cggdc.$getScrollWidth(scrollable):0;\n}\n;\n_.initialize = function initialize(scrollable, container){\n}\n;\n_.isRtl = function isRtl_0(scrollable){\n  var computedStyle = $doc.defaultView.getComputedStyle(scrollable, null);\n  return computedStyle.getPropertyValue('direction') == 'rtl';\n}\n;\ndefineClass(2310, 428, $intern_113);\n_.initialize = function initialize_0(scrollable, container){\n  scrollable.__lastScrollTop = scrollable.__lastScrollLeft = 0;\n  scrollable.attachEvent('onscroll', cggucu.scrollHandler_0);\n  scrollable.attachEvent('onresize', cggucu.resizeHandler_0);\n  container.attachEvent('onresize', cggucu.resizeHandler_0);\n  container.__isScrollContainer = true;\n}\n;\n_.isRtl = function isRtl_1(scrollable){\n  return scrollable.currentStyle.direction == 'rtl';\n}\n;\ndefineClass(694, 77, {14:1, 22:1, 21:1, 306:1, 694:1, 10:1, 6:1, 16:1, 1:1}, cggucu.ScrollPanel);\n_.$init_494 = function $init_494(){\n}\n;\n_.addScrollHandler = function addScrollHandler(handler){\n  cgguc.sinkEvents_0(this.getScrollableElement(), $intern_80);\n  return this.addHandler_2(handler, cggedc.getType_23());\n}\n;\n_.getContainerElement = function getContainerElement_2(){\n  return cgguc.asOld(this.containerElem);\n}\n;\n_.getHorizontalScrollPosition = function getHorizontalScrollPosition(){\n  return cggdc.$getScrollLeft(this.getScrollableElement());\n}\n;\n_.getMaximumHorizontalScrollPosition = function getMaximumHorizontalScrollPosition_0(){\n  return cggucu.get_17().getMaximumHorizontalScrollPosition_0(this.getScrollableElement());\n}\n;\n_.getMaximumVerticalScrollPosition = function getMaximumVerticalScrollPosition(){\n  return cggdc.$getScrollHeight(this.getScrollableElement()) - cggdc.$getClientHeight(this.getScrollableElement());\n}\n;\n_.getMinimumHorizontalScrollPosition = function getMinimumHorizontalScrollPosition_0(){\n  return cggucu.get_17().getMinimumHorizontalScrollPosition_0(this.getScrollableElement());\n}\n;\n_.getMinimumVerticalScrollPosition = function getMinimumVerticalScrollPosition(){\n  return 0;\n}\n;\n_.getScrollPosition = function getScrollPosition(){\n  return cggdc.$getScrollTop(this.getScrollableElement());\n}\n;\n_.getScrollableElement = function getScrollableElement(){\n  return cgguc.asOld(this.scrollableElem);\n}\n;\n_.getVerticalScrollPosition = function getVerticalScrollPosition(){\n  return this.getScrollPosition();\n}\n;\n_.initialize_0 = function initialize_1(){\n  this.setAlwaysShowScrollBars(false);\n  cggdc.$setPosition(cggdc.$getStyle(this.scrollableElem), (cggdc.$clinit_Style$Position() , cggdc.RELATIVE));\n  cggdc.$setPosition(cggdc.$getStyle(this.containerElem), (cggdc.$clinit_Style$Position() , cggdc.RELATIVE));\n  cggdc.$setProperty_0(cggdc.$getStyle(this.scrollableElem), 'zoom', '1');\n  cggdc.$setProperty_0(cggdc.$getStyle(this.containerElem), 'zoom', '1');\n  this.setTouchScrollingDisabled(false);\n  cggucu.get_17().initialize(this.scrollableElem, this.containerElem);\n}\n;\n_.isTouchScrollingDisabled = function isTouchScrollingDisabled(){\n  return isNull(this.touchScroller);\n}\n;\n_.onAttach = function onAttach_5(){\n  getClassPrototype(6).onAttach.call(this);\n  cgguc.setEventListener_0(this.getScrollableElement(), this);\n}\n;\n_.onDetach = function onDetach_5(){\n  cgguc.setEventListener_0(this.getScrollableElement(), null);\n  getClassPrototype(6).onDetach.call(this);\n}\n;\n_.onResize_0 = function onResize_3(){\n  var child;\n  child = this.getWidget_0();\n  if (isNotNull(child) && instanceOf(child, 306)) {\n    dynamicCast(child, 306).onResize_0();\n  }\n}\n;\n_.setAlwaysShowScrollBars = function setAlwaysShowScrollBars(alwaysShow){\n  cggdc.$setOverflow(cggdc.$getStyle(this.getScrollableElement()), alwaysShow?(cggdc.$clinit_Style$Overflow() , cggdc.SCROLL):(cggdc.$clinit_Style$Overflow() , cggdc.AUTO_0));\n}\n;\n_.setHeight_0 = function setHeight_2(height){\n  getClassPrototype(10).setHeight_0.call(this, height);\n}\n;\n_.setHorizontalScrollPosition = function setHorizontalScrollPosition(position){\n  cggdc.$setScrollLeft(this.getScrollableElement(), position);\n}\n;\n_.setScrollPosition = function setScrollPosition(position){\n  cggdc.$setScrollTop(this.getScrollableElement(), position);\n}\n;\n_.setTouchScrollingDisabled = function setTouchScrollingDisabled(isDisabled){\n  if (isDisabled == this.isTouchScrollingDisabled()) {\n    return isDisabled;\n  }\n  if (isDisabled) {\n    this.touchScroller.setTargetWidget(null);\n    this.touchScroller = null;\n  }\n   else {\n    this.touchScroller = cggtc.createIfSupported_0(this);\n  }\n  return this.isTouchScrollingDisabled();\n}\n;\n_.setVerticalScrollPosition = function setVerticalScrollPosition(position){\n  this.setScrollPosition(position);\n}\n;\n_.setWidth_0 = function setWidth_2(width_0){\n  getClassPrototype(10).setWidth_0.call(this, width_0);\n}\n;\ndefineClass(1625, 1, $intern_176);\n_.actionOnEmptyCell = function actionOnEmptyCell(p0, p1, p2){\n  this.val$handler2.invoke(this, cvcm.getType_38(cggl.Lcom_vaadin_shared_ui_calendar_CalendarServerRpc_2_classLit).getMethod('actionOnEmptyCell'), initValues(getClassLiteralForArray(cggl.Ljava_lang_Object_2_classLit, 1), $intern_7, 1, 3, [p0, p1, p2]));\n}\n;\n_.actionOnEvent = function actionOnEvent(p0, p1, p2, p3){\n  this.val$handler2.invoke(this, cvcm.getType_38(cggl.Lcom_vaadin_shared_ui_calendar_CalendarServerRpc_2_classLit).getMethod('actionOnEvent'), initValues(getClassLiteralForArray(cggl.Ljava_lang_Object_2_classLit, 1), $intern_7, 1, 3, [p0, p1, p2, jl.valueOf_73(p3)]));\n}\n;\n_.backward = function backward(){\n  this.val$handler2.invoke(this, cvcm.getType_38(cggl.Lcom_vaadin_shared_ui_calendar_CalendarServerRpc_2_classLit).getMethod('backward'), initValues(getClassLiteralForArray(cggl.Ljava_lang_Object_2_classLit, 1), $intern_7, 1, 3, []));\n}\n;\n_.dateClick = function dateClick(p0){\n  this.val$handler2.invoke(this, cvcm.getType_38(cggl.Lcom_vaadin_shared_ui_calendar_CalendarServerRpc_2_classLit).getMethod('dateClick'), initValues(getClassLiteralForArray(cggl.Ljava_lang_Object_2_classLit, 1), $intern_7, 1, 3, [p0]));\n}\n;\n_.eventClick = function eventClick(p0){\n  this.val$handler2.invoke(this, cvcm.getType_38(cggl.Lcom_vaadin_shared_ui_calendar_CalendarServerRpc_2_classLit).getMethod('eventClick'), initValues(getClassLiteralForArray(cggl.Ljava_lang_Object_2_classLit, 1), $intern_7, 1, 3, [jl.valueOf_73(p0)]));\n}\n;\n_.eventMove = function eventMove(p0, p1){\n  this.val$handler2.invoke(this, cvcm.getType_38(cggl.Lcom_vaadin_shared_ui_calendar_CalendarServerRpc_2_classLit).getMethod('eventMove'), initValues(getClassLiteralForArray(cggl.Ljava_lang_Object_2_classLit, 1), $intern_7, 1, 3, [jl.valueOf_73(p0), p1]));\n}\n;\n_.eventResize = function eventResize(p0, p1, p2){\n  this.val$handler2.invoke(this, cvcm.getType_38(cggl.Lcom_vaadin_shared_ui_calendar_CalendarServerRpc_2_classLit).getMethod('eventResize'), initValues(getClassLiteralForArray(cggl.Ljava_lang_Object_2_classLit, 1), $intern_7, 1, 3, [jl.valueOf_73(p0), p1, p2]));\n}\n;\n_.forward_0 = function forward_0(){\n  this.val$handler2.invoke(this, cvcm.getType_38(cggl.Lcom_vaadin_shared_ui_calendar_CalendarServerRpc_2_classLit).getMethod('forward'), initValues(getClassLiteralForArray(cggl.Ljava_lang_Object_2_classLit, 1), $intern_7, 1, 3, []));\n}\n;\n_.rangeSelect = function rangeSelect(p0){\n  this.val$handler2.invoke(this, cvcm.getType_38(cggl.Lcom_vaadin_shared_ui_calendar_CalendarServerRpc_2_classLit).getMethod('rangeSelect'), initValues(getClassLiteralForArray(cggl.Ljava_lang_Object_2_classLit, 1), $intern_7, 1, 3, [p0]));\n}\n;\n_.scroll_1 = function scroll_1(p0){\n  this.val$handler2.invoke(this, cvcm.getType_38(cggl.Lcom_vaadin_shared_ui_calendar_CalendarServerRpc_2_classLit).getMethod('scroll'), initValues(getClassLiteralForArray(cggl.Ljava_lang_Object_2_classLit, 1), $intern_7, 1, 3, [jl.valueOf_73(p0)]));\n}\n;\n_.weekClick = function weekClick(p0){\n  this.val$handler2.invoke(this, cvcm.getType_38(cggl.Lcom_vaadin_shared_ui_calendar_CalendarServerRpc_2_classLit).getMethod('weekClick'), initValues(getClassLiteralForArray(cggl.Ljava_lang_Object_2_classLit, 1), $intern_7, 1, 3, [p0]));\n}\n;\ndefineClass(1725, 1, $intern_127);\n_.load_5 = function load_5(){\n  this.val$store2.setSuperClass(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Action_2_classLit, cggl.Ljava_lang_Object_2_classLit);\n  this.val$store2.setSuperClass(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Day_2_classLit, cggl.Ljava_lang_Object_2_classLit);\n  this.val$store2.setSuperClass(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, cggl.Ljava_lang_Object_2_classLit);\n  this.val$store2.setSuperClass(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, cggl.Lcom_vaadin_shared_AbstractComponentState_2_classLit);\n  this.val$store2.setClass('com.vaadin.ui.Calendar', cggl.Lcom_vaadin_client_ui_calendar_CalendarConnector_2_classLit);\n  this.val$store2.setConstructor(cggl.Lcom_vaadin_client_ui_VCalendar_2_classLit, new cvcm.ConnectorBundleLoaderImpl$3$1$1(this));\n  this.val$store2.setConstructor(cggl.Lcom_vaadin_client_ui_calendar_CalendarConnector_2_classLit, new cvcm.ConnectorBundleLoaderImpl$3$1$2(this));\n  this.val$store2.setConstructor(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, new cvcm.ConnectorBundleLoaderImpl$3$1$3(this));\n  this.val$store2.setConstructor(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Action_2_classLit, new cvcm.ConnectorBundleLoaderImpl$3$1$4(this));\n  this.val$store2.setConstructor(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Day_2_classLit, new cvcm.ConnectorBundleLoaderImpl$3$1$5(this));\n  this.val$store2.setConstructor(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, new cvcm.ConnectorBundleLoaderImpl$3$1$6(this));\n  this.val$store2.setReturnType(cggl.Lcom_vaadin_client_ui_calendar_CalendarConnector_2_classLit, 'getWidget', new cvcm.Type(cggl.Lcom_vaadin_client_ui_VCalendar_2_classLit));\n  this.val$store2.setReturnType(cggl.Lcom_vaadin_client_ui_calendar_CalendarConnector_2_classLit, 'getState', new cvcm.Type(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit));\n  this.loadJsBundle_1(this.val$store2);\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Action_2_classLit, 'actionKey', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'actions', new cvcm.Type_0('java.util.List', initValues(getClassLiteralForArray(cggl.Lcom_vaadin_client_metadata_Type_2_classLit, 1), $intern_171, 4, 0, [new cvcm.Type(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Action_2_classLit)])));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'allDay', new cvcm.Type(cggl.Ljava_lang_Boolean_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Action_2_classLit, 'caption', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'caption', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Day_2_classLit, 'date', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'dateFrom', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'dateTo', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'dayNames', new cvcm.Type(getClassLiteralForArray(cggl.Ljava_lang_String_2_classLit, 1)));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Day_2_classLit, 'dayOfWeek', new cvcm.Type(cggl.Ljava_lang_Integer_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'days', new cvcm.Type_0('java.util.List', initValues(getClassLiteralForArray(cggl.Lcom_vaadin_client_metadata_Type_2_classLit, 1), $intern_171, 4, 0, [new cvcm.Type(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Day_2_classLit)])));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'description', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Action_2_classLit, 'endDate', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'eventCaptionAsHtml', new cvcm.Type(cggl.Ljava_lang_Boolean_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'events', new cvcm.Type_0('java.util.List', initValues(getClassLiteralForArray(cggl.Lcom_vaadin_client_metadata_Type_2_classLit, 1), $intern_171, 4, 0, [new cvcm.Type(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit)])));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'firstDayOfWeek', new cvcm.Type(cggl.Ljava_lang_Integer_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'firstHourOfDay', new cvcm.Type(cggl.Ljava_lang_Integer_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'firstVisibleDayOfWeek', new cvcm.Type(cggl.Ljava_lang_Integer_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'format24H', new cvcm.Type(cggl.Ljava_lang_Boolean_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Action_2_classLit, 'iconKey', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'index', new cvcm.Type(cggl.Ljava_lang_Integer_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'lastHourOfDay', new cvcm.Type(cggl.Ljava_lang_Integer_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'lastVisibleDayOfWeek', new cvcm.Type(cggl.Ljava_lang_Integer_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Day_2_classLit, 'localizedDateFormat', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'monthNames', new cvcm.Type(getClassLiteralForArray(cggl.Ljava_lang_String_2_classLit, 1)));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'now', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'scroll', new cvcm.Type(cggl.Ljava_lang_Integer_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Action_2_classLit, 'startDate', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'styleName', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'timeFrom', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'timeTo', new cvcm.Type(cggl.Ljava_lang_String_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Day_2_classLit, 'week', new cvcm.Type(cggl.Ljava_lang_Integer_2_classLit));\n  this.val$store2.setPropertyType(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Day_2_classLit, 'yearOfWeek', new cvcm.Type(cggl.Ljava_lang_Integer_2_classLit));\n  this.val$store2.addOnStateChangeMethod(cggl.Lcom_vaadin_client_ui_calendar_CalendarConnector_2_classLit, new cvcm.OnStateChangeMethod(cggl.Lcom_vaadin_client_ui_AbstractComponentConnector_2_classLit, 'handleContextClickListenerChange', initValues(getClassLiteralForArray(cggl.Ljava_lang_String_2_classLit, 1), $intern_2, 2, 4, ['registeredEventListeners'])));\n}\n;\n_.loadJsBundle_1 = function loadJsBundle_1(store){\n  this.loadNativeJs_1(store);\n}\n;\n_.loadNativeJs_1 = function loadNativeJs_1(store){\n  var data_0 = {setter:function(bean, value_0){\n    bean.actionKey = value_0;\n  }\n  , getter:function(bean){\n    return bean.actionKey;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Action_2_classLit, 'actionKey', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.actions = value_0;\n  }\n  , getter:function(bean){\n    return bean.actions;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'actions', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.allDay = value_0.booleanValue();\n  }\n  , getter:function(bean){\n    return jl.valueOf_67(bean.allDay);\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'allDay', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.caption_0 = value_0;\n  }\n  , getter:function(bean){\n    return bean.caption_0;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Action_2_classLit, 'caption', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.caption_0 = value_0;\n  }\n  , getter:function(bean){\n    return bean.caption_0;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'caption', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.date = value_0;\n  }\n  , getter:function(bean){\n    return bean.date;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Day_2_classLit, 'date', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.dateFrom = value_0;\n  }\n  , getter:function(bean){\n    return bean.dateFrom;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'dateFrom', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.dateTo = value_0;\n  }\n  , getter:function(bean){\n    return bean.dateTo;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'dateTo', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.dayNames = value_0;\n  }\n  , getter:function(bean){\n    return bean.dayNames;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'dayNames', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.dayOfWeek = value_0.intValue();\n  }\n  , getter:function(bean){\n    return jl.valueOf_73(bean.dayOfWeek);\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Day_2_classLit, 'dayOfWeek', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.days = value_0;\n  }\n  , getter:function(bean){\n    return bean.days;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'days', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.description = value_0;\n  }\n  , getter:function(bean){\n    return bean.description;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'description', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.endDate = value_0;\n  }\n  , getter:function(bean){\n    return bean.endDate;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Action_2_classLit, 'endDate', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.eventCaptionAsHtml = value_0.booleanValue();\n  }\n  , getter:function(bean){\n    return jl.valueOf_67(bean.eventCaptionAsHtml);\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'eventCaptionAsHtml', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.events = value_0;\n  }\n  , getter:function(bean){\n    return bean.events;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'events', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.firstDayOfWeek = value_0.intValue();\n  }\n  , getter:function(bean){\n    return jl.valueOf_73(bean.firstDayOfWeek);\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'firstDayOfWeek', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.firstHourOfDay = value_0.intValue();\n  }\n  , getter:function(bean){\n    return jl.valueOf_73(bean.firstHourOfDay);\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'firstHourOfDay', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.firstVisibleDayOfWeek = value_0.intValue();\n  }\n  , getter:function(bean){\n    return jl.valueOf_73(bean.firstVisibleDayOfWeek);\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'firstVisibleDayOfWeek', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.format24H = value_0.booleanValue();\n  }\n  , getter:function(bean){\n    return jl.valueOf_67(bean.format24H);\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'format24H', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.iconKey = value_0;\n  }\n  , getter:function(bean){\n    return bean.iconKey;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Action_2_classLit, 'iconKey', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.index_0 = value_0.intValue();\n  }\n  , getter:function(bean){\n    return jl.valueOf_73(bean.index_0);\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'index', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.lastHourOfDay = value_0.intValue();\n  }\n  , getter:function(bean){\n    return jl.valueOf_73(bean.lastHourOfDay);\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'lastHourOfDay', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.lastVisibleDayOfWeek = value_0.intValue();\n  }\n  , getter:function(bean){\n    return jl.valueOf_73(bean.lastVisibleDayOfWeek);\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'lastVisibleDayOfWeek', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.localizedDateFormat = value_0;\n  }\n  , getter:function(bean){\n    return bean.localizedDateFormat;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Day_2_classLit, 'localizedDateFormat', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.monthNames = value_0;\n  }\n  , getter:function(bean){\n    return bean.monthNames;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'monthNames', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.now_0 = value_0;\n  }\n  , getter:function(bean){\n    return bean.now_0;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'now', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.scroll_0 = value_0.intValue();\n  }\n  , getter:function(bean){\n    return jl.valueOf_73(bean.scroll_0);\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState_2_classLit, 'scroll', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.startDate = value_0;\n  }\n  , getter:function(bean){\n    return bean.startDate;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Action_2_classLit, 'startDate', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.styleName = value_0;\n  }\n  , getter:function(bean){\n    return bean.styleName;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'styleName', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.timeFrom = value_0;\n  }\n  , getter:function(bean){\n    return bean.timeFrom;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'timeFrom', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.timeTo = value_0;\n  }\n  , getter:function(bean){\n    return bean.timeTo;\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Event_2_classLit, 'timeTo', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.week = value_0.intValue();\n  }\n  , getter:function(bean){\n    return jl.valueOf_73(bean.week);\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Day_2_classLit, 'week', data_0);\n  var data_0 = {setter:function(bean, value_0){\n    bean.yearOfWeek = value_0.intValue();\n  }\n  , getter:function(bean){\n    return jl.valueOf_73(bean.yearOfWeek);\n  }\n  };\n  store.setPropertyData(cggl.Lcom_vaadin_shared_ui_calendar_CalendarState$Day_2_classLit, 'yearOfWeek', data_0);\n}\n;\n_.onSuccess_1 = function onSuccess_7(){\n  this.load_5();\n  cvcm.get_30().setLoaded_0(this.this$11.getName());\n}\n;\ndefineClass(1727, 1, $intern_172, cvcm.ConnectorBundleLoaderImpl$3$1$1);\n_.$init_1187 = function $init_1187(){\n}\n;\n_.invoke_0 = function invoke_253(target, params){\n  return new cvcu.VCalendar;\n}\n;\ndefineClass(1728, 1, $intern_172, cvcm.ConnectorBundleLoaderImpl$3$1$2);\n_.$init_1188 = function $init_1188(){\n}\n;\n_.invoke_0 = function invoke_254(target, params){\n  return new cvcuc.CalendarConnector;\n}\n;\ndefineClass(1729, 1, $intern_172, cvcm.ConnectorBundleLoaderImpl$3$1$3);\n_.$init_1189 = function $init_1189(){\n}\n;\n_.invoke_0 = function invoke_255(target, params){\n  return new cvsuc.CalendarState;\n}\n;\ndefineClass(1730, 1, $intern_172, cvcm.ConnectorBundleLoaderImpl$3$1$4);\n_.$init_1190 = function $init_1190(){\n}\n;\n_.invoke_0 = function invoke_256(target, params){\n  return new cvsuc.CalendarState$Action;\n}\n;\ndefineClass(1731, 1, $intern_172, cvcm.ConnectorBundleLoaderImpl$3$1$5);\n_.$init_1191 = function $init_1191(){\n}\n;\n_.invoke_0 = function invoke_257(target, params){\n  return new cvsuc.CalendarState$Day;\n}\n;\ndefineClass(1732, 1, $intern_172, cvcm.ConnectorBundleLoaderImpl$3$1$6);\n_.$init_1192 = function $init_1192(){\n}\n;\n_.invoke_0 = function invoke_258(target, params){\n  return new cvsuc.CalendarState$Event;\n}\n;\ndefineClass(2224, 55, $intern_189);\n_.$init_1250 = function $init_1250(){\n}\n;\n_.addKeyDownHandler = function addKeyDownHandler_3(handler){\n  return this.addDomHandler(handler, cggedc.getType_14());\n}\n;\n_.focus_0 = function focus_10(){\n  this.setFocus(true);\n}\n;\n_.setFocus = function setFocus_10(focus_0){\n  if (focus_0) {\n    cggucui.getFocusImplForPanel().focus_1(this.getElement());\n  }\n   else {\n    cggucui.getFocusImplForPanel().blur_2(this.getElement());\n  }\n}\n;\ndefineClass(649, 125, $intern_287, cvcu.VCalendar);\n_.$init_1290 = function $init_1290(){\n  this.outer = new cggucu.DockPanel;\n  this.rangeSelectAllowed = true;\n  this.rangeMoveAllowed = true;\n  this.eventResizeAllowed = true;\n  this.eventMoveAllowed = true;\n  this.nameToolbar = new cvcucs.SimpleDayToolbar;\n  this.dayToolbar = new cvcucs.DayToolbar(this);\n  this.intWidth = 0;\n  this.intHeight = 0;\n  this.dateformat_datetime = cggic.getFormat('yyyy-MM-dd HH:mm:ss');\n  this.dateformat_date = cggic.getFormat('yyyy-MM-dd');\n  this.time12format_date = cggic.getFormat('h:mm a');\n  this.time24format_date = cggic.getFormat('HH:mm');\n  this.readOnly_0 = false;\n  this.disabled_0 = false;\n  this.isHeightUndefined = false;\n  this.isWidthUndefined = false;\n  this.forwardNavigationEnabled = true;\n  this.backwardNavigationEnabled = true;\n  this.eventCaptionAsHtml = false;\n}\n;\n_.addEventToMonthGrid = function addEventToMonthGrid(e, renderImmediately){\n  var cell, d, dayCells, eventAdded, eventMoving, inProgress, row, sdc, sdc$iterator, sdc$iterator0, timeCells, to, when;\n  when = e.getStart();\n  to = e.getEnd();\n  eventAdded = false;\n  inProgress = false;\n  eventMoving = false;\n  dayCells = new ju.ArrayList;\n  timeCells = new ju.ArrayList;\n  for (row = 0; row < this.monthGrid.getRowCount(); row++) {\n    if (eventAdded) {\n      break;\n    }\n    for (cell = 0; cell < this.monthGrid.getCellCount(row); cell++) {\n      sdc = dynamicCast(this.monthGrid.getWidget_1(row, cell), 137);\n      if (this.isEventInDay(when, to, sdc.getDate_1()) && this.isEventInDayWithTime(when, to, sdc.getDate_1(), e.getEndTime(), e.isAllDay())) {\n        if (!eventMoving) {\n          eventMoving = isNotNull(sdc.getMoveEvent());\n        }\n        d = e.getRangeInMilliseconds();\n        if (gt(d, {l:0, m:0, h:0}) && lte(d, {l:2513920, m:20, h:0}) && !e.isAllDay()) {\n          timeCells.add_7(sdc);\n        }\n         else {\n          dayCells.add_7(sdc);\n        }\n        inProgress = true;\n        continue;\n      }\n       else if (inProgress) {\n        eventAdded = true;\n        inProgress = false;\n        break;\n      }\n    }\n  }\n  this.updateEventSlotIndex(e, dayCells);\n  this.updateEventSlotIndex(e, timeCells);\n  for (sdc$iterator0 = dayCells.iterator(); sdc$iterator0.hasNext();) {\n    sdc = dynamicCast(sdc$iterator0.next_1(), 137);\n    sdc.addCalendarEvent(e);\n  }\n  for (sdc$iterator = timeCells.iterator(); sdc$iterator.hasNext();) {\n    sdc = dynamicCast(sdc$iterator.next_1(), 137);\n    sdc.addCalendarEvent(e);\n  }\n  if (renderImmediately) {\n    this.reDrawAllMonthEvents(!eventMoving);\n  }\n}\n;\n_.blockSelect = function blockSelect(e){\n  e.onselectstart = function(){\n    return false;\n  }\n  ;\n  e.ondragstart = function(){\n    return false;\n  }\n  ;\n}\n;\n_.getBackwardListener = function getBackwardListener(){\n  return this.backwardListener;\n}\n;\n_.getDateClickListener = function getDateClickListener(){\n  return this.dateClickListener;\n}\n;\n_.getDateFormat = function getDateFormat_0(){\n  return this.dateformat_date;\n}\n;\n_.getDateTimeFormat = function getDateTimeFormat(){\n  return this.dateformat_datetime;\n}\n;\n_.getDayNames = function getDayNames_0(){\n  return this.dayNames;\n}\n;\n_.getDropHandler = function getDropHandler(){\n  return this.dropHandler;\n}\n;\n_.getDropHandler_0 = function getDropHandler_0(){\n  return this.getDropHandler();\n}\n;\n_.getEventClickListener = function getEventClickListener(){\n  return this.eventClickListener;\n}\n;\n_.getEventMovedListener = function getEventMovedListener(){\n  return this.eventMovedListener;\n}\n;\n_.getEventResizeListener = function getEventResizeListener(){\n  return this.eventResizeListener;\n}\n;\n_.getFirstDayNumber = function getFirstDayNumber(){\n  return this.firstDay;\n}\n;\n_.getFirstHourOfTheDay = function getFirstHourOfTheDay(){\n  return this.firstHour;\n}\n;\n_.getForwardListener = function getForwardListener(){\n  return this.forwardListener;\n}\n;\n_.getLastDayNumber = function getLastDayNumber(){\n  return this.lastDay;\n}\n;\n_.getLastHourOfTheDay = function getLastHourOfTheDay(){\n  return this.lastHour;\n}\n;\n_.getMonthGrid = function getMonthGrid(){\n  return this.monthGrid;\n}\n;\n_.getMonthNames = function getMonthNames_0(){\n  return this.monthNames;\n}\n;\n_.getMouseEventListener = function getMouseEventListener(){\n  return this.mouseEventListener;\n}\n;\n_.getRangeSelectListener = function getRangeSelectListener(){\n  return this.rangeSelectListener;\n}\n;\n_.getScrollListener = function getScrollListener(){\n  return this.scrollListener;\n}\n;\n_.getTimeFormat = function getTimeFormat(){\n  if (this.is24HFormat()) {\n    return this.time24format_date;\n  }\n  return this.time12format_date;\n}\n;\n_.getWeekClickListener = function getWeekClickListener(){\n  return this.weekClickListener;\n}\n;\n_.getWeekGrid = function getWeekGrid(){\n  return this.weekGrid;\n}\n;\n_.is24HFormat = function is24HFormat(){\n  return this.format;\n}\n;\n_.isBackwardNavigationEnabled = function isBackwardNavigationEnabled(){\n  return this.backwardNavigationEnabled;\n}\n;\n_.isDisabled = function isDisabled_0(){\n  return this.disabled_0;\n}\n;\n_.isDisabledOrReadOnly = function isDisabledOrReadOnly(){\n  return this.disabled_0 || this.readOnly_0;\n}\n;\n_.isEventCaptionAsHtml = function isEventCaptionAsHtml(){\n  return this.eventCaptionAsHtml;\n}\n;\n_.isEventInDay = function isEventInDay(eventWhen, eventTo, gridDate){\n  if (eventWhen.compareTo_1(gridDate) <= 0 && eventTo.compareTo_1(gridDate) >= 0) {\n    return true;\n  }\n  return false;\n}\n;\n_.isEventInDayWithTime = function isEventInDayWithTime(from, to, date, endTime, isAllDay){\n  return isAllDay || !(to.getDay_0() == date.getDay_0() && from.getDay_0() != to.getDay_0() && cvcu.isMidnight(endTime));\n}\n;\n_.isEventMoveAllowed = function isEventMoveAllowed(){\n  return this.eventMoveAllowed;\n}\n;\n_.isEventResizeAllowed = function isEventResizeAllowed(){\n  return this.eventResizeAllowed;\n}\n;\n_.isForwardNavigationEnabled = function isForwardNavigationEnabled(){\n  return this.forwardNavigationEnabled;\n}\n;\n_.isRangeSelectAllowed = function isRangeSelectAllowed(){\n  return this.rangeSelectAllowed;\n}\n;\n_.isSlotEmpty = function isSlotEmpty(addedEvent, slotIndex, cells_0){\n  var e, sdc, sdc$iterator;\n  for (sdc$iterator = cells_0.iterator(); sdc$iterator.hasNext();) {\n    sdc = dynamicCast(sdc$iterator.next_1(), 137);\n    e = sdc.getCalendarEvent_0(slotIndex);\n    if (isNotNull(e) && !e.equals$(addedEvent)) {\n      return false;\n    }\n  }\n  return true;\n}\n;\n_.reDrawAllMonthEvents = function reDrawAllMonthEvents(clearCells){\n  var cell, row, sdc;\n  for (row = 0; row < this.monthGrid.getRowCount(); row++) {\n    for (cell = 0; cell < this.monthGrid.getCellCount(row); cell++) {\n      sdc = dynamicCast(this.monthGrid.getWidget_1(row, cell), 137);\n      sdc.reDraw(clearCells);\n    }\n  }\n}\n;\n_.recalculateHeights = function recalculateHeights(){\n  if (isNotNull(this.monthGrid)) {\n    if (this.intHeight == -1) {\n      this.monthGrid.addStyleDependentName('sizedheight');\n    }\n     else {\n      this.monthGrid.removeStyleDependentName('sizedheight');\n    }\n    this.monthGrid.updateCellSizes(this.intWidth - this.weekToolbar.getOffsetWidth(), this.intHeight - this.nameToolbar.getOffsetHeight());\n    this.weekToolbar.setHeightPX_1(this.intHeight == -1?this.intHeight:this.intHeight - this.nameToolbar.getOffsetHeight());\n  }\n   else if (isNotNull(this.weekGrid)) {\n    this.weekGrid.setHeightPX_1(this.intHeight == -1?this.intHeight:this.intHeight - this.weeklyLongEvents.getOffsetHeight() - this.dayToolbar.getOffsetHeight());\n  }\n}\n;\n_.recalculateWidths = function recalculateWidths(){\n  if (!this.isWidthUndefined) {\n    this.nameToolbar.setWidthPX(this.intWidth);\n    this.dayToolbar.setWidthPX(this.intWidth);\n    if (isNotNull(this.monthGrid)) {\n      this.monthGrid.updateCellSizes(this.intWidth - this.weekToolbar.getOffsetWidth(), this.intHeight - this.nameToolbar.getOffsetHeight());\n    }\n     else if (isNotNull(this.weekGrid)) {\n      this.weekGrid.setWidthPX(this.intWidth);\n      this.weeklyLongEvents.setWidthPX(this.weekGrid.getInternalWidth());\n    }\n  }\n   else {\n    this.dayToolbar.setWidthPX(this.intWidth);\n    this.nameToolbar.setWidthPX(this.intWidth);\n    if (isNotNull(this.monthGrid)) {\n      if (this.intWidth == -1) {\n        this.monthGrid.addStyleDependentName('sizedwidth');\n      }\n       else {\n        this.monthGrid.removeStyleDependentName('sizedwidth');\n      }\n    }\n     else if (isNotNull(this.weekGrid)) {\n      this.weekGrid.setWidthPX(this.intWidth);\n      this.weeklyLongEvents.setWidthPX(this.weekGrid.getInternalWidth());\n    }\n  }\n}\n;\n_.removeMonthEvent = function removeMonthEvent(target, repaintImmediately){\n  var cell, row, sdc;\n  if (isNotNull(target) && target.getSlotIndex() >= 0) {\n    for (row = 0; row < this.monthGrid.getRowCount(); row++) {\n      for (cell = 0; cell < this.monthGrid.getCellCount(row); cell++) {\n        sdc = dynamicCast(this.monthGrid.getWidget_1(row, cell), 137);\n        if (isNull(sdc)) {\n          return;\n        }\n        sdc.removeEvent_0(target, repaintImmediately);\n      }\n    }\n  }\n}\n;\n_.set24HFormat = function set24HFormat(format){\n  this.format = format;\n}\n;\n_.setBackwardNavigationEnabled = function setBackwardNavigationEnabled(enabled){\n  this.backwardNavigationEnabled = enabled;\n}\n;\n_.setDayNames = function setDayNames(names){\n  this.dayNames = names;\n}\n;\n_.setDisabled = function setDisabled(disabled){\n  this.disabled_0 = disabled;\n}\n;\n_.setDropHandler = function setDropHandler(dropHandler){\n  this.dropHandler = dropHandler;\n}\n;\n_.setEventCaptionAsHtml = function setEventCaptionAsHtml(eventCaptionAsHtml){\n  this.eventCaptionAsHtml = eventCaptionAsHtml;\n}\n;\n_.setEventMoveAllowed = function setEventMoveAllowed(eventMoveAllowed){\n  this.eventMoveAllowed = eventMoveAllowed;\n}\n;\n_.setEventResizeAllowed = function setEventResizeAllowed(eventResizeAllowed){\n  this.eventResizeAllowed = eventResizeAllowed;\n}\n;\n_.setFirstDayNumber = function setFirstDayNumber(dayNumber){\n  this.firstDay = dayNumber;\n}\n;\n_.setFirstHourOfTheDay = function setFirstHourOfTheDay(hour){\n  this.firstHour = hour;\n}\n;\n_.setForwardNavigationEnabled = function setForwardNavigationEnabled(enabled){\n  this.forwardNavigationEnabled = enabled;\n}\n;\n_.setLastDayNumber = function setLastDayNumber(dayNumber){\n  this.lastDay = dayNumber;\n}\n;\n_.setLastHourOfTheDay = function setLastHourOfTheDay(hour){\n  this.lastHour = hour;\n}\n;\n_.setListener = function setListener(listener){\n  this.backwardListener = listener;\n}\n;\n_.setListener_0 = function setListener_0(listener){\n  this.dateClickListener = listener;\n}\n;\n_.setListener_1 = function setListener_1(listener){\n  this.eventClickListener = listener;\n}\n;\n_.setListener_2 = function setListener_2(eventMovedListener){\n  this.eventMovedListener = eventMovedListener;\n}\n;\n_.setListener_3 = function setListener_3(eventResizeListener){\n  this.eventResizeListener = eventResizeListener;\n}\n;\n_.setListener_4 = function setListener_4(listener){\n  this.forwardListener = listener;\n}\n;\n_.setListener_5 = function setListener_5(mouseEventListener){\n  this.mouseEventListener = mouseEventListener;\n}\n;\n_.setListener_6 = function setListener_6(listener){\n  this.rangeSelectListener = listener;\n}\n;\n_.setListener_7 = function setListener_7(scrollListener){\n  this.scrollListener = scrollListener;\n}\n;\n_.setListener_8 = function setListener_8(listener){\n  this.weekClickListener = listener;\n}\n;\n_.setMonthNames = function setMonthNames(names){\n  this.monthNames = names;\n}\n;\n_.setRangeMoveAllowed = function setRangeMoveAllowed(rangeMoveAllowed){\n  this.rangeMoveAllowed = rangeMoveAllowed;\n}\n;\n_.setRangeSelectAllowed = function setRangeSelectAllowed(rangeSelectAllowed){\n  this.rangeSelectAllowed = rangeSelectAllowed;\n}\n;\n_.setReadOnly = function setReadOnly_0(readOnly){\n  this.readOnly_0 = readOnly;\n}\n;\n_.setSizeForChildren = function setSizeForChildren(newWidth, newHeight){\n  this.intWidth = newWidth;\n  this.intHeight = newHeight;\n  this.isWidthUndefined = this.intWidth == -1;\n  this.dayToolbar.setVerticalSized(this.isHeightUndefined);\n  this.dayToolbar.setHorizontalSized(this.isWidthUndefined);\n  this.recalculateWidths();\n  this.recalculateHeights();\n}\n;\n_.sortEventsByDuration = function sortEventsByDuration(events){\n  var sorted;\n  sorted = dynamicCast(events.toArray_0(initDim(cggl.Lcom_vaadin_client_ui_calendar_schedule_CalendarEvent_2_classLit, $intern_288, 260, events.size_1(), 0, 1)), 2340);\n  ju.sort_4(sorted, cvcu.getEventComparator());\n  return sorted;\n}\n;\n_.updateEventSlotIndex = function updateEventSlotIndex(e, cells_0){\n  var i_0, newSlot, sdc, sdc$iterator, slot;\n  if (cells_0.isEmpty_0()) {\n    return;\n  }\n  if (e.getSlotIndex() == -1) {\n    newSlot = -1;\n    for (sdc$iterator = cells_0.iterator(); sdc$iterator.hasNext();) {\n      sdc = dynamicCast(sdc$iterator.next_1(), 137);\n      slot = sdc.getEventCount();\n      if (slot > newSlot) {\n        newSlot = slot;\n      }\n    }\n    newSlot++;\n    for (i_0 = 0; i_0 < newSlot; i_0++) {\n      if (this.isSlotEmpty(e, i_0, cells_0)) {\n        newSlot = i_0;\n        break;\n      }\n    }\n    e.setSlotIndex(newSlot);\n  }\n}\n;\n_.updateEventToMonthGrid = function updateEventToMonthGrid(changedEvent){\n  this.removeMonthEvent(changedEvent, true);\n  changedEvent.setSlotIndex(-1);\n  this.addEventToMonthGrid(changedEvent, true);\n}\n;\n_.updateEventsToMonthGrid = function updateEventsToMonthGrid(events, drawImmediately){\n  var e, e$array, e$index, e$max;\n  for (e$array = this.sortEventsByDuration(events) , e$index = 0 , e$max = e$array.length; e$index < e$max; ++e$index) {\n    e = e$array[e$index];\n    this.addEventToMonthGrid(e, false);\n  }\n}\n;\n_.updateEventsToWeekGrid = function updateEventsToWeekGrid(events){\n  var allDayLong, belowDayLong, e, e$array, e$index, e$iterator, e$max;\n  allDayLong = new ju.ArrayList;\n  belowDayLong = new ju.ArrayList;\n  for (e$array = events , e$index = 0 , e$max = e$array.length; e$index < e$max; ++e$index) {\n    e = e$array[e$index];\n    if (e.isAllDay()) {\n      allDayLong.add_7(e);\n    }\n     else {\n      belowDayLong.add_7(e);\n    }\n  }\n  this.weeklyLongEvents.addEvents(allDayLong);\n  for (e$iterator = belowDayLong.iterator(); e$iterator.hasNext();) {\n    e = dynamicCast(e$iterator.next_1(), 260);\n    this.weekGrid.addEvent_1(e);\n  }\n}\n;\n_.updateMonthGrid = function updateMonthGrid(daysCount, days, today){\n  var cell, columns, d, date, day, day$iterator, dayOfMonth, dayOfWeek, firstDayFound, lastDayFound, monthNameDrawn, pos, week, x_0, y_0;\n  columns = this.getLastDayNumber() - this.getFirstDayNumber() + 1;\n  this.rows_0 = round_int(jl.ceil_0(daysCount / 7));\n  this.monthGrid = new cvcucs.MonthGrid(this, this.rows_0, columns);\n  this.monthGrid.setEnabled(!this.isDisabledOrReadOnly());\n  this.weekToolbar.removeAllRows();\n  pos = 0;\n  monthNameDrawn = true;\n  firstDayFound = false;\n  lastDayFound = false;\n  for (day$iterator = days.iterator(); day$iterator.hasNext();) {\n    day = dynamicCast(day$iterator.next_1(), 507);\n    date = day.getDate_2();\n    d = this.dateformat_date.parse_1(date);\n    dayOfWeek = day.getDayOfWeek();\n    week = day.getWeek();\n    dayOfMonth = d.getDate_0();\n    if (dayOfMonth == 1) {\n      monthNameDrawn = false;\n      if (firstDayFound) {\n        lastDayFound = true;\n      }\n      firstDayFound = true;\n    }\n    if (dayOfWeek < this.getFirstDayNumber() || dayOfWeek > this.getLastDayNumber()) {\n      continue;\n    }\n    y_0 = narrow_int(pos / columns);\n    x_0 = pos - y_0 * columns;\n    if (x_0 == 0 && daysCount > 7) {\n      this.weekToolbar.addWeek(week, day.getYearOfWeek());\n    }\n    cell = new cvcucs.SimpleDayCell(this, y_0, x_0);\n    cell.setMonthGrid(this.monthGrid);\n    cell.setDate_1(d);\n    cell.addDomHandler(new cvcu.VCalendar$1(this, cell), cggedc.getType_11());\n    if (!firstDayFound) {\n      cell.addStyleDependentName('prev-month');\n    }\n     else if (lastDayFound) {\n      cell.addStyleDependentName('next-month');\n    }\n    if (dayOfMonth >= 1 && !monthNameDrawn) {\n      cell.setMonthNameVisible(true);\n      monthNameDrawn = true;\n    }\n    if (today.getDate_0() == dayOfMonth && today.getYear_0() == d.getYear_0() && today.getMonth_0() == d.getMonth_0()) {\n      cell.setToday_0(true);\n    }\n    this.monthGrid.setWidget_0(y_0, x_0, cell);\n    pos++;\n  }\n}\n;\n_.updateMonthView = function updateMonthView(firstDayOfWeek, today, daysInMonth, events, days){\n  var dayNames, daysPerWeek, firstDay, i_0, j, lastDay, realDayNames;\n  while (this.outer.getWidgetCount() > 0) {\n    this.outer.remove_5(0);\n  }\n  firstDay = this.getFirstDayNumber();\n  lastDay = this.getLastDayNumber();\n  daysPerWeek = lastDay - firstDay + 1;\n  j = 0;\n  dayNames = this.getDayNames();\n  realDayNames = initDim(cggl.Ljava_lang_String_2_classLit, $intern_2, 2, daysPerWeek, 4, 1);\n  if (firstDayOfWeek == 2) {\n    for (i_0 = firstDay; i_0 < lastDay + 1; i_0++) {\n      if (i_0 == 7) {\n        realDayNames[j++] = dayNames[0];\n      }\n       else {\n        realDayNames[j++] = dayNames[i_0];\n      }\n    }\n  }\n   else {\n    for (i_0 = firstDay - 1; i_0 < lastDay; i_0++) {\n      realDayNames[j++] = dayNames[i_0];\n    }\n  }\n  this.nameToolbar.setDayNames(realDayNames);\n  this.weeklyLongEvents = null;\n  this.weekGrid = null;\n  this.updateMonthGrid(daysInMonth, days, today);\n  this.outer.add_6(this.nameToolbar, (cggucu.$clinit_DockPanel() , cggucu.NORTH));\n  this.outer.add_6(this.weekToolbar, (cggucu.$clinit_DockPanel() , cggucu.WEST));\n  this.weekToolbar.updateCellHeights();\n  this.outer.add_6(this.monthGrid, (cggucu.$clinit_DockPanel() , cggucu.CENTER_0));\n  this.updateEventsToMonthGrid(events, false);\n}\n;\n_.updateWeekGrid = function updateWeekGrid(daysCount, days, today, realDayNames){\n  var d, date, day, day$iterator, dayOfMonth, dayOfWeek, isToday, localized_date_format;\n  this.weekGrid.setFirstHour(this.getFirstHourOfTheDay());\n  this.weekGrid.setLastHour(this.getLastHourOfTheDay());\n  this.weekGrid.getTimeBar().updateTimeBar(this.is24HFormat());\n  this.dayToolbar.clear_1();\n  this.dayToolbar.addBackButton();\n  this.dayToolbar.setVerticalSized(this.isHeightUndefined);\n  this.dayToolbar.setHorizontalSized(this.isWidthUndefined);\n  this.weekGrid.clearDates();\n  this.weekGrid.setDisabled(this.isDisabledOrReadOnly());\n  for (day$iterator = days.iterator(); day$iterator.hasNext();) {\n    day = dynamicCast(day$iterator.next_1(), 507);\n    date = day.getDate_2();\n    localized_date_format = day.getLocalizedDateFormat();\n    d = this.dateformat_date.parse_1(date);\n    dayOfWeek = day.getDayOfWeek();\n    if (dayOfWeek < this.getFirstDayNumber() || dayOfWeek > this.getLastDayNumber()) {\n      continue;\n    }\n    isToday = false;\n    dayOfMonth = d.getDate_0();\n    if (today.getDate_0() == dayOfMonth && today.getYear_0() == d.getYear_0() && today.getMonth_0() == d.getMonth_0()) {\n      isToday = true;\n    }\n    this.dayToolbar.add_12(realDayNames[dayOfWeek - 1], date, localized_date_format, isToday?'today':null);\n    this.weeklyLongEvents.addDate(d);\n    this.weekGrid.addDate(d);\n    if (isToday) {\n      this.weekGrid.setToday_1(d, today);\n    }\n  }\n  this.dayToolbar.addNextButton();\n}\n;\n_.updateWeekView = function updateWeekView(scroll_0, today, daysInMonth, firstDayOfWeek, events, days){\n  var i_0, j, realDayNames;\n  while (this.outer.getWidgetCount() > 0) {\n    this.outer.remove_5(0);\n  }\n  this.monthGrid = null;\n  realDayNames = initDim(cggl.Ljava_lang_String_2_classLit, $intern_2, 2, this.getDayNames().length, 4, 1);\n  j = 0;\n  if (firstDayOfWeek == 2) {\n    for (i_0 = 1; i_0 < this.getDayNames().length; i_0++) {\n      realDayNames[j++] = this.getDayNames()[i_0];\n    }\n    realDayNames[j] = this.getDayNames()[0];\n  }\n   else {\n    for (i_0 = 0; i_0 < this.getDayNames().length; i_0++) {\n      realDayNames[j++] = this.getDayNames()[i_0];\n    }\n  }\n  this.weeklyLongEvents = new cvcucs.WeeklyLongEvents(this);\n  if (isNull(this.weekGrid)) {\n    this.weekGrid = new cvcucs.WeekGrid(this, this.is24HFormat());\n  }\n  this.updateWeekGrid(daysInMonth, days, today, realDayNames);\n  this.updateEventsToWeekGrid(this.sortEventsByDuration(events));\n  this.outer.add_6(this.dayToolbar, (cggucu.$clinit_DockPanel() , cggucu.NORTH));\n  this.outer.add_6(this.weeklyLongEvents, (cggucu.$clinit_DockPanel() , cggucu.NORTH));\n  this.outer.add_6(this.weekGrid, (cggucu.$clinit_DockPanel() , cggucu.SOUTH));\n  this.weekGrid.setVerticalScrollPosition(scroll_0);\n}\n;\ndefineClass(2123, 1, $intern_183, cvcu.VCalendar$1);\n_.$init_1291 = function $init_1291(){\n}\n;\n_.onContextMenu = function onContextMenu_1(event_0){\n  if (isNotNull(this.this$01.mouseEventListener)) {\n    event_0.preventDefault_0();\n    event_0.stopPropagation_0();\n    this.this$01.mouseEventListener.contextMenu_0(event_0, this.val$cell2);\n  }\n}\n;\ndefineClass(2124, 1, $intern_5, cvcu.VCalendar$2);\n_.$init_1292 = function $init_1292(){\n}\n;\n_.compare_1 = function compare_3(o1, o2){\n  var d1, d2, r;\n  if (o1.isAllDay() != o2.isAllDay()) {\n    if (o2.isAllDay()) {\n      return 1;\n    }\n    return -1;\n  }\n  d1 = jl.valueOf_76(o1.getRangeInMilliseconds());\n  d2 = jl.valueOf_76(o2.getRangeInMilliseconds());\n  r = 0;\n  if (!d1.equals$(jl.valueOf_76({l:0, m:0, h:0})) && !d2.equals$(jl.valueOf_76({l:0, m:0, h:0}))) {\n    r = d2.compareTo_8(d1);\n    return r == 0?dynamicCast(jl.valueOf_73(o2.getIndex()), 43).compareTo_7(jl.valueOf_73(o1.getIndex())):r;\n  }\n  if (d2.equals$(jl.valueOf_76({l:0, m:0, h:0})) && d1.equals$(jl.valueOf_76({l:0, m:0, h:0}))) {\n    return dynamicCast(jl.valueOf_73(o2.getIndex()), 43).compareTo_7(jl.valueOf_73(o1.getIndex()));\n  }\n   else if (d2.equals$(jl.valueOf_76({l:0, m:0, h:0})) && gte_0(d1.longValue(), {l:2513920, m:20, h:0})) {\n    return -1;\n  }\n   else if (d2.equals$(jl.valueOf_76({l:0, m:0, h:0})) && lt(d1.longValue(), {l:2513920, m:20, h:0})) {\n    return 1;\n  }\n   else if (d1.equals$(jl.valueOf_76({l:0, m:0, h:0})) && gte_0(d2.longValue(), {l:2513920, m:20, h:0})) {\n    return 1;\n  }\n   else if (d1.equals$(jl.valueOf_76({l:0, m:0, h:0})) && lt(d2.longValue(), {l:2513920, m:20, h:0})) {\n    return -1;\n  }\n  r = d2.compareTo_8(d1);\n  return r == 0?dynamicCast(jl.valueOf_73(o2.getIndex()), 43).compareTo_7(jl.valueOf_73(o1.getIndex())):r;\n}\n;\n_.compare_0 = function compare_4(o1, o2){\n  return this.compare_1(dynamicCast(o1, 260), dynamicCast(o2, 260));\n}\n;\ndefineClass(1726, 12, $intern_232, cvcuc.CalendarConnector);\n_.$init_1523 = function $init_1523(){\n  this.rpc = dynamicCast(cvcc.create_15(cggl.Lcom_vaadin_shared_ui_calendar_CalendarServerRpc_2_classLit, this), 757);\n  this.actionMap = new ju.HashMap;\n  this.tooltips = new ju.HashMap;\n  this.actionKeys = new ju.ArrayList;\n}\n;\n_.calendarDayListOf = function calendarDayListOf(days){\n  var d, day, day$iterator, list;\n  list = new ju.ArrayList_0(days.size_1());\n  for (day$iterator = days.iterator(); day$iterator.hasNext();) {\n    day = dynamicCast(day$iterator.next_1(), 647);\n    d = new cvcucs.CalendarDay(day.date, day.localizedDateFormat, day.dayOfWeek, day.week, day.yearOfWeek);\n    list.add_7(d);\n  }\n  return list;\n}\n;\n_.calendarEventListOf = function calendarEventListOf(events, format24h){\n  var calendarEvent, dateFrom, dateTo, event_0, event$iterator, list, timeFrom, timeTo;\n  list = new ju.ArrayList_0(events.size_1());\n  for (event$iterator = events.iterator(); event$iterator.hasNext();) {\n    event_0 = dynamicCast(event$iterator.next_1(), 476);\n    dateFrom = event_0.dateFrom;\n    dateTo = event_0.dateTo;\n    timeFrom = event_0.timeFrom;\n    timeTo = event_0.timeTo;\n    calendarEvent = new cvcucs.CalendarEvent;\n    calendarEvent.setAllDay(event_0.allDay);\n    calendarEvent.setCaption(event_0.caption_0);\n    calendarEvent.setDescription(event_0.description);\n    calendarEvent.setStart(this.getWidget_13().getDateFormat().parse_1(dateFrom));\n    calendarEvent.setEnd(this.getWidget_13().getDateFormat().parse_1(dateTo));\n    calendarEvent.setFormat24h(format24h);\n    calendarEvent.setStartTime(this.getWidget_13().getDateTimeFormat().parse_1(dateFrom + ' ' + timeFrom));\n    calendarEvent.setEndTime(this.getWidget_13().getDateTimeFormat().parse_1(dateTo + ' ' + timeTo));\n    calendarEvent.setStyleName(event_0.styleName);\n    calendarEvent.setIndex(event_0.index_0);\n    list.add_7(calendarEvent);\n  }\n  return list;\n}\n;\n_.getActionCaption = function getActionCaption_1(actionKey){\n  return dynamicCastToString(this.actionMap.get_7(actionKey + '_c'));\n}\n;\n_.getActionEndDate = function getActionEndDate(actionKey){\n  var dateStr, formatter;\n  dateStr = dynamicCastToString(this.actionMap.get_7(actionKey + '_e'));\n  formatter = cggic.getFormat('yyyy-MM-dd HH:mm:ss');\n  return formatter.parse_1(dateStr);\n}\n;\n_.getActionID = function getActionID(actionKey){\n  return dynamicCastToString(this.actionMap.get_7(actionKey + '_k'));\n}\n;\n_.getActionIcon = function getActionIcon_1(actionKey){\n  return dynamicCastToString(this.actionMap.get_7(actionKey + '_i'));\n}\n;\n_.getActionStartDate = function getActionStartDate(actionKey){\n  var dateStr, formatter;\n  dateStr = dynamicCastToString(this.actionMap.get_7(actionKey + '_s'));\n  formatter = cggic.getFormat('yyyy-MM-dd HH:mm:ss');\n  return formatter.parse_1(dateStr);\n}\n;\n_.getActions = function getActions_4(){\n  var a, actionKey, actions, i_0, pe;\n  actions = new ju.ArrayList;\n  for (i_0 = 0; i_0 < this.actionKeys.size_1(); i_0++) {\n    actionKey = dynamicCastToString(this.actionKeys.get_1(i_0));\n    a = new cvcuc.VCalendarAction_0(this, this.rpc, actionKey);\n    a.setCaption(this.getActionCaption(actionKey));\n    a.setIconUrl(this.getActionIcon(actionKey));\n    try {\n      a.setActionStartDate(this.getActionStartDate(actionKey));\n      a.setActionEndDate(this.getActionEndDate(actionKey));\n    }\n     catch ($e0) {\n      $e0 = wrap_1($e0);\n      if (instanceOf($e0, 830)) {\n        pe = $e0;\n        cvc.error_2(pe);\n      }\n       else \n        throw unwrap($e0);\n    }\n    actions.add_7(a);\n  }\n  return dynamicCast(actions.toArray_0(initDim(cggl.Lcom_vaadin_client_ui_Action_2_classLit, $intern_215, 113, actions.size_1(), 0, 1)), 180);\n}\n;\n_.getActionsBetween = function getActionsBetween(start_0, end){\n  cvcuc.$clinit_CalendarConnector();\n  var a, actionEndDate, actionKey, actionStartDate, actions, i_0, id_0, ids, pe, test0, test1, test2, test3;\n  actions = new ju.ArrayList;\n  ids = new ju.ArrayList;\n  for (i_0 = 0; i_0 < this.actionKeys.size_1(); i_0++) {\n    actionKey = dynamicCastToString(this.actionKeys.get_1(i_0));\n    id_0 = this.getActionID(actionKey);\n    if (!ids.contains_0(id_0)) {\n      try {\n        actionStartDate = this.getActionStartDate(actionKey);\n        actionEndDate = this.getActionEndDate(actionKey);\n      }\n       catch ($e0) {\n        $e0 = wrap_1($e0);\n        if (instanceOf($e0, 830)) {\n          pe = $e0;\n          cvc.error_1('Failed to parse action date');\n          continue;\n        }\n         else \n          throw unwrap($e0);\n      }\n      test0 = actionStartDate.compareTo_1(start_0) >= 0 && actionEndDate.compareTo_1(end) <= 0;\n      test1 = actionEndDate.compareTo_1(start_0) > 0 && actionEndDate.compareTo_1(end) <= 0;\n      test2 = actionStartDate.compareTo_1(start_0) >= 0 && actionStartDate.compareTo_1(end) < 0;\n      test3 = start_0.compareTo_1(actionStartDate) >= 0 && end.compareTo_1(actionEndDate) <= 0;\n      if (test0 || test1 || test2 || test3) {\n        a = new cvcuc.VCalendarAction_0(this, this.rpc, actionKey);\n        a.setCaption(this.getActionCaption(actionKey));\n        a.setIconUrl(this.getActionIcon(actionKey));\n        a.setActionStartDate(start_0);\n        a.setActionEndDate(end);\n        actions.add_7(a);\n        ids.add_7(id_0);\n      }\n    }\n  }\n  return dynamicCast(actions.toArray_0(initDim(cggl.Lcom_vaadin_client_ui_Action_2_classLit, $intern_215, 113, actions.size_1(), 0, 1)), 180);\n}\n;\n_.getClient = function getClient_6(){\n  return this.getConnection();\n}\n;\n_.getPaintableId = function getPaintableId_4(){\n  return this.getConnectorId();\n}\n;\n_.getState = function getState_38(){\n  return this.getState_19();\n}\n;\n_.getState_19 = function getState_39(){\n  return dynamicCast(getClassPrototype(12).getState.call(this), 648);\n}\n;\n_.getTooltipInfo = function getTooltipInfo_4(element){\n  var title_0, tooltipInfo, w;\n  tooltipInfo = null;\n  w = dynamicCast(cvc.findWidget_0(element, null), 6);\n  if (instanceOf(w, 521)) {\n    tooltipInfo = dynamicCast(new cvc.TooltipInfo, 126);\n    title_0 = dynamicCastToString(this.tooltips.get_7(dynamicCast(w, 521).getTooltipKey()));\n    tooltipInfo.setTitle(jsNotEquals(title_0, null)?title_0:'');\n  }\n  if (isNull(tooltipInfo)) {\n    tooltipInfo = getClassPrototype(12).getTooltipInfo.call(this, element);\n  }\n  return tooltipInfo;\n}\n;\n_.getWidget_0 = function getWidget_28(){\n  return this.getWidget_13();\n}\n;\n_.getWidget_13 = function getWidget_29(){\n  return dynamicCast(getClassPrototype(12).getWidget_0.call(this), 649);\n}\n;\n_.hasTooltip_0 = function hasTooltip_2(){\n  return true;\n}\n;\n_.init_3 = function init_28(){\n  getClassPrototype(18).init_3.call(this);\n  this.registerRpc(cggl.Lcom_vaadin_shared_ui_calendar_CalendarClientRpc_2_classLit, new cvcuc.CalendarConnector$1(this));\n  this.getLayoutManager_0().registerDependency(this, this.getWidget_13().getElement());\n}\n;\n_.layout_0 = function layout_3(){\n  this.updateSizes_0();\n}\n;\n_.onStateChanged = function onStateChanged_15(stateChangeEvent){\n  var days, dropHandler, events, state, widget;\n  getClassPrototype(12).onStateChanged.call(this, stateChangeEvent);\n  state = this.getState_19();\n  widget = this.getWidget_13();\n  widget.setForwardNavigationEnabled(this.hasEventListener('forward'));\n  widget.setBackwardNavigationEnabled(this.hasEventListener('backward'));\n  widget.set24HFormat(state.format24H);\n  widget.setDayNames(state.dayNames);\n  widget.setMonthNames(state.monthNames);\n  widget.setFirstDayNumber(state.firstVisibleDayOfWeek);\n  widget.setLastDayNumber(state.lastVisibleDayOfWeek);\n  widget.setFirstHourOfTheDay(state.firstHourOfDay);\n  widget.setLastHourOfTheDay(state.lastHourOfDay);\n  widget.setReadOnly(state.readOnly_0);\n  widget.setDisabled(!state.enabled);\n  widget.setRangeSelectAllowed(this.hasEventListener('rangeSelect'));\n  widget.setRangeMoveAllowed(this.hasEventListener('eventMove'));\n  widget.setEventMoveAllowed(this.hasEventListener('eventMove'));\n  widget.setEventResizeAllowed(this.hasEventListener('eventResize'));\n  widget.setEventCaptionAsHtml(state.eventCaptionAsHtml);\n  days = state.days;\n  events = state.events;\n  dropHandler = this.getWidget_13().getDropHandler();\n  if (this.showingMonthView()) {\n    this.updateMonthView_0(days, events);\n    if (isNotNull(dropHandler) && !instanceOf(dropHandler, 503)) {\n      this.getWidget_13().setDropHandler(new cvcucsd.CalendarMonthDropHandler(this));\n    }\n  }\n   else {\n    this.updateWeekView_0(days, events);\n    if (isNotNull(dropHandler) && !instanceOf(dropHandler, 504)) {\n      this.getWidget_13().setDropHandler(new cvcucsd.CalendarWeekDropHandler(this));\n    }\n  }\n  this.updateSizes_0();\n  this.registerEventToolTips(state.events);\n  this.updateActionMap_0(state.actions);\n}\n;\n_.onUnregister = function onUnregister_10(){\n  getClassPrototype(12).onUnregister.call(this);\n  this.getLayoutManager_0().unregisterDependency(this, this.getWidget_13().getElement());\n}\n;\n_.registerEventToolTips = function registerEventToolTips(events){\n  var e, e$iterator;\n  for (e$iterator = events.iterator(); e$iterator.hasNext();) {\n    e = dynamicCast(e$iterator.next_1(), 476);\n    if (jsNotEquals(e.description, null) && !jl.equals_Ljava_lang_Object__Z__devirtual$_0('', e.description)) {\n      this.tooltips.put_0(jl.valueOf_73(e.index_0), e.description);\n    }\n     else {\n      this.tooltips.remove_10(jl.valueOf_73(e.index_0));\n    }\n  }\n}\n;\n_.registerListeners = function registerListeners(){\n  this.getWidget_13().setListener_0(new cvcuc.CalendarConnector$2(this));\n  this.getWidget_13().setListener_4(new cvcuc.CalendarConnector$3(this));\n  this.getWidget_13().setListener(new cvcuc.CalendarConnector$4(this));\n  this.getWidget_13().setListener_6(new cvcuc.CalendarConnector$5(this));\n  this.getWidget_13().setListener_8(new cvcuc.CalendarConnector$6(this));\n  this.getWidget_13().setListener_2(new cvcuc.CalendarConnector$7(this));\n  this.getWidget_13().setListener_3(new cvcuc.CalendarConnector$8(this));\n  this.getWidget_13().setListener_7(new cvcuc.CalendarConnector$9(this));\n  this.getWidget_13().setListener_1(new cvcuc.CalendarConnector$10(this));\n  this.getWidget_13().setListener_5(new cvcuc.CalendarConnector$11(this));\n}\n;\n_.showingMonthView = function showingMonthView(){\n  return this.getState_19().days.size_1() > 7;\n}\n;\n_.updateActionMap_0 = function updateActionMap_1(actions){\n  var action, action$iterator, id_0;\n  this.actionMap.clear_1();\n  this.actionKeys.clear_1();\n  if (isNull(actions)) {\n    return;\n  }\n  for (action$iterator = actions.iterator(); action$iterator.hasNext();) {\n    action = dynamicCast(action$iterator.next_1(), 646);\n    id_0 = action.actionKey + '-' + action.startDate + '-' + action.endDate;\n    this.actionMap.put_0(id_0 + '_k', action.actionKey);\n    this.actionMap.put_0(id_0 + '_c', action.caption_0);\n    this.actionMap.put_0(id_0 + '_s', action.startDate);\n    this.actionMap.put_0(id_0 + '_e', action.endDate);\n    this.actionKeys.add_7(id_0);\n    if (jsNotEquals(action.iconKey, null)) {\n      this.actionMap.put_0(id_0 + '_i', this.getResourceUrl(action.iconKey));\n    }\n     else {\n      this.actionMap.remove_10(id_0 + '_i');\n    }\n  }\n  ju.sort_5(this.actionKeys);\n}\n;\n_.updateFromUIDL = function updateFromUIDL_0(uidl, client){\n  var child, childIterator;\n  childIterator = cvc.$getChildIterator(uidl);\n  while (childIterator.hasNext()) {\n    child = dynamicCastJso(childIterator.next_1());\n    if (jl.equals_Ljava_lang_Object__Z__devirtual$_0('-ac', cvc.$getTag(child))) {\n      if (isNull(this.getWidget_13().getDropHandler())) {\n        this.getWidget_13().setDropHandler(this.showingMonthView()?new cvcucsd.CalendarMonthDropHandler(this):new cvcucsd.CalendarWeekDropHandler(this));\n      }\n      this.getWidget_13().getDropHandler().updateAcceptRules(child);\n    }\n     else {\n      this.getWidget_13().setDropHandler(null);\n    }\n  }\n}\n;\n_.updateMonthView_0 = function updateMonthView_0(days, events){\n  var state;\n  state = this.getState_19();\n  this.getWidget_13().updateMonthView(state.firstDayOfWeek, this.getWidget_13().getDateTimeFormat().parse_1(state.now_0), days.size_1(), this.calendarEventListOf(events, state.format24H), this.calendarDayListOf(days));\n}\n;\n_.updateSizes_0 = function updateSizes_0(){\n  var height, width_0;\n  height = this.getLayoutManager_0().getOuterHeight(this.getWidget_13().getElement());\n  width_0 = this.getLayoutManager_0().getOuterWidth(this.getWidget_13().getElement());\n  if (this.isUndefinedWidth()) {\n    width_0 = -1;\n  }\n  if (this.isUndefinedHeight()) {\n    height = -1;\n  }\n  this.getWidget_13().setSizeForChildren(width_0, height);\n}\n;\n_.updateWeekView_0 = function updateWeekView_0(days, events){\n  var state;\n  state = this.getState_19();\n  this.getWidget_13().updateWeekView(state.scroll_0, this.getWidget_13().getDateTimeFormat().parse_1(state.now_0), days.size_1(), state.firstDayOfWeek, this.calendarEventListOf(events, state.format24H), this.calendarDayListOf(days));\n}\n;\ndefineClass(2111, 1, {192:1, 753:1, 3:1, 1:1}, cvcuc.CalendarConnector$1);\n_.$init_1524 = function $init_1524(){\n}\n;\n_.scroll_1 = function scroll_3(scrollPosition){\n}\n;\ndefineClass(2120, 1, $intern_0, cvcuc.CalendarConnector$10);\n_.$init_1525 = function $init_1525(){\n}\n;\n_.eventClick_0 = function eventClick_0(event_0){\n  if (this.this$01.hasEventListener('eventClick')) {\n    this.this$01.rpc.eventClick(event_0.getIndex());\n  }\n}\n;\ndefineClass(2121, 1, $intern_0, cvcuc.CalendarConnector$11);\n_.$init_1526 = function $init_1526(){\n}\n;\n_.contextMenu_0 = function contextMenu(event_0, widget){\n  var left, ne, top_0;\n  ne = event_0.getNativeEvent();\n  left = cggdc.$getClientX(ne);\n  top_0 = cggdc.$getClientY(ne);\n  top_0 += cgguc.getScrollTop_2();\n  left += cgguc.getScrollLeft_7();\n  this.this$01.getClient().getContextMenu().showAt_0(new cvcuc.CalendarConnector$11$1(this, widget, ne), left, top_0);\n}\n;\ndefineClass(2122, 1, $intern_0, cvcuc.CalendarConnector$11$1);\n_.$init_1527 = function $init_1527(){\n}\n;\n_.getActions = function getActions_5(){\n  var action, action$array, action$index, action$max, actions, cell, dayEvent, end, event_0, mel, slot, slotIndex, start_0;\n  if (instanceOf(this.val$widget2, 137)) {\n    cell = dynamicCast(this.val$widget2, 137);\n    start_0 = new ju.Date_2(cell.getDate_1().getYear_0(), cell.getDate_1().getMonth_0(), cell.getDate_1().getDate_0(), 0, 0, 0);\n    end = new ju.Date_2(cell.getDate_1().getYear_0(), cell.getDate_1().getMonth_0(), cell.getDate_1().getDate_0(), 23, 59, 59);\n    return this.this$11.this$01.getActionsBetween(start_0, end);\n  }\n   else if (instanceOf(this.val$widget2, 191)) {\n    mel = dynamicCast(this.val$widget2, 191);\n    event_0 = mel.getCalendarEvent();\n    actions = this.this$11.this$01.getActionsBetween(event_0.getStartTime(), event_0.getEndTime());\n    for (action$array = actions , action$index = 0 , action$max = action$array.length; action$index < action$max; ++action$index) {\n      action = action$array[action$index];\n      dynamicCast(action, 359).setEvent(event_0);\n    }\n    return actions;\n  }\n   else if (instanceOf(this.val$widget2, 122)) {\n    cell = dynamicCast(this.val$widget2, 122);\n    slotIndex = cgguc.getChildIndex(cell.getElement(), cggcc.$cast(cggdc.$getEventTarget(this.val$ne3)));\n    slot = cell.getSlot_2(slotIndex);\n    return this.this$11.this$01.getActionsBetween(slot.getFrom(), slot.getTo());\n  }\n   else if (instanceOf(this.val$widget2, 143)) {\n    dayEvent = dynamicCast(this.val$widget2, 143);\n    event_0 = dayEvent.getCalendarEvent();\n    actions = this.this$11.this$01.getActionsBetween(event_0.getStartTime(), event_0.getEndTime());\n    for (action$array = actions , action$index = 0 , action$max = action$array.length; action$index < action$max; ++action$index) {\n      action = action$array[action$index];\n      dynamicCast(action, 359).setEvent(event_0);\n    }\n    return actions;\n  }\n  return null;\n}\n;\n_.getClient = function getClient_7(){\n  return this.this$11.this$01.getClient();\n}\n;\n_.getPaintableId = function getPaintableId_5(){\n  return this.this$11.this$01.getPaintableId();\n}\n;\ndefineClass(2112, 1, $intern_0, cvcuc.CalendarConnector$2);\n_.$init_1528 = function $init_1528(){\n}\n;\n_.dateClick = function dateClick_0(date){\n  if (!this.this$01.getWidget_13().isDisabled() && this.this$01.hasEventListener('dateClick')) {\n    this.this$01.rpc.dateClick(date);\n  }\n}\n;\ndefineClass(2113, 1, $intern_0, cvcuc.CalendarConnector$3);\n_.$init_1529 = function $init_1529(){\n}\n;\n_.forward_0 = function forward_1(){\n  if (this.this$01.hasEventListener('forward')) {\n    this.this$01.rpc.forward_0();\n  }\n}\n;\ndefineClass(2114, 1, $intern_0, cvcuc.CalendarConnector$4);\n_.$init_1530 = function $init_1530(){\n}\n;\n_.backward = function backward_0(){\n  if (this.this$01.hasEventListener('backward')) {\n    this.this$01.rpc.backward();\n  }\n}\n;\ndefineClass(2115, 1, $intern_0, cvcuc.CalendarConnector$5);\n_.$init_1531 = function $init_1531(){\n}\n;\n_.rangeSelected = function rangeSelected(value_0){\n  if (this.this$01.hasEventListener('rangeSelect')) {\n    this.this$01.rpc.rangeSelect(value_0);\n  }\n}\n;\ndefineClass(2116, 1, $intern_0, cvcuc.CalendarConnector$6);\n_.$init_1532 = function $init_1532(){\n}\n;\n_.weekClick = function weekClick_0(event_0){\n  if (!this.this$01.getWidget_13().isDisabled() && this.this$01.hasEventListener('weekClick')) {\n    this.this$01.rpc.weekClick(event_0);\n  }\n}\n;\ndefineClass(2117, 1, $intern_0, cvcuc.CalendarConnector$7);\n_.$init_1533 = function $init_1533(){\n}\n;\n_.eventMoved = function eventMoved(event_0){\n  var sb;\n  if (this.this$01.hasEventListener('eventMove')) {\n    sb = new jl.StringBuilder;\n    sb.append_6(cvcucs.formatClientSideDate(event_0.getStart()));\n    sb.append_6('-');\n    sb.append_6(cvcucs.formatClientSideTime(event_0.getStartTime()));\n    this.this$01.rpc.eventMove(event_0.getIndex(), sb.toString$());\n  }\n}\n;\ndefineClass(2118, 1, $intern_0, cvcuc.CalendarConnector$8);\n_.$init_1534 = function $init_1534(){\n}\n;\n_.eventResized = function eventResized(event_0){\n  var buffer, newEndDate, newStartDate;\n  if (this.this$01.hasEventListener('eventResize')) {\n    buffer = new jl.StringBuilder;\n    buffer.append_6(cvcucs.formatClientSideDate(event_0.getStart()));\n    buffer.append_6('-');\n    buffer.append_6(cvcucs.formatClientSideTime(event_0.getStartTime()));\n    newStartDate = buffer.toString$();\n    buffer = new jl.StringBuilder;\n    buffer.append_6(cvcucs.formatClientSideDate(event_0.getEnd()));\n    buffer.append_6('-');\n    buffer.append_6(cvcucs.formatClientSideTime(event_0.getEndTime()));\n    newEndDate = buffer.toString$();\n    this.this$01.rpc.eventResize(event_0.getIndex(), newStartDate, newEndDate);\n  }\n}\n;\ndefineClass(2119, 1, $intern_0, cvcuc.CalendarConnector$9);\n_.$init_1535 = function $init_1535(){\n}\n;\n_.scroll_1 = function scroll_4(scrollPosition){\n  this.this$01.rpc.scroll_1(scrollPosition);\n}\n;\ndefineClass(359, 113, $intern_289, cvcuc.VCalendarAction_0);\n_.$init_1536 = function $init_1536(){\n  this.actionKey = '';\n  this.dateformat_datetime = cggic.getFormat('yyyy-MM-dd HH:mm:ss');\n}\n;\n_.execute_0 = function execute_98(){\n  var endDate, startDate;\n  startDate = this.dateformat_datetime.format_0(this.actionStartDate);\n  endDate = this.dateformat_datetime.format_0(this.actionEndDate);\n  if (isNull(this.event_0)) {\n    this.rpc.actionOnEmptyCell(jl.split_Ljava_lang_String___Ljava_lang_String___devirtual$(this.actionKey, '-')[0], startDate, endDate);\n  }\n   else {\n    this.rpc.actionOnEvent(jl.split_Ljava_lang_String___Ljava_lang_String___devirtual$(this.actionKey, '-')[0], startDate, endDate, this.event_0.getIndex());\n  }\n  this.owner.getClient().getContextMenu().hide();\n}\n;\n_.setActionEndDate = function setActionEndDate(actionEndDate){\n  this.actionEndDate = actionEndDate;\n}\n;\n_.setActionStartDate = function setActionStartDate(actionStartDate){\n  this.actionStartDate = actionStartDate;\n}\n;\n_.setEvent = function setEvent(event_0){\n  this.event_0 = event_0;\n}\n;\ndefineClass(507, 1, {507:1, 1:1}, cvcucs.CalendarDay);\n_.$init_1537 = function $init_1537(){\n}\n;\n_.getDate_2 = function getDate_3(){\n  return this.date;\n}\n;\n_.getDayOfWeek = function getDayOfWeek(){\n  return this.dayOfWeek;\n}\n;\n_.getLocalizedDateFormat = function getLocalizedDateFormat(){\n  return this.localizedDateFormat;\n}\n;\n_.getWeek = function getWeek(){\n  return this.week;\n}\n;\n_.getYearOfWeek = function getYearOfWeek(){\n  return this.yearOfWeek;\n}\n;\n_.dayOfWeek = 0;\n_.week = 0;\n_.yearOfWeek = 0;\ndefineClass(260, 1, {260:1, 1:1}, cvcucs.CalendarEvent);\n_.$init_1538 = function $init_1538(){\n  this.slotIndex = -1;\n  this.dateformat_date = cggic.getFormat('h:mm a');\n  this.dateformat_date24 = cggic.getFormat('H:mm');\n}\n;\n_.getCaption = function getCaption_5(){\n  return this.caption_0;\n}\n;\n_.getEnd = function getEnd(){\n  return this.end;\n}\n;\n_.getEndTime = function getEndTime(){\n  return this.endTime;\n}\n;\n_.getIndex = function getIndex_2(){\n  return this.index_0;\n}\n;\n_.getRangeInMilliseconds = function getRangeInMilliseconds(){\n  return sub_0(this.getEndTime().getTime_1(), this.getStartTime().getTime_1());\n}\n;\n_.getRangeInMinutes = function getRangeInMinutes(){\n  return div_0(this.getRangeInMilliseconds(), {l:60000, m:0, h:0});\n}\n;\n_.getRangeInMinutesForDay = function getRangeInMinutesForDay(targetDay){\n  var rangeInMinutesForDay;\n  rangeInMinutesForDay = {l:0, m:0, h:0};\n  if (this.isTimeOnDifferentDays()) {\n    if (targetDay.compareTo_1(this.getStart()) == 0) {\n      rangeInMinutesForDay = sub_0({l:1440, m:0, h:0}, div_0(sub_0(this.getStartTime().getTime_1(), this.getStart().getTime_1()), {l:60000, m:0, h:0}));\n    }\n     else if (targetDay.compareTo_1(this.getEnd()) == 0) {\n      rangeInMinutesForDay = div_0(sub_0(this.getEndTime().getTime_1(), this.getEnd().getTime_1()), {l:60000, m:0, h:0});\n    }\n     else {\n      rangeInMinutesForDay = {l:1440, m:0, h:0};\n    }\n  }\n   else {\n    rangeInMinutesForDay = this.getRangeInMinutes();\n  }\n  return rangeInMinutesForDay;\n}\n;\n_.getSlotIndex = function getSlotIndex(){\n  return this.slotIndex;\n}\n;\n_.getStart = function getStart(){\n  return this.start_0;\n}\n;\n_.getStartTime = function getStartTime(){\n  return this.startTime;\n}\n;\n_.getStyleName = function getStyleName_1(){\n  return this.styleName;\n}\n;\n_.getTimeAsText = function getTimeAsText(){\n  if (this.format24h) {\n    return this.dateformat_date24.format_0(this.startTime);\n  }\n   else {\n    return this.dateformat_date.format_0(this.startTime);\n  }\n}\n;\n_.isAllDay = function isAllDay_0(){\n  return this.allDay;\n}\n;\n_.isTimeOnDifferentDays = function isTimeOnDifferentDays(){\n  var isSeveralDays;\n  isSeveralDays = false;\n  if (gt(sub_0(this.getEndTime().getTime_1(), this.getStartTime().getTime_1()), {l:2513920, m:20, h:0})) {\n    isSeveralDays = true;\n  }\n   else {\n    if (this.getStart().compareTo_1(this.getEnd()) != 0 && this.getEndTime().compareTo_1(this.getEnd()) != 0) {\n      isSeveralDays = true;\n    }\n  }\n  return isSeveralDays;\n}\n;\n_.setAllDay = function setAllDay(allDay){\n  this.allDay = allDay;\n}\n;\n_.setCaption = function setCaption_8(caption){\n  this.caption_0 = caption;\n}\n;\n_.setDescription = function setDescription(description){\n  this.description = description;\n}\n;\n_.setEnd = function setEnd(end){\n  this.end = end;\n}\n;\n_.setEndTime = function setEndTime(endTime){\n  this.endTime = endTime;\n}\n;\n_.setFormat24h = function setFormat24h(format24h){\n  this.format24h = format24h;\n}\n;\n_.setIndex = function setIndex_2(index_0){\n  this.index_0 = index_0;\n}\n;\n_.setSlotIndex = function setSlotIndex(index_0){\n  this.slotIndex = index_0;\n}\n;\n_.setStart = function setStart(start_0){\n  this.start_0 = start_0;\n}\n;\n_.setStartTime = function setStartTime(startTime){\n  this.startTime = startTime;\n}\n;\n_.setStyleName = function setStyleName_22(style){\n  this.styleName = style;\n}\n;\n_.allDay = false;\n_.format24h = false;\n_.index_0 = 0;\n_.slotIndex = 0;\ndefineClass(2226, 49, $intern_189);\n_.$init_1539 = function $init_1539(){\n}\n;\n_.addKeyDownHandler = function addKeyDownHandler_6(handler){\n  return this.addDomHandler(handler, cggedc.getType_14());\n}\n;\n_.focus_0 = function focus_25(){\n  this.setFocus(true);\n}\n;\n_.makeFocusable = function makeFocusable(){\n  cggdc.$setTabIndex(this.getElement(), 0);\n}\n;\n_.setFocus = function setFocus_17(focus_0){\n  if (focus_0) {\n    cggucui.getFocusImplForPanel().focus_1(this.getElement());\n  }\n   else {\n    cggucui.getFocusImplForPanel().blur_2(this.getElement());\n  }\n}\n;\ndefineClass(122, 2226, $intern_290, cvcucs.DateCell);\n_.$init_1540 = function $init_1540(){\n  this.eventRangeStart = -1;\n  this.eventRangeStop = -1;\n  this.disabled_0 = false;\n  this.slots = new ju.ArrayList;\n}\n;\n_.addEmphasisStyle = function addEmphasisStyle(elementOver){\n  this.addEmphasisStyle_0(cgguc.asOld(elementOver));\n}\n;\n_.addEmphasisStyle_0 = function addEmphasisStyle_0(elementOver){\n  var originalStylename;\n  originalStylename = cggucu.getStyleName_0(elementOver);\n  cggucu.setStyleName(elementOver, originalStylename + ' dragemphasis');\n}\n;\n_.addEvent = function addEvent(dayEvent){\n  var dc, e, e$array, e$index, e$max, events, index_0, main;\n  main = this.getElement();\n  index_0 = 0;\n  events = new ju.ArrayList;\n  for (; index_0 < this.getWidgetCount(); index_0++) {\n    dc = dynamicCast(this.getWidget(index_0), 143);\n    dc.setDisabled(this.isDisabled());\n    events.add_7(dc.getCalendarEvent());\n  }\n  events.add_7(dayEvent.getCalendarEvent());\n  index_0 = 0;\n  for (e$array = this.weekgrid.getCalendar().sortEventsByDuration(events) , e$index = 0 , e$max = e$array.length; e$index < e$max; ++e$index) {\n    e = e$array[e$index];\n    if (e.equals$(dayEvent.getCalendarEvent())) {\n      break;\n    }\n    index_0++;\n  }\n  this.insert(dayEvent, main, index_0, true);\n}\n;\n_.addEvent_0 = function addEvent_0(targetDay, calendarEvent){\n  var dayEvent, main;\n  main = this.getElement();\n  dayEvent = new cvcucs.DateCellDayEvent(this, this.weekgrid, calendarEvent);\n  dayEvent.setSlotHeightInPX(this.getSlotHeight());\n  dayEvent.setDisabled(this.isDisabled());\n  if (this.startingSlotHeight > 0) {\n    this.updatePositionFor(dayEvent, targetDay, calendarEvent);\n  }\n  this.add_3(dayEvent, main);\n}\n;\n_.cancelRangeSelect = function cancelRangeSelect(){\n  cgguc.releaseCapture_0(this.getElement());\n  this.setFocus(false);\n  this.clearSelectionRange();\n}\n;\n_.clearSelectionRange = function clearSelectionRange(){\n  var c, i_0, main, nodes;\n  if (this.eventRangeStart > -1) {\n    main = this.getElement();\n    nodes = cggdc.$getChildNodes(main);\n    for (i_0 = 0; i_0 <= 47; i_0++) {\n      c = cggdc.$getItem(nodes, i_0);\n      if (isNull(c)) {\n        continue;\n      }\n      cggdc.$removeClassName(c, 'v-daterange');\n    }\n    this.eventRangeStart = -1;\n  }\n}\n;\n_.drawDayEvents = function drawDayEvents(groups){\n  var col, colCount, columns, d, eventIndex, eventIndex$iterator, eventWidth, freeSpaceCol, g, g$iterator, i_0, i$iterator, index_0, index$iterator, newOrderindex, order;\n  for (g$iterator = groups.iterator(); g$iterator.hasNext();) {\n    g = dynamicCast(g$iterator.next_1(), 510);\n    col = 0;\n    colCount = 0;\n    order = new ju.ArrayList;\n    columns = new ju.HashMap;\n    for (eventIndex$iterator = g.getItems().iterator(); eventIndex$iterator.hasNext();) {\n      eventIndex = dynamicCast(eventIndex$iterator.next_1(), 43);\n      d = dynamicCast(this.getWidget(eventIndex.intValue()), 143);\n      d.setMoveWidth(this.width_0);\n      freeSpaceCol = this.findFreeColumnSpaceOnLeft(new cvcucs.WeekGridMinuteTimeRange(d.getCalendarEvent().getStartTime(), d.getCalendarEvent().getEndTime()), order, columns);\n      if (freeSpaceCol >= 0) {\n        col = freeSpaceCol;\n        columns.put_0(eventIndex, jl.valueOf_73(col));\n        newOrderindex = 0;\n        for (i$iterator = order.iterator(); i$iterator.hasNext();) {\n          i_0 = dynamicCast(i$iterator.next_1(), 43);\n          if (dynamicCast(columns.get_7(i_0), 43).intValue() >= col) {\n            newOrderindex = order.indexOf_0(i_0);\n            break;\n          }\n        }\n        order.add_8(newOrderindex, eventIndex);\n      }\n       else {\n        col = colCount++;\n        columns.put_0(eventIndex, jl.valueOf_73(col));\n        order.add_7(eventIndex);\n      }\n    }\n    eventWidth = narrow_int(this.width_0 / colCount);\n    for (index$iterator = g.getItems().iterator(); index$iterator.hasNext();) {\n      index_0 = dynamicCast(index$iterator.next_1(), 43);\n      d = dynamicCast(this.getWidget(index_0.intValue()), 143);\n      cggdc.$setMarginLeft(cggdc.$getStyle(d.getElement()), eventWidth * dynamicCast(columns.get_7(index_0), 43).intValue(), (cggdc.$clinit_Style$Unit() , cggdc.PX));\n      d.setWidth_0(eventWidth + 'px');\n      d.setSlotHeightInPX(this.getSlotHeight());\n    }\n  }\n}\n;\n_.findFreeColumnSpaceOnLeft = function findFreeColumnSpaceOnLeft(dateRange, order, columns){\n  var col, d, eventIndex, eventIndex$iterator, freeSpot, nextRange, skipIndex;\n  freeSpot = -1;\n  skipIndex = -1;\n  for (eventIndex$iterator = order.iterator(); eventIndex$iterator.hasNext();) {\n    eventIndex = dynamicCast(eventIndex$iterator.next_1(), 43);\n    col = dynamicCast(columns.get_7(eventIndex), 43).intValue();\n    if (col == skipIndex) {\n      continue;\n    }\n    if (freeSpot != -1 && freeSpot != col) {\n      return freeSpot;\n    }\n    d = dynamicCast(this.getWidget(eventIndex.intValue()), 143);\n    nextRange = new cvcucs.WeekGridMinuteTimeRange(d.getCalendarEvent().getStartTime(), d.getCalendarEvent().getEndTime());\n    if (cvcucs.doesOverlap(dateRange, nextRange)) {\n      skipIndex = col;\n      freeSpot = -1;\n    }\n     else {\n      freeSpot = col;\n    }\n  }\n  return freeSpot;\n}\n;\n_.getDate_1 = function getDate_4(){\n  return this.date;\n}\n;\n_.getNumberOfSlots = function getNumberOfSlots(){\n  return this.numberOfSlots;\n}\n;\n_.getOverlappingEvents = function getOverlappingEvents(targetIndex){\n  var count, d, g, groupEnd, groupStart, i_0, nextRange, target, targetRange;\n  g = new cvcucs.DateCellGroup(jl.valueOf_73(targetIndex));\n  count = this.getWidgetCount();\n  target = dynamicCast(this.getWidget(targetIndex), 143);\n  targetRange = new cvcucs.WeekGridMinuteTimeRange(target.getCalendarEvent().getStartTime(), target.getCalendarEvent().getEndTime());\n  groupStart = targetRange.getStart();\n  groupEnd = targetRange.getEnd();\n  for (i_0 = 0; i_0 < count; i_0++) {\n    if (targetIndex == i_0) {\n      continue;\n    }\n    d = dynamicCast(this.getWidget(i_0), 143);\n    nextRange = new cvcucs.WeekGridMinuteTimeRange(d.getCalendarEvent().getStartTime(), d.getCalendarEvent().getEndTime());\n    if (cvcucs.doesOverlap(targetRange, nextRange)) {\n      g.add_11(jl.valueOf_73(i_0));\n      if (nextRange.getStart().before(targetRange.getStart())) {\n        groupStart = targetRange.getStart();\n      }\n      if (nextRange.getEnd().after(targetRange.getEnd())) {\n        groupEnd = targetRange.getEnd();\n      }\n    }\n  }\n  g.setDateRange(new cvcucs.WeekGridMinuteTimeRange(groupStart, groupEnd));\n  return g;\n}\n;\n_.getSlot_2 = function getSlot_2(index_0){\n  return dynamicCast(this.slots.get_1(index_0), 695);\n}\n;\n_.getSlotBorder = function getSlotBorder(){\n  return cvc.measureVerticalBorder(this.slotElements[0]);\n}\n;\n_.getSlotHeight = function getSlotHeight(){\n  return this.startingSlotHeight;\n}\n;\n_.getSlotIndex_0 = function getSlotIndex_0(slotElement){\n  var i_0;\n  for (i_0 = 0; i_0 < this.slotElements.length; i_0++) {\n    if (jsEquals(slotElement, this.slotElements[i_0])) {\n      return i_0;\n    }\n  }\n  throw new jl.IllegalArgumentException_0('Element not found in this DateCell');\n}\n;\n_.getTodaybarElement = function getTodaybarElement(){\n  return this.todaybar;\n}\n;\n_.isDisabled = function isDisabled_1(){\n  return this.disabled_0;\n}\n;\n_.isToday = function isToday_0(){\n  return isNotNull(this.today);\n}\n;\n_.onAttach = function onAttach_15(){\n  getClassPrototype(6).onAttach.call(this);\n  this.handlers.add_7(this.addHandler_2(this, cggedc.getType_18()));\n  this.handlers.add_7(this.addHandler_2(this, cggedc.getType_22()));\n  this.handlers.add_7(this.addHandler_2(this, cggedc.getType_19()));\n  this.handlers.add_7(this.addDomHandler(this, cggedc.getType_11()));\n  this.handlers.add_7(this.addKeyDownHandler(this));\n}\n;\n_.onContextMenu = function onContextMenu_3(event_0){\n  if (isNotNull(this.weekgrid.getCalendar().getMouseEventListener())) {\n    event_0.preventDefault_0();\n    event_0.stopPropagation_0();\n    this.weekgrid.getCalendar().getMouseEventListener().contextMenu_0(event_0, this);\n  }\n}\n;\n_.onDetach = function onDetach_25(){\n  var handler, handler$iterator;\n  for (handler$iterator = this.handlers.iterator(); handler$iterator.hasNext();) {\n    handler = dynamicCast(handler$iterator.next_1(), 303);\n    handler.removeHandler_0();\n  }\n  this.handlers.clear_1();\n  getClassPrototype(6).onDetach.call(this);\n}\n;\n_.onKeyDown = function onKeyDown_16(event_0){\n  var keycode;\n  keycode = cggdc.$getKeyCode(event_0.getNativeEvent());\n  if (keycode == 27 && this.eventRangeStart > -1) {\n    this.cancelRangeSelect();\n  }\n}\n;\n_.onMouseDown = function onMouseDown_7(event_0){\n  var e;\n  if (event_0.getNativeButton() == 1) {\n    e = cggdc.as_0(cggdc.$getEventTarget(event_0.getNativeEvent()));\n    if (jl.contains_Ljava_lang_CharSequence__Z__devirtual$(cggdc.$getClassName(e), 'reserved') || this.isDisabled() || !this.weekgrid.getParentCalendar().isRangeSelectAllowed()) {\n      this.eventRangeStart = -1;\n    }\n     else {\n      this.eventRangeStart = event_0.getY();\n      this.eventRangeStop = this.eventRangeStart;\n      cgguc.setCapture_0(this.getElement());\n      this.setFocus(true);\n    }\n  }\n}\n;\n_.onMouseMove = function onMouseMove_2(event_0){\n  var c, elemStart, elemStop, fromY, i_0, main, newY, nodes, toY;\n  if (event_0.getNativeButton() != 1) {\n    return;\n  }\n  if (this.eventRangeStart >= 0) {\n    newY = event_0.getY();\n    fromY = 0;\n    toY = 0;\n    if (newY < this.eventRangeStart) {\n      fromY = newY;\n      toY = this.eventRangeStart;\n    }\n     else {\n      fromY = this.eventRangeStart;\n      toY = newY;\n    }\n    main = this.getElement();\n    this.eventRangeStop = newY;\n    nodes = cggdc.$getChildNodes(main);\n    for (i_0 = 0; i_0 < cggdc.$getLength(nodes); i_0++) {\n      c = cggdc.$getItem(nodes, i_0);\n      if (jsNotEquals(this.todaybar, c)) {\n        elemStart = cggdc.$getOffsetTop(c);\n        elemStop = elemStart + this.getSlotHeight();\n        if (elemStart >= fromY && elemStart <= toY) {\n          cggdc.$addClassName(c, 'v-daterange');\n        }\n         else if (elemStop >= fromY && elemStop <= toY) {\n          cggdc.$addClassName(c, 'v-daterange');\n        }\n         else if (elemStop >= fromY && elemStart <= toY) {\n          cggdc.$addClassName(c, 'v-daterange');\n        }\n         else {\n          cggdc.$removeClassName(c, 'v-daterange');\n        }\n      }\n    }\n  }\n  event_0.preventDefault_0();\n}\n;\n_.onMouseUp = function onMouseUp_3(event_0){\n  var currentDate, dragDistance, element, endMinutes, i_0, isRangeElement, main, nodes, slotEnd, slotStart, startMinutes, temp, yr;\n  if (event_0.getNativeButton() != 1) {\n    return;\n  }\n  cgguc.releaseCapture_0(this.getElement());\n  this.setFocus(false);\n  dragDistance = jl.abs_1(this.eventRangeStart - event_0.getY());\n  if (dragDistance > 0 && this.eventRangeStart >= 0) {\n    main = this.getElement();\n    if (this.eventRangeStart > this.eventRangeStop) {\n      if (this.eventRangeStop <= -1) {\n        this.eventRangeStop = 0;\n      }\n      temp = this.eventRangeStart;\n      this.eventRangeStart = this.eventRangeStop;\n      this.eventRangeStop = temp;\n    }\n    nodes = cggdc.$getChildNodes(main);\n    slotStart = -1;\n    slotEnd = -1;\n    for (i_0 = 0; i_0 < cggdc.$getLength(nodes); i_0++) {\n      element = cggdc.$getItem(nodes, i_0);\n      isRangeElement = jl.contains_Ljava_lang_CharSequence__Z__devirtual$(cggdc.$getClassName(element), 'v-daterange');\n      if (isRangeElement && slotStart == -1) {\n        slotStart = i_0;\n        slotEnd = i_0;\n      }\n       else if (isRangeElement) {\n        slotEnd = i_0;\n      }\n       else if (slotStart != -1 && slotEnd != -1) {\n        break;\n      }\n    }\n    this.clearSelectionRange();\n    startMinutes = this.firstHour * 60 + slotStart * 30;\n    endMinutes = this.firstHour * 60 + (slotEnd + 1) * 30;\n    currentDate = this.getDate_1();\n    yr = currentDate.getYear_0() + $intern_47 + '-' + (currentDate.getMonth_0() + 1) + '-' + currentDate.getDate_0();\n    if (isNotNull(this.weekgrid.getCalendar().getRangeSelectListener())) {\n      this.weekgrid.getCalendar().getRangeSelectListener().rangeSelected(yr + ':' + startMinutes + ':' + endMinutes);\n    }\n    this.eventRangeStart = -1;\n  }\n   else {\n    this.eventRangeStart = -1;\n    this.cancelRangeSelect();\n  }\n}\n;\n_.recalculateCellHeights = function recalculateCellHeights(){\n  var i_0;\n  this.startingSlotHeight = narrow_int(this.height_0 / this.numberOfSlots);\n  for (i_0 = 0; i_0 < this.slotElements.length; i_0++) {\n    cggdc.$setHeight_1(cggdc.$getStyle(this.slotElements[i_0]), this.slotElementHeights[i_0], (cggdc.$clinit_Style$Unit() , cggdc.PX));\n  }\n  this.updateEventCellsHeight();\n}\n;\n_.recalculateEventPositions = function recalculateEventPositions(){\n  var dayEvent, i_0;\n  for (i_0 = 0; i_0 < this.getWidgetCount(); i_0++) {\n    dayEvent = dynamicCast(this.getWidget(i_0), 143);\n    this.updatePositionFor(dayEvent, this.getDate_1(), dayEvent.getCalendarEvent());\n  }\n}\n;\n_.recalculateEventWidths = function recalculateEventWidths(){\n  var count, curGroup, g, g$iterator, groups, handled, i_0, newGroup;\n  groups = new ju.ArrayList;\n  count = this.getWidgetCount();\n  handled = new ju.ArrayList;\n  for (i_0 = 0; i_0 < count; i_0++) {\n    if (handled.contains_0(jl.valueOf_73(i_0))) {\n      continue;\n    }\n    curGroup = this.getOverlappingEvents(i_0);\n    handled.addAll(curGroup.getItems());\n    newGroup = true;\n    if (curGroup.getItems().size_1() != count) {\n      for (g$iterator = groups.iterator(); g$iterator.hasNext();) {\n        g = dynamicCast(g$iterator.next_1(), 510);\n        if (cvcucs.doesOverlap(curGroup.getDateRange(), g.getDateRange())) {\n          newGroup = false;\n          this.updateGroup(g, curGroup);\n        }\n      }\n    }\n     else {\n      if (newGroup) {\n        groups.add_7(curGroup);\n      }\n      break;\n    }\n    if (newGroup) {\n      groups.add_7(curGroup);\n    }\n  }\n  this.drawDayEvents(groups);\n}\n;\n_.recalculateTimeBarPosition = function recalculateTimeBarPosition(){\n  var h, m, pixelTop;\n  h = this.today.getHours_0();\n  m = this.today.getMinutes_0();\n  if (h >= this.firstHour && h <= this.lastHour) {\n    pixelTop = this.weekgrid.getPixelTopFor(m + 60 * h);\n    cggdc.$clearDisplay(cggdc.$getStyle(this.todaybar));\n    cggdc.$setTop(cggdc.$getStyle(this.todaybar), pixelTop, (cggdc.$clinit_Style$Unit() , cggdc.PX));\n  }\n   else {\n    cggdc.$setDisplay(cggdc.$getStyle(this.todaybar), (cggdc.$clinit_Style$Display() , cggdc.NONE_0));\n  }\n}\n;\n_.removeEmphasisStyle = function removeEmphasisStyle(elementOver){\n  this.removeEmphasisStyle_0(cgguc.asOld(elementOver));\n}\n;\n_.removeEmphasisStyle_0 = function removeEmphasisStyle_0(elementOver){\n  var originalStylename;\n  originalStylename = cggucu.getStyleName_0(elementOver);\n  cggucu.setStyleName(elementOver, jl.substring_II_Ljava_lang_String___devirtual$(originalStylename, 0, jl.length__I__devirtual$_0(originalStylename) - jl.length__I__devirtual$_0(' dragemphasis')));\n}\n;\n_.removeEvent = function removeEvent(dayEvent){\n  this.remove_4(dayEvent);\n}\n;\n_.setDate_1 = function setDate_3(date){\n  this.date = date;\n}\n;\n_.setDisabled = function setDisabled_1(disabled){\n  this.disabled_0 = disabled;\n}\n;\n_.setHeightPX = function setHeightPX(height, cellHeights){\n  this.height_0 = height;\n  this.slotElementHeights = cellHeights;\n  this.setHeight_0(height + 'px');\n  this.recalculateCellHeights();\n  this.recalculateEventPositions();\n  if (isNotNull(this.today)) {\n    this.recalculateTimeBarPosition();\n  }\n}\n;\n_.setHorizontalSized = function setHorizontalSized(isHorizontalSized){\n  if (isHorizontalSized) {\n    this.addStyleDependentName('Hsized');\n    this.width_0 = this.getOffsetWidth() - cvc.measureHorizontalBorder(this.getElement());\n    this.updateEventCellsWidth();\n    this.recalculateEventWidths();\n  }\n   else {\n    this.removeStyleDependentName('Hsized');\n  }\n}\n;\n_.setTimeBarWidth = function setTimeBarWidth(timebarWidth){\n  cggdc.$setWidth_1(cggdc.$getStyle(this.todaybar), timebarWidth, (cggdc.$clinit_Style$Unit() , cggdc.PX));\n}\n;\n_.setToday = function setToday(today, width_0){\n  var lastChild;\n  this.today = today;\n  this.addStyleDependentName('today');\n  lastChild = cggdc.$getLastChild(this.getElement());\n  if (jl.equals_Ljava_lang_Object__Z__devirtual$_0(cggdc.$getClassName(lastChild), 'v-calendar-current-time')) {\n    this.todaybar = lastChild;\n  }\n   else {\n    this.todaybar = cgguc.createDiv();\n    cggdc.$setClassName(this.todaybar, 'v-calendar-current-time');\n    cggdc.$appendChild(this.getElement(), this.todaybar);\n  }\n  if (width_0 != -1) {\n    cggdc.$setWidth_1(cggdc.$getStyle(this.todaybar), width_0, (cggdc.$clinit_Style$Unit() , cggdc.PX));\n  }\n}\n;\n_.setVerticalSized = function setVerticalSized(isVerticalSized){\n  if (isVerticalSized) {\n    this.addStyleDependentName('Vsized');\n    this.startingSlotHeight = cggdc.$getOffsetHeight(this.slotElements[0]);\n    this.updateEventCellsHeight();\n    this.recalculateEventPositions();\n    if (this.isToday()) {\n      this.recalculateTimeBarPosition();\n    }\n  }\n   else {\n    this.removeStyleDependentName('Vsized');\n  }\n}\n;\n_.setWidthPX = function setWidthPX(cellWidth){\n  this.width_0 = cellWidth;\n  this.setWidth_0(cellWidth + 'px');\n  this.recalculateEventWidths();\n}\n;\n_.shouldDisplay = function shouldDisplay(event_0){\n  var display, eventEnd, eventEndHours, eventStart, eventStartHours;\n  display = true;\n  if (event_0.isTimeOnDifferentDays()) {\n    display = true;\n  }\n   else {\n    eventStart = event_0.getStartTime();\n    eventEnd = event_0.getEndTime();\n    eventStartHours = eventStart.getHours_0();\n    eventEndHours = eventEnd.getHours_0();\n    display = !(eventEndHours < this.firstHour || eventStartHours > this.lastHour);\n  }\n  return display;\n}\n;\n_.updateEventCellsHeight = function updateEventCellsHeight(){\n  var widget, widget$iterator;\n  for (widget$iterator = this.getChildren().iterator(); widget$iterator.hasNext();) {\n    widget = dynamicCast(widget$iterator.next_1(), 6);\n    if (instanceOf(widget, 143)) {\n      dynamicCast(widget, 143).setSlotHeightInPX(this.getSlotHeight());\n    }\n  }\n}\n;\n_.updateEventCellsWidth = function updateEventCellsWidth(){\n  var widget, widget$iterator;\n  for (widget$iterator = this.getChildren().iterator(); widget$iterator.hasNext();) {\n    widget = dynamicCast(widget$iterator.next_1(), 6);\n    if (instanceOf(widget, 143)) {\n      dynamicCast(widget, 143).setMoveWidth(this.width_0);\n    }\n  }\n}\n;\n_.updateGroup = function updateGroup(targetGroup, byGroup){\n  var index_0, index$iterator, newEnd, newStart;\n  newStart = targetGroup.getStart();\n  newEnd = targetGroup.getEnd();\n  if (byGroup.getStart().before(targetGroup.getStart())) {\n    newStart = byGroup.getEnd();\n  }\n  if (byGroup.getStart().after(targetGroup.getEnd())) {\n    newStart = byGroup.getStart();\n  }\n  targetGroup.setDateRange(new cvcucs.WeekGridMinuteTimeRange(newStart, newEnd));\n  for (index$iterator = byGroup.getItems().iterator(); index$iterator.hasNext();) {\n    index_0 = dynamicCast(index$iterator.next_1(), 43);\n    if (!targetGroup.getItems().contains_0(index_0)) {\n      targetGroup.add_11(index_0);\n    }\n  }\n}\n;\n_.updatePositionFor = function updatePositionFor(dayEvent, targetDay, calendarEvent){\n  var fromDt, h, m, onDifferentDays, range, startFromMinutes;\n  if (this.shouldDisplay(calendarEvent)) {\n    cggdc.$clearDisplay(cggdc.$getStyle(dayEvent.getElement()));\n    fromDt = calendarEvent.getStartTime();\n    h = fromDt.getHours_0();\n    m = fromDt.getMinutes_0();\n    range = calendarEvent.getRangeInMinutesForDay(targetDay);\n    onDifferentDays = calendarEvent.isTimeOnDifferentDays();\n    if (onDifferentDays) {\n      if (calendarEvent.getStart().compareTo_1(targetDay) != 0) {\n        h = 0;\n        m = 0;\n      }\n    }\n    startFromMinutes = h * 60 + m;\n    dayEvent.updatePosition_0(fromInt(startFromMinutes), range);\n  }\n   else {\n    cggdc.$setDisplay(cggdc.$getStyle(dayEvent.getElement()), (cggdc.$clinit_Style$Display() , cggdc.NONE_0));\n  }\n}\n;\ndefineClass(695, 6, {14:1, 10:1, 6:1, 695:1, 1:1}, cvcucs.DateCell$DateCellSlot);\n_.$init_1541 = function $init_1541(){\n}\n;\n_.getFrom = function getFrom(){\n  return this.from;\n}\n;\n_.getTo = function getTo(){\n  return this.to;\n}\n;\ndefineClass(427, 55, {94:1, 103:1, 7:1, 14:1, 22:1, 21:1, 10:1, 6:1, 427:1, 16:1, 1:1}, cvcucs.DateCellContainer);\n_.$init_1542 = function $init_1542(){\n}\n;\n_.addEmptyEventCell = function addEmptyEventCell(){\n  var dateCell;\n  dateCell = new cvcucs.WeeklyLongEventsDateCell;\n  dateCell.addMouseDownHandler(this);\n  dateCell.addMouseUpHandler(this);\n  this.add_2(dateCell);\n}\n;\n_.addEmptyEventCells = function addEmptyEventCells(eventCount){\n  var i_0;\n  for (i_0 = 0; i_0 < eventCount; i_0++) {\n    this.addEmptyEventCell();\n  }\n}\n;\n_.getDate_1 = function getDate_5(){\n  return this.date;\n}\n;\n_.getDateCell = function getDateCell(slotIndex){\n  if (!this.hasDateCell(slotIndex)) {\n    this.addEmptyEventCells(slotIndex - (this.getChildren().size_1() - 1));\n  }\n  return dynamicCast(this.getChildren().get_4(slotIndex), 358);\n}\n;\n_.hasDateCell = function hasDateCell(slotIndex){\n  return this.getChildren().size_1() - 1 >= slotIndex;\n}\n;\n_.hasEvent = function hasEvent(slotIndex){\n  return this.hasDateCell(slotIndex) && isNotNull(dynamicCast(this.getChildren().get_4(slotIndex), 358).getEvent());\n}\n;\n_.onMouseDown = function onMouseDown_8(event_0){\n  this.clickTargetWidget = dynamicCast(event_0.getSource(), 6);\n  event_0.stopPropagation_0();\n}\n;\n_.onMouseUp = function onMouseUp_4(event_0){\n  var calendarEvent;\n  if (maskUndefined(event_0.getSource()) === maskUndefined(this.clickTargetWidget) && instanceOf(this.clickTargetWidget, 358) && !this.calendar.isDisabledOrReadOnly()) {\n    calendarEvent = dynamicCast(this.clickTargetWidget, 358).getEvent();\n    if (isNotNull(this.calendar.getEventClickListener())) {\n      this.calendar.getEventClickListener().eventClick_0(calendarEvent);\n    }\n  }\n}\n;\n_.setCalendar = function setCalendar(calendar){\n  this.calendar = calendar;\n}\n;\n_.setDate_1 = function setDate_4(date){\n  this.date = date;\n}\n;\ndefineClass(2227, 46, $intern_291);\n_.$init_1543 = function $init_1543(){\n}\n;\n_.addKeyDownHandler = function addKeyDownHandler_7(handler){\n  return this.addDomHandler(handler, cggedc.getType_14());\n}\n;\n_.focus_0 = function focus_26(){\n  this.setFocus(true);\n}\n;\n_.setFocus = function setFocus_18(focus_0){\n  if (focus_0) {\n    cggucui.getFocusImplForPanel().focus_1(this.getElement());\n  }\n   else {\n    cggucui.getFocusImplForPanel().blur_2(this.getElement());\n  }\n}\n;\ndefineClass(143, 2227, $intern_292, cvcucs.DateCellDayEvent);\n_.$init_1544 = function $init_1544(){\n  this.caption_0 = null;\n  this.calendarEvent = null;\n  this.startY = -1;\n  this.startX = -1;\n}\n;\n_.addGlobalResizeStyle = function addGlobalResizeStyle(){\n  if (jsEquals(this.clickTarget, this.topResizeBar)) {\n    this.weekGrid.getCalendar().addStyleDependentName('nresize');\n  }\n   else if (jsEquals(this.clickTarget, this.bottomResizeBar)) {\n    this.weekGrid.getCalendar().addStyleDependentName('sresize');\n  }\n}\n;\n_.calculateDateCellOffsetPx = function calculateDateCellOffsetPx(dateOffset){\n  var dateCellOffset, dateWidths, i_0;\n  dateCellOffset = 0;\n  dateWidths = this.weekGrid.getDateCellWidths();\n  if (jsNotEquals(dateWidths, null)) {\n    for (i_0 = 0; i_0 < dateOffset; i_0++) {\n      dateCellOffset += dateWidths[i_0] + 1;\n    }\n  }\n   else {\n    dateCellOffset = dateOffset * this.weekGrid.getDateCellWidth_0();\n  }\n  return dateCellOffset;\n}\n;\n_.calculateStartFromMinute = function calculateStartFromMinute(startFromMinutes, from, to, dayOffset){\n  var eventStartAtDifferentDay, minutesOnPrevDay;\n  eventStartAtDifferentDay = from.getDate_0() != to.getDate_0();\n  if (eventStartAtDifferentDay) {\n    minutesOnPrevDay = div_0(sub_0(this.getTargetDateByCurrentPosition(dayOffset).getTime_1(), from.getTime_1()), {l:60000, m:0, h:0});\n    startFromMinutes = mul(fromInt(-1), minutesOnPrevDay);\n  }\n  return startFromMinutes;\n}\n;\n_.cancelMouseMove = function cancelMouseMove(){\n  var dateCellWidth, dayOffset, range, s, startFromMinutes;\n  this.mouseMoveCanceled = true;\n  cgguc.releaseCapture_0(this.getElement());\n  this.setFocus(false);\n  if (isNotNull(this.moveRegistration)) {\n    this.moveRegistration.removeHandler_0();\n    this.moveRegistration = null;\n  }\n  this.mouseMoveStarted = false;\n  this.removeGlobalResizeStyle();\n  s = cggdc.$getStyle(this.getElement());\n  cggdc.$setZIndex(s, 1);\n  dateCellWidth = this.getDateCellWidth();\n  dayOffset = narrow_int(this.startXrelative / dateCellWidth);\n  cggdc.$clearLeft(s);\n  this.calendarEvent.setStartTime(this.startDatetimeFrom);\n  this.calendarEvent.setEndTime(this.startDatetimeTo);\n  startFromMinutes = fromInt(this.startDatetimeFrom.getHours_0() * 60 + this.startDatetimeFrom.getMinutes_0());\n  range = this.calendarEvent.getRangeInMinutes();\n  startFromMinutes = this.calculateStartFromMinute(startFromMinutes, this.startDatetimeFrom, this.startDatetimeTo, dayOffset);\n  if (lt(startFromMinutes, {l:0, m:0, h:0})) {\n    range = add_2(range, startFromMinutes);\n  }\n  this.updatePosition_0(startFromMinutes, range);\n  this.startY = -1;\n  this.startX = -1;\n  dynamicCast(this.getParent_0(), 122).recalculateEventWidths();\n}\n;\n_.clickTargetsResize = function clickTargetsResize(){\n  return this.weekGrid.getCalendar().isEventResizeAllowed() && (jsEquals(this.clickTarget, this.topResizeBar) || jsEquals(this.clickTarget, this.bottomResizeBar));\n}\n;\n_.getCalendarEvent = function getCalendarEvent(){\n  return this.calendarEvent;\n}\n;\n_.getDateCellWidth = function getDateCellWidth(){\n  return this.weekGrid.getDateCellWidth_0();\n}\n;\n_.getDatesWidth = function getDatesWidth(){\n  var count;\n  if (this.weekGrid.width_0 == -1) {\n    count = this.weekGrid.content_0.getWidgetCount() - 1;\n    return count * this.getDateCellWidth();\n  }\n  return this.weekGrid.getInternalWidth();\n}\n;\n_.getMinTimeRange = function getMinTimeRange(){\n  return mul({l:60000, m:0, h:0}, {l:30, m:0, h:0});\n}\n;\n_.getTargetDateByCurrentPosition = function getTargetDateByCurrentPosition(left){\n  var newParent, targetDate;\n  newParent = dynamicCast(this.weekGrid.content_0.getWidget(narrow_int(left / this.getDateCellWidth()) + 1), 122);\n  targetDate = newParent.getDate_1();\n  return targetDate;\n}\n;\n_.getTooltipKey = function getTooltipKey(){\n  return this.eventIndex;\n}\n;\n_.isDisabled = function isDisabled_2(){\n  return this.disabled_0;\n}\n;\n_.isTimeRangeTooSmall = function isTimeRangeTooSmall(start_0, end){\n  return gte_0(sub_0(end, start_0), this.getMinTimeRange());\n}\n;\n_.onAttach = function onAttach_16(){\n  getClassPrototype(6).onAttach.call(this);\n  this.handlers.add_7(this.addMouseDownHandler(this));\n  this.handlers.add_7(this.addMouseUpHandler(this));\n  this.handlers.add_7(this.addKeyDownHandler(this));\n  this.handlers.add_7(this.addDomHandler(this, cggedc.getType_11()));\n}\n;\n_.onContextMenu = function onContextMenu_4(event_0){\n  if (isNotNull(this.dateCell.weekgrid.getCalendar().getMouseEventListener())) {\n    event_0.preventDefault_0();\n    event_0.stopPropagation_0();\n    this.dateCell.weekgrid.getCalendar().getMouseEventListener().contextMenu_0(event_0, this);\n  }\n}\n;\n_.onDetach = function onDetach_26(){\n  var handler, handler$iterator;\n  for (handler$iterator = this.handlers.iterator(); handler$iterator.hasNext();) {\n    handler = dynamicCast(handler$iterator.next_1(), 303);\n    handler.removeHandler_0();\n  }\n  this.handlers.clear_1();\n  getClassPrototype(6).onDetach.call(this);\n}\n;\n_.onKeyDown = function onKeyDown_17(event_0){\n  var keycode;\n  keycode = cggdc.$getKeyCode(event_0.getNativeEvent());\n  if (keycode == 27 && this.mouseMoveStarted) {\n    this.cancelMouseMove();\n  }\n}\n;\n_.onMouseDown = function onMouseDown_9(event_0){\n  var e, s;\n  this.startX = event_0.getClientX();\n  this.startY = event_0.getClientY();\n  if (this.isDisabled() || event_0.getNativeButton() != 1) {\n    return;\n  }\n  this.clickTarget = cggdc.as_0(cggdc.$getEventTarget(event_0.getNativeEvent()));\n  this.mouseMoveCanceled = false;\n  if (this.weekGrid.getCalendar().isEventMoveAllowed() || this.clickTargetsResize()) {\n    this.moveRegistration = this.addMouseMoveHandler(this);\n    this.setFocus(true);\n    try {\n      this.startYrelative = round_int(event_0.getRelativeY(this.caption_0) % this.slotHeight);\n      this.startXrelative = (event_0.getRelativeX(this.weekGrid.getElement()) - this.weekGrid.timebar.getOffsetWidth()) % this.getDateCellWidth();\n    }\n     catch ($e0) {\n      $e0 = wrap_1($e0);\n      if (instanceOf($e0, 29)) {\n        e = $e0;\n        log_2('Exception calculating relative start position', e);\n      }\n       else \n        throw unwrap($e0);\n    }\n    this.mouseMoveStarted = false;\n    s = cggdc.$getStyle(this.getElement());\n    cggdc.$setZIndex(s, $intern_20);\n    this.startDatetimeFrom = dynamicCast(this.calendarEvent.getStartTime().clone(), 28);\n    this.startDatetimeTo = dynamicCast(this.calendarEvent.getEndTime().clone(), 28);\n    cgguc.setCapture_0(this.getElement());\n  }\n  if (this.clickTargetsResize()) {\n    this.addGlobalResizeStyle();\n  }\n  event_0.stopPropagation_0();\n  event_0.preventDefault_0();\n}\n;\n_.onMouseMove = function onMouseMove_3(event_0){\n  var $tmp, currentX, currentY, dateCellCount, dateCellWidth, dayDiff, dayOffset, dayOffsetPx, daysMs, duration, from, halfHourDiff, moveX, moveY, newEndTime, newStartTime, oldEndTime, oldStartTime, parent_0, range, relativeX, s, startFromMinutes, to;\n  if (this.startY < 0 && this.startX < 0) {\n    return;\n  }\n  if (this.isDisabled()) {\n    cgguc.releaseCapture_0(this.getElement());\n    this.mouseMoveStarted = false;\n    this.startY = -1;\n    this.startX = -1;\n    this.removeGlobalResizeStyle();\n    return;\n  }\n  currentY = event_0.getClientY();\n  currentX = event_0.getClientX();\n  moveY = currentY - this.startY;\n  moveX = currentX - this.startX;\n  if (moveY < 5 && moveY > -6 && (moveX < 5 && moveX > -6)) {\n    return;\n  }\n  if (!this.mouseMoveStarted) {\n    this.setWidth_0(this.moveWidth);\n    cggdc.$setMarginLeft(cggdc.$getStyle(this.getElement()), 0, (cggdc.$clinit_Style$Unit() , cggdc.PX));\n    this.mouseMoveStarted = true;\n  }\n  parent_0 = dynamicCast(this.getParent_0().getParent_0(), 198);\n  relativeX = event_0.getRelativeX(parent_0.getElement()) - this.weekGrid.timebar.getOffsetWidth();\n  halfHourDiff = 0;\n  if (moveY > 0) {\n    halfHourDiff = narrow_int((this.startYrelative + moveY) / this.slotHeight);\n  }\n   else {\n    halfHourDiff = narrow_int((moveY - this.startYrelative) / this.slotHeight);\n  }\n  dateCellWidth = this.getDateCellWidth();\n  dayDiff = {l:0, m:0, h:0};\n  if (moveX >= 0) {\n    dayDiff = fromInt(narrow_int((this.startXrelative + moveX) / dateCellWidth));\n  }\n   else {\n    dayDiff = fromInt(narrow_int((moveX - (dateCellWidth - this.startXrelative)) / dateCellWidth));\n  }\n  dayOffset = narrow_int(relativeX / dateCellWidth);\n  dateCellCount = this.weekGrid.getDateCellCount();\n  if (dayOffset >= dateCellCount) {\n    dayOffset--;\n    $tmp = dayDiff , dayDiff = sub_0(dayDiff, {l:1, m:0, h:0}) , $tmp;\n  }\n  dayOffsetPx = this.calculateDateCellOffsetPx(dayOffset) + this.weekGrid.timebar.getOffsetWidth();\n  cggcc.log_1('DateCellWidth: ' + dateCellWidth + ' dayDiff: ' + toString_10(dayDiff) + ' dayOffset: ' + dayOffset + ' dayOffsetPx: ' + dayOffsetPx + ' startXrelative: ' + this.startXrelative + ' moveX: ' + moveX);\n  if (relativeX < 0 || relativeX >= this.getDatesWidth()) {\n    return;\n  }\n  s = cggdc.$getStyle(this.getElement());\n  from = this.calendarEvent.getStartTime();\n  to = this.calendarEvent.getEndTime();\n  duration = sub_0(to.getTime_1(), from.getTime_1());\n  if (!this.clickTargetsResize() && this.weekGrid.getCalendar().isEventMoveAllowed()) {\n    daysMs = mul(dayDiff, {l:2513920, m:20, h:0});\n    from.setTime_0(add_2(this.startDatetimeFrom.getTime_1(), daysMs));\n    from.setTime_0(add_2(from.getTime_1(), mul(fromInt(1800000), fromInt(halfHourDiff))));\n    to.setTime_0(add_2(from.getTime_1(), duration));\n    this.calendarEvent.setStartTime(from);\n    this.calendarEvent.setEndTime(to);\n    this.calendarEvent.setStart(new ju.Date_3(from.getTime_1()));\n    this.calendarEvent.setEnd(new ju.Date_3(to.getTime_1()));\n    startFromMinutes = fromInt(from.getHours_0() * 60 + from.getMinutes_0());\n    range = this.calendarEvent.getRangeInMinutes();\n    startFromMinutes = this.calculateStartFromMinute(startFromMinutes, from, to, dayOffsetPx);\n    if (lt(startFromMinutes, {l:0, m:0, h:0})) {\n      range = add_2(range, startFromMinutes);\n    }\n    this.updatePosition_0(startFromMinutes, range);\n    cggdc.$setLeft(s, dayOffsetPx, (cggdc.$clinit_Style$Unit() , cggdc.PX));\n    if (jsNotEquals(this.weekGrid.getDateCellWidths(), null)) {\n      cggdc.$setWidth_1(s, this.weekGrid.getDateCellWidths()[dayOffset], (cggdc.$clinit_Style$Unit() , cggdc.PX));\n    }\n     else {\n      this.setWidth_0(this.moveWidth);\n    }\n  }\n   else if (jsEquals(this.clickTarget, this.topResizeBar)) {\n    oldStartTime = this.startDatetimeFrom.getTime_1();\n    newStartTime = add_2(oldStartTime, mul(fromInt(1800000), fromInt(halfHourDiff)));\n    if (!this.isTimeRangeTooSmall(newStartTime, this.startDatetimeTo.getTime_1())) {\n      newStartTime = sub_0(this.startDatetimeTo.getTime_1(), this.getMinTimeRange());\n    }\n    from.setTime_0(newStartTime);\n    this.calendarEvent.setStartTime(from);\n    this.calendarEvent.setStart(new ju.Date_3(from.getTime_1()));\n    startFromMinutes = fromInt(from.getHours_0() * 60 + from.getMinutes_0());\n    range = this.calendarEvent.getRangeInMinutes();\n    this.updatePosition_0(startFromMinutes, range);\n  }\n   else if (jsEquals(this.clickTarget, this.bottomResizeBar)) {\n    oldEndTime = this.startDatetimeTo.getTime_1();\n    newEndTime = add_2(oldEndTime, mul(fromInt(1800000), fromInt(halfHourDiff)));\n    if (!this.isTimeRangeTooSmall(this.startDatetimeFrom.getTime_1(), newEndTime)) {\n      newEndTime = add_2(this.startDatetimeFrom.getTime_1(), this.getMinTimeRange());\n    }\n    to.setTime_0(newEndTime);\n    this.calendarEvent.setEndTime(to);\n    this.calendarEvent.setEnd(new ju.Date_3(to.getTime_1()));\n    startFromMinutes = fromInt(this.startDatetimeFrom.getHours_0() * 60 + this.startDatetimeFrom.getMinutes_0());\n    range = this.calendarEvent.getRangeInMinutes();\n    startFromMinutes = this.calculateStartFromMinute(startFromMinutes, from, to, dayOffsetPx);\n    if (lt(startFromMinutes, {l:0, m:0, h:0})) {\n      range = add_2(range, startFromMinutes);\n    }\n    this.updatePosition_0(startFromMinutes, range);\n  }\n}\n;\n_.onMouseUp = function onMouseUp_5(event_0){\n  var e, endX, endY, et, mouseMoved, s, xDiff, yDiff;\n  if (this.mouseMoveCanceled || event_0.getNativeButton() != 1) {\n    return;\n  }\n  cgguc.releaseCapture_0(this.getElement());\n  this.setFocus(false);\n  if (isNotNull(this.moveRegistration)) {\n    this.moveRegistration.removeHandler_0();\n    this.moveRegistration = null;\n  }\n  endX = event_0.getClientX();\n  endY = event_0.getClientY();\n  xDiff = 0;\n  yDiff = 0;\n  if (this.startX != -1 && this.startY != -1) {\n    xDiff = this.startX - endX;\n    yDiff = this.startY - endY;\n  }\n  this.startX = -1;\n  this.startY = -1;\n  this.mouseMoveStarted = false;\n  s = cggdc.$getStyle(this.getElement());\n  cggdc.$setZIndex(s, 1);\n  if (!this.clickTargetsResize()) {\n    mouseMoved = xDiff < -3 || xDiff > 3 || yDiff < -3 || yDiff > 3;\n    if (!this.weekGrid.getCalendar().isDisabledOrReadOnly() && mouseMoved) {\n      this.weekGrid.eventMoved_1(this);\n    }\n     else if (!this.weekGrid.getCalendar().isDisabled()) {\n      et = cggdc.$getEventTarget(event_0.getNativeEvent());\n      e = cggdc.as_0(et);\n      if (jsEquals(e, this.caption_0) || jsEquals(e, this.eventContent) || jsEquals(cggdc.$getParentElement(e), this.caption_0)) {\n        if (isNotNull(this.weekGrid.getCalendar().getEventClickListener())) {\n          this.weekGrid.getCalendar().getEventClickListener().eventClick_0(this.calendarEvent);\n        }\n      }\n    }\n  }\n   else {\n    this.removeGlobalResizeStyle();\n    if (isNotNull(this.weekGrid.getCalendar().getEventResizeListener())) {\n      this.weekGrid.getCalendar().getEventResizeListener().eventResized(this.calendarEvent);\n    }\n    this.dateCell.recalculateEventWidths();\n  }\n}\n;\n_.removeGlobalResizeStyle = function removeGlobalResizeStyle(){\n  this.weekGrid.getCalendar().removeStyleDependentName('nresize');\n  this.weekGrid.getCalendar().removeStyleDependentName('sresize');\n}\n;\n_.setCalendarEvent = function setCalendarEvent(calendarEvent){\n  this.calendarEvent = calendarEvent;\n}\n;\n_.setDisabled = function setDisabled_2(disabled){\n  this.disabled_0 = disabled;\n}\n;\n_.setHeight = function setHeight_14(h){\n  if (h == -1) {\n    cggdc.$setProperty_0(cggdc.$getStyle(this.getElement()), 'height', '');\n    cggdc.$setProperty_0(cggdc.$getStyle(this.eventContent), 'height', '');\n  }\n   else {\n    cggdc.$setHeight_1(cggdc.$getStyle(this.getElement()), h, (cggdc.$clinit_Style$Unit() , cggdc.PX));\n    cggdc.$setHeight_1(cggdc.$getStyle(this.eventContent), h - 2, (cggdc.$clinit_Style$Unit() , cggdc.PX));\n  }\n}\n;\n_.setMoveWidth = function setMoveWidth(width_0){\n  this.moveWidth = width_0 + 'px';\n}\n;\n_.setSlotHeightInPX = function setSlotHeightInPX(slotHeight){\n  this.slotHeight = slotHeight;\n}\n;\n_.updateCaptions_1 = function updateCaptions_1(bigMode){\n  var htmlOrText, innerHtml, timeAsText;\n  timeAsText = this.calendarEvent.getTimeAsText();\n  if (this.dateCell.weekgrid.getCalendar().isEventCaptionAsHtml()) {\n    htmlOrText = this.calendarEvent.getCaption();\n  }\n   else {\n    htmlOrText = cvc.escapeHTML_0(this.calendarEvent.getCaption());\n  }\n  if (bigMode) {\n    innerHtml = '<span>' + timeAsText + '<\\/span><br />' + htmlOrText;\n  }\n   else {\n    innerHtml = '<span>' + timeAsText + '<span>:<\\/span><\\/span> ' + htmlOrText;\n  }\n  cggdc.$setInnerHTML(this.caption_0, innerHtml);\n  cggdc.$setInnerHTML(this.eventContent, '');\n}\n;\n_.updatePosition_0 = function updatePosition_0(startFromMinutes, durationInMinutes){\n  var heightMinutes, multiRowCaption;\n  if (lt(startFromMinutes, {l:0, m:0, h:0})) {\n    startFromMinutes = {l:0, m:0, h:0};\n  }\n  this.top_0 = this.weekGrid.getPixelTopFor(toInt(startFromMinutes));\n  cggdc.$setTop(cggdc.$getStyle(this.getElement()), this.top_0, (cggdc.$clinit_Style$Unit() , cggdc.PX));\n  if (gt(durationInMinutes, {l:0, m:0, h:0})) {\n    heightMinutes = this.weekGrid.getPixelLengthFor(toInt(startFromMinutes), toInt(durationInMinutes));\n    this.setHeight(heightMinutes);\n  }\n   else {\n    this.setHeight(-1);\n  }\n  multiRowCaption = gt(durationInMinutes, {l:30, m:0, h:0});\n  this.updateCaptions_1(multiRowCaption);\n}\n;\ndefineClass(510, 1, {510:1, 1:1}, cvcucs.DateCellGroup);\n_.$init_1545 = function $init_1545(){\n}\n;\n_.add_11 = function add_28(index_0){\n  this.items_0.add_7(index_0);\n}\n;\n_.getDateRange = function getDateRange(){\n  return this.range;\n}\n;\n_.getEnd = function getEnd_0(){\n  return this.range.getEnd();\n}\n;\n_.getItems = function getItems_2(){\n  return this.items_0;\n}\n;\n_.getStart = function getStart_0(){\n  return this.range.getStart();\n}\n;\n_.setDateRange = function setDateRange(range){\n  this.range = range;\n}\n;\ndefineClass(2222, 198, {37:1, 7:1, 14:1, 22:1, 198:1, 21:1, 10:1, 6:1, 16:1, 1:1}, cvcucs.DayToolbar);\n_.$init_1546 = function $init_1546(){\n  this.width_0 = 0;\n}\n;\n_.add_12 = function add_29(dayName, date, localized_date_format, extraClass){\n  var l;\n  l = new cggucu.Label_1(dayName + ' ' + localized_date_format);\n  l.setStylePrimaryName('v-calendar-header-day');\n  if (jsNotEquals(extraClass, null)) {\n    l.addStyleDependentName(extraClass);\n  }\n  if (this.verticalSized) {\n    l.addStyleDependentName('Vsized');\n  }\n  if (this.horizontalSized) {\n    l.addStyleDependentName('Hsized');\n  }\n  l.addClickHandler(new cvcucs.DayToolbar$1(this, date));\n  this.add_2(l);\n}\n;\n_.addBackButton = function addBackButton(){\n  if (!this.calendar.isBackwardNavigationEnabled()) {\n    cggdc.$setHeight_1(cggdc.$getStyle(this.nextLabel.getElement()), 0, (cggdc.$clinit_Style$Unit() , cggdc.PX));\n  }\n  this.add_2(this.backLabel);\n}\n;\n_.addNextButton = function addNextButton(){\n  if (!this.calendar.isForwardNavigationEnabled()) {\n    cggdc.$setHeight_1(cggdc.$getStyle(this.backLabel.getElement()), 0, (cggdc.$clinit_Style$Unit() , cggdc.PX));\n  }\n  this.add_2(this.nextLabel);\n}\n;\n_.onClick = function onClick_51(event_0){\n  if (!this.calendar.isDisabled()) {\n    if (maskUndefined(event_0.getSource()) === maskUndefined(this.nextLabel)) {\n      if (isNotNull(this.calendar.getForwardListener())) {\n        this.calendar.getForwardListener().forward_0();\n      }\n    }\n     else if (maskUndefined(event_0.getSource()) === maskUndefined(this.backLabel)) {\n      if (isNotNull(this.calendar.getBackwardListener())) {\n        this.calendar.getBackwardListener().backward();\n      }\n    }\n  }\n}\n;\n_.setHorizontalSized = function setHorizontalSized_0(sized){\n  this.horizontalSized = sized;\n  this.updateDayLabelSizedStyleNames();\n}\n;\n_.setVerticalSized = function setVerticalSized_0(sized){\n  this.verticalSized = sized;\n  this.updateDayLabelSizedStyleNames();\n}\n;\n_.setWidthPX = function setWidthPX_0(width_0){\n  this.width_0 = width_0 - 50 - 20;\n  if (this.getWidgetCount() == 0) {\n    return;\n  }\n  this.updateCellWidths();\n}\n;\n_.updateCellWidths = function updateCellWidths(){\n  var cellWidths, cellw, count, i_0, widget;\n  count = this.getWidgetCount();\n  if (count > 0) {\n    this.setCellWidth(this.backLabel, 50 + 'px');\n    this.setCellWidth(this.nextLabel, 20 + 'px');\n    this.setCellHorizontalAlignment_1(this.nextLabel, (cggucu.$clinit_HasHorizontalAlignment() , cggucu.ALIGN_RIGHT));\n    cellw = narrow_int(this.width_0 / (count - 2));\n    if (cellw > 0) {\n      cellWidths = cvcu.distributeSize(this.width_0, count - 2, 0);\n      for (i_0 = 1; i_0 < count - 1; i_0++) {\n        widget = this.getWidget(i_0);\n        this.setCellWidth(widget, cellWidths[i_0 - 1] + 'px');\n        widget.setWidth_0(cellWidths[i_0 - 1] + 'px');\n      }\n    }\n  }\n}\n;\n_.updateDayLabelSizedStyleNames = function updateDayLabelSizedStyleNames(){\n  var it;\n  it = this.iterator();\n  while (it.hasNext()) {\n    this.updateWidgetSizedStyleName(dynamicCast(it.next_1(), 6));\n  }\n}\n;\n_.updateWidgetSizedStyleName = function updateWidgetSizedStyleName(w){\n  if (this.verticalSized) {\n    w.addStyleDependentName('Vsized');\n  }\n   else {\n    w.removeStyleDependentName('VSized');\n  }\n  if (this.horizontalSized) {\n    w.addStyleDependentName('Hsized');\n  }\n   else {\n    w.removeStyleDependentName('HSized');\n  }\n}\n;\n_.horizontalSized = false;\n_.verticalSized = false;\n_.width_0 = 0;\ndefineClass(2223, 1, $intern_89, cvcucs.DayToolbar$1);\n_.$init_1547 = function $init_1547(){\n}\n;\n_.onClick = function onClick_52(event_0){\n  if (isNotNull(this.this$01.calendar.getDateClickListener())) {\n    this.this$01.calendar.getDateClickListener().dateClick(this.val$date2);\n  }\n}\n;\ndefineClass(2267, 687, $intern_190);\n_.$init_1548 = function $init_1548(){\n}\n;\n_.addKeyDownHandler = function addKeyDownHandler_8(handler){\n  return this.addDomHandler(handler, cggedc.getType_14());\n}\n;\n_.focus_0 = function focus_27(){\n  this.setFocus(true);\n}\n;\n_.makeFocusable = function makeFocusable_0(){\n  cggdc.$setTabIndex(this.getElement(), 0);\n}\n;\n_.setFocus = function setFocus_19(focus_0){\n  if (focus_0) {\n    cggucui.getFocusImplForPanel().focus_1(this.getElement());\n  }\n   else {\n    cggucui.getFocusImplForPanel().blur_2(this.getElement());\n  }\n}\n;\ndefineClass(191, 46, {41:1, 38:1, 14:1, 53:1, 10:1, 6:1, 521:1, 191:1, 1:1}, cvcucs.MonthEventLabel);\n_.$init_1549 = function $init_1549(){\n  this.timeSpecificEvent = false;\n}\n;\n_.getCalendarEvent = function getCalendarEvent_0(){\n  return this.calendarEvent;\n}\n;\n_.getTooltipKey = function getTooltipKey_0(){\n  return this.eventIndex;\n}\n;\n_.isTimeSpecificEvent = function isTimeSpecificEvent(){\n  return this.timeSpecificEvent;\n}\n;\n_.renderCaption = function renderCaption(){\n  var html, textOrHtml;\n  html = new jl.StringBuilder;\n  if (this.calendar.isEventCaptionAsHtml()) {\n    textOrHtml = this.caption_0;\n  }\n   else {\n    textOrHtml = cvc.escapeHTML(this.caption_0);\n  }\n  if (jsNotEquals(this.caption_0, null) && isNotNull(this.time)) {\n    html.append_6('<span class=\"' + 'v-calendar-event' + '-time\">');\n    html.append_6(this.calendar.getTimeFormat().format_0(this.time));\n    html.append_6('<\\/span> ');\n    html.append_6(textOrHtml);\n  }\n   else if (jsNotEquals(this.caption_0, null)) {\n    html.append_6(textOrHtml);\n  }\n   else if (isNotNull(this.time)) {\n    html.append_6('<span class=\"' + 'v-calendar-event' + '-time\">');\n    html.append_6(this.calendar.getTimeFormat().format_0(this.time));\n    html.append_6('<\\/span>');\n  }\n  getClassPrototype(46).setHTML.call(this, html.toString$());\n}\n;\n_.setCalendar = function setCalendar_0(calendar){\n  this.calendar = calendar;\n}\n;\n_.setCalendarEvent = function setCalendarEvent_0(e){\n  this.calendarEvent = e;\n}\n;\n_.setCaption = function setCaption_9(caption){\n  this.caption_0 = caption;\n  this.renderCaption();\n}\n;\n_.setEventIndex = function setEventIndex(index_0){\n  this.eventIndex = jl.valueOf_73(index_0);\n}\n;\n_.setHTML = function setHTML_12(html){\n  throw new jl.UnsupportedOperationException_0('Use setCaption() and setTime() instead');\n}\n;\n_.setTime_1 = function setTime_1(date){\n  this.time = date;\n  this.renderCaption();\n}\n;\n_.setTimeSpecificEvent = function setTimeSpecificEvent(timeSpecificEvent){\n  this.timeSpecificEvent = timeSpecificEvent;\n}\n;\n_.timeSpecificEvent = false;\ndefineClass(2309, 1, $intern_183, cvcucs.MonthEventLabel$1);\n_.$init_1550 = function $init_1550(){\n}\n;\n_.onContextMenu = function onContextMenu_5(event_0){\n  this.this$01.calendar.getMouseEventListener().contextMenu_0(event_0, this.this$01);\n  event_0.stopPropagation_0();\n  event_0.preventDefault_0();\n}\n;\ndefineClass(2268, 2267, {41:1, 38:1, 95:1, 7:1, 14:1, 22:1, 21:1, 10:1, 6:1, 63:1, 16:1, 1:1}, cvcucs.MonthGrid);\n_.$init_1551 = function $init_1551(){\n  this.enabled = true;\n}\n;\n_.cancelRangeSelection = function cancelRangeSelection(){\n  var cell, row, sdc;\n  if (isNotNull(this.selectionStart_0) && isNotNull(this.selectionEnd)) {\n    for (row = 0; row < this.getRowCount(); row++) {\n      for (cell = 0; cell < this.getCellCount(row); cell++) {\n        sdc = dynamicCast(this.getWidget_1(row, cell), 137);\n        if (isNull(sdc)) {\n          return;\n        }\n        sdc.removeStyleDependentName('selected');\n      }\n    }\n  }\n  this.setFocus(false);\n  this.selectionStart_0 = null;\n}\n;\n_.getDayCellIndex = function getDayCellIndex(dayCell){\n  var cells_0, i_0, j, rows_0, sdc;\n  rows_0 = this.getRowCount();\n  cells_0 = this.getCellCount(0);\n  for (i_0 = 0; i_0 < rows_0; i_0++) {\n    for (j = 0; j < cells_0; j++) {\n      sdc = dynamicCast(this.getWidget_1(i_0, j), 137);\n      if (jsEquals(dayCell, sdc)) {\n        return i_0 * cells_0 + j;\n      }\n    }\n  }\n  return -1;\n}\n;\n_.isEnabled = function isEnabled_22(){\n  return this.enabled;\n}\n;\n_.onKeyDown = function onKeyDown_18(event_0){\n  var keycode;\n  keycode = event_0.getNativeKeyCode();\n  if (27 == keycode && isNotNull(this.selectionStart_0)) {\n    this.cancelRangeSelection();\n  }\n}\n;\n_.onUnload = function onUnload_4(){\n  this.keyDownHandler.removeHandler_0();\n  getClassPrototype(6).onUnload.call(this);\n}\n;\n_.setEnabled = function setEnabled_19(enabled){\n  this.enabled = enabled;\n}\n;\n_.setSelectionEnd = function setSelectionEnd(simpleDayCell){\n  this.selectionEnd = simpleDayCell;\n  this.updateSelection();\n}\n;\n_.setSelectionReady = function setSelectionReady(){\n  var endDate, startDate, temp, value_0;\n  if (isNotNull(this.selectionStart_0) && isNotNull(this.selectionEnd)) {\n    value_0 = '';\n    startDate = this.selectionStart_0.getDate_1();\n    endDate = this.selectionEnd.getDate_1();\n    if (startDate.compareTo_1(endDate) > 0) {\n      temp = startDate;\n      startDate = endDate;\n      endDate = temp;\n    }\n    if (isNotNull(this.calendar.getRangeSelectListener())) {\n      value_0 = this.calendar.getDateFormat().format_0(startDate) + 'TO' + this.calendar.getDateFormat().format_0(endDate);\n      this.calendar.getRangeSelectListener().rangeSelected(value_0);\n    }\n    this.selectionStart_0 = null;\n    this.selectionEnd = null;\n    this.setFocus(false);\n  }\n}\n;\n_.setSelectionStart = function setSelectionStart(simpleDayCell){\n  if (!this.rangeSelectDisabled && this.isEnabled()) {\n    this.selectionStart_0 = simpleDayCell;\n    this.setFocus(true);\n  }\n}\n;\n_.updateCellSizes = function updateCellSizes(totalWidthPX, totalHeightPX){\n  var cellHeight, cellWidth, cells_0, heightPX, heightRemainder, i_0, j, rows_0, sdc, setHeight, setWidth, widthRemainder;\n  setHeight = totalHeightPX > 0;\n  setWidth = totalWidthPX > 0;\n  rows_0 = this.getRowCount();\n  cells_0 = this.getCellCount(0);\n  cellWidth = narrow_int(totalWidthPX / cells_0) - 1;\n  widthRemainder = totalWidthPX % cells_0;\n  heightPX = totalHeightPX;\n  cellHeight = narrow_int(heightPX / rows_0);\n  heightRemainder = heightPX % rows_0;\n  for (i_0 = 0; i_0 < rows_0; i_0++) {\n    for (j = 0; j < cells_0; j++) {\n      sdc = dynamicCast(this.getWidget_1(i_0, j), 137);\n      if (setWidth) {\n        if (widthRemainder > 0) {\n          sdc.setWidth_0(cellWidth + 1 + 'px');\n          widthRemainder--;\n        }\n         else {\n          sdc.setWidth_0(cellWidth + 'px');\n        }\n      }\n      if (setHeight) {\n        if (heightRemainder > 0) {\n          sdc.setHeightPX_0(cellHeight + 1, true);\n        }\n         else {\n          sdc.setHeightPX_0(cellHeight, true);\n        }\n      }\n       else {\n        sdc.setHeightPX_0(-1, true);\n      }\n    }\n    heightRemainder--;\n  }\n}\n;\n_.updateSelection = function updateSelection(){\n  var cell, d, endDate, row, sdc, startDate;\n  if (isNull(this.selectionStart_0)) {\n    return;\n  }\n  if (isNotNull(this.selectionStart_0) && isNotNull(this.selectionEnd)) {\n    startDate = this.selectionStart_0.getDate_1();\n    endDate = this.selectionEnd.getDate_1();\n    for (row = 0; row < this.getRowCount(); row++) {\n      for (cell = 0; cell < this.getCellCount(row); cell++) {\n        sdc = dynamicCast(this.getWidget_1(row, cell), 137);\n        if (isNull(sdc)) {\n          return;\n        }\n        d = sdc.getDate_1();\n        if (startDate.compareTo_1(d) <= 0 && endDate.compareTo_1(d) >= 0) {\n          sdc.addStyleDependentName('selected');\n        }\n         else if (startDate.compareTo_1(d) >= 0 && endDate.compareTo_1(d) <= 0) {\n          sdc.addStyleDependentName('selected');\n        }\n         else {\n          sdc.removeStyleDependentName('selected');\n        }\n      }\n    }\n  }\n}\n;\n_.enabled = false;\n_.rangeSelectDisabled = false;\ndefineClass(137, 2224, {94:1, 361:1, 431:1, 103:1, 7:1, 14:1, 22:1, 21:1, 10:1, 6:1, 63:1, 137:1, 16:1, 1:1}, cvcucs.SimpleDayCell);\n_.$init_1552 = function $init_1552(){\n  this.events = initDim(cggl.Lcom_vaadin_client_ui_calendar_schedule_CalendarEvent_2_classLit, $intern_288, 260, 10, 0, 1);\n  this.eventCount = 0;\n  this.startX = -1;\n  this.startY = -1;\n  this.prevDayDiff = 0;\n  this.prevWeekDiff = 0;\n  this.scrollable = false;\n}\n;\n_.addCalendarEvent = function addCalendarEvent(e){\n  var i_0, slot;\n  this.eventCount++;\n  slot = e.getSlotIndex();\n  if (slot == -1) {\n    for (i_0 = 0; i_0 < this.events.length; i_0++) {\n      if (isNull(this.events[i_0])) {\n        setCheck(this.events, i_0, e);\n        e.setSlotIndex(i_0);\n        break;\n      }\n    }\n  }\n   else {\n    setCheck(this.events, slot, e);\n  }\n}\n;\n_.addEmphasisStyle_1 = function addEmphasisStyle_1(){\n  this.addStyleDependentName('dragemphasis');\n}\n;\n_.addMouseMoveHandler = function addMouseMoveHandler_3(handler){\n  return this.addDomHandler(handler, cggedc.getType_19());\n}\n;\n_.cancelEventDrag = function cancelEventDrag(w){\n  if (isNotNull(this.moveRegistration)) {\n    if (isNull(this.moveEvent)) {\n      this.moveEvent = this.getEventByWidget(w);\n    }\n    this.moveEvent.setStart(this.dndSourceDateFrom);\n    this.moveEvent.setEnd(this.dndSourceDateTo);\n    this.moveEvent.setStartTime(this.dndSourceStartDateTime);\n    this.moveEvent.setEndTime(this.dndSourceEndDateTime);\n    this.calendar.updateEventToMonthGrid(this.moveEvent);\n    cgguc.releaseCapture_0(this.getElement());\n    this.moveRegistration.removeHandler_0();\n    this.moveRegistration = null;\n    this.keyDownHandler.removeHandler_0();\n    this.keyDownHandler = null;\n    this.setFocus(false);\n    this.monthEventMouseDown = false;\n    this.startY = -1;\n    this.startX = -1;\n    this.moveEvent = null;\n    this.labelMouseDown = false;\n    this.clickedWidget = null;\n  }\n}\n;\n_.createMonthEventLabel = function createMonthEventLabel(e){\n  var eventDiv, from, fromCompareToDate, fromDatetime, rangeInMillis, timeEvent, to, toCompareToDate;\n  rangeInMillis = e.getRangeInMilliseconds();\n  timeEvent = lte(rangeInMillis, {l:2513920, m:20, h:0}) && !e.isAllDay();\n  fromDatetime = e.getStartTime();\n  eventDiv = new cvcucs.MonthEventLabel;\n  eventDiv.addStyleDependentName('month');\n  eventDiv.addMouseDownHandler(this);\n  eventDiv.addMouseUpHandler(this);\n  eventDiv.setCalendar(this.calendar);\n  eventDiv.setEventIndex(e.getIndex());\n  eventDiv.setCalendarEvent(e);\n  if (timeEvent) {\n    eventDiv.setTimeSpecificEvent(true);\n    if (jsNotEquals(e.getStyleName(), null)) {\n      eventDiv.addStyleDependentName(e.getStyleName());\n    }\n    eventDiv.setCaption(e.getCaption());\n    eventDiv.setTime_1(fromDatetime);\n  }\n   else {\n    eventDiv.setTimeSpecificEvent(false);\n    from = e.getStart();\n    to = e.getEnd();\n    if (jl.length__I__devirtual$_0(e.getStyleName()) > 0) {\n      eventDiv.addStyleName('month-event ' + e.getStyleName());\n    }\n     else {\n      eventDiv.addStyleName('month-event');\n    }\n    fromCompareToDate = from.compareTo_1(this.date);\n    toCompareToDate = to.compareTo_1(this.date);\n    eventDiv.addStyleDependentName('all-day');\n    if (fromCompareToDate == 0) {\n      eventDiv.addStyleDependentName('start');\n      eventDiv.setCaption(e.getCaption());\n    }\n     else if (fromCompareToDate < 0 && this.cell == 0) {\n      eventDiv.addStyleDependentName('continued-from');\n      eventDiv.setCaption(e.getCaption());\n    }\n    if (toCompareToDate == 0) {\n      eventDiv.addStyleDependentName('end');\n    }\n     else if (toCompareToDate > 0 && this.cell + 1 == this.getMonthGrid().getCellCount(this.row)) {\n      eventDiv.addStyleDependentName('continued-to');\n    }\n    if (jsNotEquals(e.getStyleName(), null)) {\n      eventDiv.addStyleDependentName(e.getStyleName() + '-all-day');\n    }\n  }\n  return eventDiv;\n}\n;\n_.eventMoved_0 = function eventMoved_0(e){\n  this.calendar.updateEventToMonthGrid(e);\n  if (isNotNull(this.calendar.getEventMovedListener())) {\n    this.calendar.getEventMovedListener().eventMoved(e);\n  }\n}\n;\n_.getCalendarEvent_0 = function getCalendarEvent_1(i_0){\n  return this.events[i_0];\n}\n;\n_.getCell_0 = function getCell_0(){\n  return this.cell;\n}\n;\n_.getDate_1 = function getDate_6(){\n  return this.date;\n}\n;\n_.getEventByWidget = function getEventByWidget(eventWidget){\n  var index_0;\n  index_0 = this.getWidgetIndex(eventWidget);\n  return this.getCalendarEvent_0(index_0 - 1);\n}\n;\n_.getEventCount = function getEventCount(){\n  return this.eventCount;\n}\n;\n_.getHeigth = function getHeigth(){\n  return this.intHeight + 1;\n}\n;\n_.getMonthGrid = function getMonthGrid_0(){\n  return this.monthGrid;\n}\n;\n_.getMoveEvent = function getMoveEvent(){\n  return this.moveEvent;\n}\n;\n_.getRow_3 = function getRow_4(){\n  return this.row;\n}\n;\n_.getWidth = function getWidth_9(){\n  return this.getOffsetWidth() - 1;\n}\n;\n_.onAttach = function onAttach_17(){\n  getClassPrototype(6).onAttach.call(this);\n  this.mouseUpRegistration = this.addDomHandler(this, cggedc.getType_22());\n  this.mouseDownRegistration = this.addDomHandler(this, cggedc.getType_18());\n  this.mouseOverRegistration = this.addDomHandler(this, cggedc.getType_21());\n}\n;\n_.onDetach = function onDetach_27(){\n  this.mouseUpRegistration.removeHandler_0();\n  this.mouseDownRegistration.removeHandler_0();\n  this.mouseOverRegistration.removeHandler_0();\n  getClassPrototype(6).onDetach.call(this);\n}\n;\n_.onLoad_0 = function onLoad_19(){\n  cvcucs.BOTTOMSPACERHEIGHT = this.bottomspacer.getOffsetHeight();\n  cvcucs.EVENTHEIGHT = cvcucs.BOTTOMSPACERHEIGHT;\n}\n;\n_.onMouseDown = function onMouseDown_10(event_0){\n  var grid, w;\n  if (this.calendar.isDisabled() || event_0.getNativeButton() != 1) {\n    return;\n  }\n  w = dynamicCast(event_0.getSource(), 6);\n  this.clickedWidget = w;\n  if (instanceOf(w, 191)) {\n    this.monthEventMouseDown = true;\n    if (this.calendar.isEventMoveAllowed()) {\n      this.startCalendarEventDrag(event_0, dynamicCast(w, 191));\n    }\n  }\n   else if (jsEquals(w, this.bottomspacer)) {\n    if (this.scrollable) {\n      this.setLimitedCellHeight();\n    }\n     else {\n      this.setUnlimitedCellHeight();\n    }\n    this.reDraw(true);\n  }\n   else if (instanceOf(w, 53)) {\n    this.labelMouseDown = true;\n  }\n   else if (jsEquals(w, this) && !this.scrollable) {\n    grid = this.getMonthGrid();\n    if (grid.isEnabled() && this.calendar.isRangeSelectAllowed()) {\n      grid.setSelectionStart(this);\n      grid.setSelectionEnd(this);\n    }\n  }\n  event_0.stopPropagation_0();\n  event_0.preventDefault_0();\n}\n;\n_.onMouseMove = function onMouseMove_4(event_0){\n  var currentX, currentY, dateCellHeigth, dateCellWidth, dayDiff, daysMs, e, end, from, moveX, moveY, parent_0, relativeX, relativeY, start_0, to, w, weekDiff, weeksMs;\n  if (instanceOf(this.clickedWidget, 191) && !this.monthEventMouseDown || this.startY < 0 && this.startX < 0) {\n    return;\n  }\n  w = dynamicCast(this.clickedWidget, 191);\n  if (this.calendar.isDisabledOrReadOnly()) {\n    cgguc.releaseCapture_0(this.getElement());\n    this.monthEventMouseDown = false;\n    this.startY = -1;\n    this.startX = -1;\n    return;\n  }\n  currentY = event_0.getClientY();\n  currentX = event_0.getClientX();\n  moveY = currentY - this.startY;\n  moveX = currentX - this.startX;\n  if (moveY < 5 && moveY > -6 && (moveX < 5 && moveX > -6)) {\n    return;\n  }\n  dateCellWidth = this.getWidth();\n  dateCellHeigth = this.getHeigth();\n  parent_0 = this.getMonthGrid().getElement();\n  relativeX = event_0.getRelativeX(parent_0);\n  relativeY = event_0.getRelativeY(parent_0);\n  weekDiff = 0;\n  if (moveY > 0) {\n    weekDiff = narrow_int((this.startYrelative + moveY) / dateCellHeigth);\n  }\n   else {\n    weekDiff = narrow_int((moveY - (dateCellHeigth - this.startYrelative)) / dateCellHeigth);\n  }\n  dayDiff = 0;\n  if (moveX >= 0) {\n    dayDiff = narrow_int((this.startXrelative + moveX) / dateCellWidth);\n  }\n   else {\n    dayDiff = narrow_int((moveX - (dateCellWidth - this.startXrelative)) / dateCellWidth);\n  }\n  if (relativeY < 0 || relativeY >= this.calendar.getMonthGrid().getRowCount() * dateCellHeigth || relativeX < 0 || relativeX >= this.calendar.getMonthGrid().getColumnCount() * dateCellWidth) {\n    return;\n  }\n  cggcc.log_1('Event moving delta: ' + weekDiff + ' weeks ' + dayDiff + ' days' + ' (' + this.getCell_0() + ',' + this.getRow_3() + ')');\n  e = this.moveEvent;\n  if (isNull(e)) {\n    e = this.getEventByWidget(w);\n  }\n  from = e.getStart();\n  to = e.getEnd();\n  daysMs = mul(fromInt(dayDiff), {l:2513920, m:20, h:0});\n  weeksMs = mul(fromInt(weekDiff), {l:820224, m:144, h:0});\n  this.setDates(e, from, to, add_2(weeksMs, daysMs), false);\n  e.setStart(from);\n  e.setEnd(to);\n  if (w.isTimeSpecificEvent()) {\n    start_0 = new ju.Date_0;\n    end = new ju.Date_0;\n    this.setDates(e, start_0, end, add_2(weeksMs, daysMs), true);\n    e.setStartTime(start_0);\n    e.setEndTime(end);\n  }\n   else {\n    e.setStartTime(new ju.Date_3(from.getTime_1()));\n    e.setEndTime(new ju.Date_3(to.getTime_1()));\n  }\n  this.updateDragPosition(w, dayDiff, weekDiff);\n}\n;\n_.onMouseOver = function onMouseOver_3(event_0){\n  event_0.preventDefault_0();\n  this.getMonthGrid().setSelectionEnd(this);\n}\n;\n_.onMouseUp = function onMouseUp_6(event_0){\n  var clickedDate, e, endX, endY, mel, w, xDiff, yDiff;\n  if (event_0.getNativeButton() != 1) {\n    return;\n  }\n  w = dynamicCast(event_0.getSource(), 6);\n  if (isNotNull(this.moveRegistration)) {\n    cgguc.releaseCapture_0(this.getElement());\n    this.moveRegistration.removeHandler_0();\n    this.moveRegistration = null;\n    this.keyDownHandler.removeHandler_0();\n    this.keyDownHandler = null;\n  }\n  if (jsEquals(w, this.bottomspacer) && this.monthEventMouseDown) {\n    cggcc.log_1('Mouse up over bottomspacer');\n  }\n   else if (instanceOf(this.clickedWidget, 191) && this.monthEventMouseDown) {\n    mel = dynamicCast(this.clickedWidget, 191);\n    endX = event_0.getClientX();\n    endY = event_0.getClientY();\n    xDiff = 0;\n    yDiff = 0;\n    if (this.startX != -1 && this.startY != -1) {\n      xDiff = this.startX - endX;\n      yDiff = this.startY - endY;\n    }\n    this.startX = -1;\n    this.startY = -1;\n    this.prevDayDiff = 0;\n    this.prevWeekDiff = 0;\n    if (xDiff < -3 || xDiff > 3 || yDiff < -3 || yDiff > 3) {\n      this.eventMoved_0(this.moveEvent);\n    }\n     else if (isNotNull(this.calendar.getEventClickListener())) {\n      e = this.getEventByWidget(mel);\n      this.calendar.getEventClickListener().eventClick_0(e);\n    }\n    this.moveEvent = null;\n  }\n   else if (jsEquals(w, this)) {\n    this.getMonthGrid().setSelectionReady();\n  }\n   else if (instanceOf(w, 53) && this.labelMouseDown) {\n    clickedDate = this.calendar.getDateFormat().format_0(this.date);\n    if (isNotNull(this.calendar.getDateClickListener())) {\n      this.calendar.getDateClickListener().dateClick(clickedDate);\n    }\n  }\n  this.monthEventMouseDown = false;\n  this.labelMouseDown = false;\n  this.clickedWidget = null;\n}\n;\n_.reDraw = function reDraw(clear_0){\n  this.setHeightPX_0(this.intHeight + 1, clear_0);\n}\n;\n_.removeEmphasisStyle_1 = function removeEmphasisStyle_1(){\n  this.removeStyleDependentName('dragemphasis');\n}\n;\n_.removeEvent_0 = function removeEvent_0(targetEvent, reDrawImmediately){\n  var e, slot;\n  slot = targetEvent.getSlotIndex();\n  if (slot < 0) {\n    return false;\n  }\n  e = this.getCalendarEvent_0(slot);\n  if (targetEvent.equals$(e)) {\n    setCheck(this.events, slot, null);\n    this.eventCount--;\n    if (reDrawImmediately) {\n      this.reDraw(isNull(this.moveEvent));\n    }\n    return true;\n  }\n  return false;\n}\n;\n_.setDate_1 = function setDate_5(date){\n  var dateOfMonth;\n  dateOfMonth = date.getDate_0();\n  if (this.monthNameVisible) {\n    this.caption_0.setText(dateOfMonth + ' ' + this.calendar.getMonthNames()[date.getMonth_0()]);\n  }\n   else {\n    this.caption_0.setText('' + dateOfMonth);\n  }\n  this.date = date;\n}\n;\n_.setDates = function setDates(e, start_0, end, shift_0, isDateTime){\n  var currentEnd, currentStart, duration;\n  if (isDateTime) {\n    currentStart = e.getStartTime();\n    currentEnd = e.getEndTime();\n  }\n   else {\n    currentStart = e.getStart();\n    currentEnd = e.getEnd();\n  }\n  duration = sub_0(currentEnd.getTime_1(), currentStart.getTime_1());\n  if (isDateTime) {\n    start_0.setTime_0(add_2(this.dndSourceStartDateTime.getTime_1(), shift_0));\n  }\n   else {\n    start_0.setTime_0(add_2(this.dndSourceDateFrom.getTime_1(), shift_0));\n  }\n  end.setTime_0(add_2(start_0.getTime_1(), duration));\n}\n;\n_.setHeightPX_0 = function setHeightPX_0(px, clear_0){\n  var i_0, slots;\n  if (px < 0) {\n    this.intHeight = this.getOffsetHeight() - 1;\n  }\n   else {\n    this.intHeight = px - 1;\n  }\n  if (this.intHeight == -1) {\n    return;\n  }\n  if (clear_0) {\n    while (this.getWidgetCount() > 1) {\n      this.remove_5(1);\n    }\n  }\n  slots = 0;\n  if (this.scrollable) {\n    for (i_0 = 0; i_0 < this.events.length; i_0++) {\n      if (isNotNull(this.events[i_0])) {\n        slots = i_0 + 1;\n      }\n    }\n    this.setHeight_0(this.intHeight + 'px');\n  }\n   else {\n    cgguc.removeElementAttribute(this.getElement(), 'height');\n    slots = narrow_int((this.intHeight - this.caption_0.getOffsetHeight() - cvcucs.BOTTOMSPACERHEIGHT) / cvcucs.EVENTHEIGHT);\n    if (slots > 10) {\n      slots = 10;\n    }\n  }\n  this.updateEvents(slots, clear_0);\n}\n;\n_.setLimitedCellHeight = function setLimitedCellHeight(){\n  this.scrollable = false;\n  this.removeStyleDependentName('scrollable');\n}\n;\n_.setMonthGrid = function setMonthGrid(monthGrid){\n  this.monthGrid = monthGrid;\n}\n;\n_.setMonthNameVisible = function setMonthNameVisible(b){\n  var dateOfMonth;\n  this.monthNameVisible = b;\n  dateOfMonth = this.date.getDate_0();\n  this.caption_0.setText(dateOfMonth + ' ' + this.calendar.getMonthNames()[this.date.getMonth_0()]);\n}\n;\n_.setToday_0 = function setToday_0(today){\n  if (today) {\n    this.addStyleDependentName('today');\n  }\n   else {\n    this.removeStyleDependentName('today');\n  }\n}\n;\n_.setUnlimitedCellHeight = function setUnlimitedCellHeight(){\n  this.scrollable = true;\n  this.addStyleDependentName('scrollable');\n}\n;\n_.startCalendarEventDrag = function startCalendarEventDrag(event_0, w){\n  var e;\n  this.moveRegistration = this.addMouseMoveHandler(this);\n  this.startX = event_0.getClientX();\n  this.startY = event_0.getClientY();\n  this.startYrelative = event_0.getRelativeY(w.getParent_0().getElement()) % this.getHeigth();\n  this.startXrelative = event_0.getRelativeX(w.getParent_0().getElement()) % this.getWidth();\n  e = this.getEventByWidget(w);\n  this.dndSourceDateFrom = dynamicCast(e.getStart().clone(), 28);\n  this.dndSourceDateTo = dynamicCast(e.getEnd().clone(), 28);\n  this.dndSourceStartDateTime = dynamicCast(e.getStartTime().clone(), 28);\n  this.dndSourceEndDateTime = dynamicCast(e.getEndTime().clone(), 28);\n  cgguc.setCapture_0(this.getElement());\n  this.keyDownHandler = this.addKeyDownHandler(new cvcucs.SimpleDayCell$1(this, w));\n  this.focus_0();\n  cggcc.log_1('Start drag');\n}\n;\n_.updateDragPosition = function updateDragPosition(w, dayDiff, weekDiff){\n  if (dayDiff == this.prevDayDiff && weekDiff == this.prevWeekDiff) {\n    return;\n  }\n  this.prevDayDiff = dayDiff;\n  this.prevWeekDiff = weekDiff;\n  if (isNull(this.moveEvent)) {\n    this.moveEvent = this.getEventByWidget(w);\n  }\n  this.calendar.updateEventToMonthGrid(this.moveEvent);\n}\n;\n_.updateEvents = function updateEvents(slots, clear_0){\n  var e, eventsAdded, i_0, more, newHeight, remainingSpace, slot, w;\n  eventsAdded = 0;\n  for (i_0 = 0; i_0 < slots; i_0++) {\n    e = this.events[i_0];\n    if (isNull(e)) {\n      slot = new cggucu.HTML;\n      slot.setStyleName('v-calendar-spacer');\n      if (!clear_0) {\n        this.remove_5(i_0 + 1);\n        this.insert_1(slot, i_0 + 1);\n      }\n       else {\n        this.add_2(slot);\n      }\n    }\n     else {\n      eventsAdded++;\n      if (!clear_0) {\n        w = this.getWidget(i_0 + 1);\n        if (!instanceOf(w, 191)) {\n          this.remove_5(i_0 + 1);\n          this.insert_1(this.createMonthEventLabel(e), i_0 + 1);\n        }\n      }\n       else {\n        this.add_2(this.createMonthEventLabel(e));\n      }\n    }\n  }\n  remainingSpace = this.intHeight - (slots * cvcucs.EVENTHEIGHT + cvcucs.BOTTOMSPACERHEIGHT + this.caption_0.getOffsetHeight());\n  newHeight = remainingSpace + cvcucs.BOTTOMSPACERHEIGHT;\n  if (newHeight < 0) {\n    newHeight = cvcucs.EVENTHEIGHT;\n  }\n  this.bottomspacer.setHeight_0(newHeight + 'px');\n  if (clear_0) {\n    this.add_2(this.bottomspacer);\n  }\n  more = this.eventCount - eventsAdded;\n  if (more > 0) {\n    if (isNull(this.bottomSpacerMouseDownHandler)) {\n      this.bottomSpacerMouseDownHandler = this.bottomspacer.addMouseDownHandler(this);\n    }\n    this.bottomspacer.setStyleName('v-calendar-bottom-spacer');\n    this.bottomspacer.setText('+ ' + more);\n  }\n   else {\n    if (!this.scrollable && isNotNull(this.bottomSpacerMouseDownHandler)) {\n      this.bottomSpacerMouseDownHandler.removeHandler_0();\n      this.bottomSpacerMouseDownHandler = null;\n    }\n    if (this.scrollable) {\n      this.bottomspacer.setText('[ - ]');\n    }\n     else {\n      this.bottomspacer.setStyleName('v-calendar-bottom-spacer-empty');\n      this.bottomspacer.setText('');\n    }\n  }\n}\n;\n_.cell = 0;\n_.eventCount = 0;\n_.intHeight = 0;\n_.labelMouseDown = false;\n_.monthEventMouseDown = false;\n_.monthNameVisible = false;\n_.prevDayDiff = 0;\n_.prevWeekDiff = 0;\n_.row = 0;\n_.scrollable = false;\n_.startX = 0;\n_.startXrelative = 0;\n_.startY = 0;\n_.startYrelative = 0;\ndefineClass(2285, 1, $intern_201, cvcucs.SimpleDayCell$1);\n_.$init_1553 = function $init_1553(){\n}\n;\n_.onKeyDown = function onKeyDown_19(event_0){\n  if (event_0.getNativeKeyCode() == 27) {\n    this.this$01.cancelEventDrag(this.val$w2);\n  }\n}\n;\ndefineClass(2221, 198, $intern_96, cvcucs.SimpleDayToolbar);\n_.$init_1554 = function $init_1554(){\n  this.width_0 = 0;\n  this.isWidthUndefined = false;\n}\n;\n_.isWidthUndefined_0 = function isWidthUndefined_0(){\n  return this.isWidthUndefined;\n}\n;\n_.setDayNames = function setDayNames_0(dayNames){\n  var i_0, l;\n  this.clear_1();\n  for (i_0 = 0; i_0 < dayNames.length; i_0++) {\n    l = new cggucu.Label_1(dayNames[i_0]);\n    l.setStylePrimaryName('v-calendar-header-day');\n    this.add_2(l);\n  }\n  this.updateCellWidth();\n}\n;\n_.setWidthPX = function setWidthPX_1(width_0){\n  this.width_0 = width_0;\n  this.setWidthUndefined(width_0 == -1);\n  if (!this.isWidthUndefined_0()) {\n    getClassPrototype(10).setWidth_0.call(this, this.width_0 + 'px');\n    if (this.getWidgetCount() == 0) {\n      return;\n    }\n  }\n  this.updateCellWidth();\n}\n;\n_.setWidthUndefined = function setWidthUndefined(isWidthUndefined){\n  this.isWidthUndefined = isWidthUndefined;\n  if (isWidthUndefined) {\n    this.addStyleDependentName('Hsized');\n  }\n   else {\n    this.removeStyleDependentName('Hsized');\n  }\n}\n;\n_.updateCellWidth = function updateCellWidth(){\n  var cellw, i_0, w, widget, widgetCount;\n  cellw = -1;\n  widgetCount = this.getWidgetCount();\n  if (widgetCount <= 0) {\n    return;\n  }\n  if (this.isWidthUndefined_0()) {\n    widget = this.getWidget(0);\n    w = cggdc.$getWidth_1(cggdc.$getStyle(widget.getElement()));\n    if (jl.length__I__devirtual$_0(w) > 2) {\n      cellw = jl.parseInt_2(jl.substring_II_Ljava_lang_String___devirtual$(w, 0, jl.length__I__devirtual$_0(w) - 2));\n    }\n  }\n   else {\n    cellw = narrow_int(this.width_0 / this.getWidgetCount());\n  }\n  if (cellw > 0) {\n    for (i_0 = 0; i_0 < this.getWidgetCount(); i_0++) {\n      widget = this.getWidget(i_0);\n      this.setCellWidth(widget, cellw + 'px');\n    }\n  }\n}\n;\n_.isWidthUndefined = false;\n_.width_0 = 0;\ndefineClass(2195, 488, $intern_209, cvcucs.SimpleWeekToolbar);\n_.$init_1555 = function $init_1555(){\n}\n;\n_.addWeek = function addWeek(week, year){\n  var l, rowCount;\n  l = new cvcucs.WeekLabel(week + '', week, year);\n  l.addClickHandler(this);\n  rowCount = this.getRowCount();\n  this.insertRow(rowCount);\n  this.setWidget_0(rowCount, 0, l);\n  this.updateCellHeights();\n}\n;\n_.isHeightUndefined_0 = function isHeightUndefined_0(){\n  return this.isHeightUndefined;\n}\n;\n_.onClick = function onClick_53(event_0){\n  var wl;\n  wl = dynamicCast(event_0.getSource(), 686);\n  if (isNotNull(this.calendar.getWeekClickListener())) {\n    this.calendar.getWeekClickListener().weekClick(wl.getYear_0() + 'w' + wl.getWeek());\n  }\n}\n;\n_.setHeightPX_1 = function setHeightPX_1(intHeight){\n  this.setHeightUndefined(intHeight == -1);\n  this.height_0 = intHeight;\n  this.updateCellHeights();\n}\n;\n_.setHeightUndefined = function setHeightUndefined(isHeightUndefined){\n  this.isHeightUndefined = isHeightUndefined;\n  if (isHeightUndefined) {\n    this.addStyleDependentName('Vsized');\n  }\n   else {\n    this.removeStyleDependentName('Vsized');\n  }\n}\n;\n_.updateCellHeights = function updateCellHeights(){\n  var cellheight, i_0, remainder, rowCount;\n  if (!this.isHeightUndefined_0()) {\n    rowCount = this.getRowCount();\n    if (rowCount == 0) {\n      return;\n    }\n    cellheight = narrow_int(this.height_0 / rowCount) - 1;\n    remainder = this.height_0 % rowCount;\n    if (cellheight < 0) {\n      cellheight = 0;\n    }\n    for (i_0 = 0; i_0 < rowCount; i_0++) {\n      if (remainder > 0) {\n        this.getWidget_1(i_0, 0).setHeight_0(cellheight + 1 + 'px');\n      }\n       else {\n        this.getWidget_1(i_0, 0).setHeight_0(cellheight + 'px');\n      }\n      cggdc.$setProperty_0(cggdc.$getStyle(this.getWidget_1(i_0, 0).getElement()), 'lineHeight', cellheight + 'px');\n      remainder--;\n    }\n  }\n   else {\n    for (i_0 = 0; i_0 < this.getRowCount(); i_0++) {\n      this.getWidget_1(i_0, 0).setHeight_0('');\n      cggdc.$setProperty_0(cggdc.$getStyle(this.getWidget_1(i_0, 0).getElement()), 'lineHeight', '');\n    }\n  }\n}\n;\n_.height_0 = 0;\n_.isHeightUndefined = false;\ndefineClass(2264, 77, $intern_86, cvcucs.WeekGrid);\n_.$init_1556 = function $init_1556(){\n  this.width_0 = 0;\n  this.height_0 = 0;\n}\n;\n_.addDate = function addDate(d){\n  var dc;\n  dc = new cvcucs.DateCell(this, d);\n  dc.setDisabled(this.isDisabled());\n  dc.setHorizontalSized(this.isHorizontalScrollable() || this.width_0 < 0);\n  dc.setVerticalSized(this.isVerticalScrollable());\n  this.content_0.add_2(dc);\n}\n;\n_.addEvent_1 = function addEvent_1(e){\n  var comp, comp2, dateCount, dc, dcDate, from, i_0, toTime;\n  dateCount = this.content_0.getWidgetCount();\n  from = e.getStart();\n  toTime = e.getEndTime();\n  for (i_0 = 1; i_0 < dateCount; i_0++) {\n    dc = dynamicCast(this.content_0.getWidget(i_0), 122);\n    dcDate = dc.getDate_1();\n    comp = dcDate.compareTo_1(from);\n    comp2 = dcDate.compareTo_1(toTime);\n    if (comp >= 0 && comp2 < 0 || comp == 0 && comp2 == 0 && cvcu.isZeroLengthMidnightEvent(e)) {\n      dc.addEvent_0(dcDate, e);\n    }\n  }\n}\n;\n_.clearDates = function clearDates(){\n  while (this.content_0.getWidgetCount() > 1) {\n    this.content_0.remove_5(1);\n  }\n  this.dateCellOfToday = null;\n}\n;\n_.eventMoved_1 = function eventMoved_1(dayEvent){\n  var left, newParent, previousParent, s, se;\n  s = cggdc.$getStyle(dayEvent.getElement());\n  left = jl.parseInt_2(jl.substring_II_Ljava_lang_String___devirtual$(cggdc.$getLeft_0(s), 0, jl.length__I__devirtual$_0(cggdc.$getLeft_0(s)) - 2));\n  previousParent = dynamicCast(dayEvent.getParent_0(), 122);\n  newParent = dynamicCast(this.content_0.getWidget(narrow_int(left / this.getDateCellWidth_0()) + 1), 122);\n  se = dayEvent.getCalendarEvent();\n  previousParent.removeEvent(dayEvent);\n  newParent.addEvent(dayEvent);\n  if (!previousParent.equals$(newParent)) {\n    previousParent.recalculateEventWidths();\n  }\n  newParent.recalculateEventWidths();\n  if (isNotNull(this.calendar.getEventMovedListener())) {\n    this.calendar.getEventMovedListener().eventMoved(se);\n  }\n}\n;\n_.getCalendar = function getCalendar(){\n  return this.calendar;\n}\n;\n_.getDateCellCount = function getDateCellCount(){\n  return this.content_0.getWidgetCount() - 1;\n}\n;\n_.getDateCellIndex = function getDateCellIndex(dateCell){\n  return this.content_0.getWidgetIndex(dateCell) - 1;\n}\n;\n_.getDateCellOfToday = function getDateCellOfToday(){\n  return this.dateCellOfToday;\n}\n;\n_.getDateCellWidth_0 = function getDateCellWidth_0(){\n  var cellWidth, count, firstWidget;\n  count = this.content_0.getWidgetCount() - 1;\n  cellWidth = -1;\n  if (count <= 0) {\n    return cellWidth;\n  }\n  if (this.width_0 == -1) {\n    firstWidget = this.content_0.getWidget(1);\n    cellWidth = cggdc.$getOffsetWidth(firstWidget.getElement());\n  }\n   else {\n    cellWidth = narrow_int(this.getInternalWidth() / count);\n  }\n  return cellWidth;\n}\n;\n_.getDateCellWidths = function getDateCellWidths(){\n  return this.cellWidths;\n}\n;\n_.getDateSlotBorder = function getDateSlotBorder(){\n  return dynamicCast(this.content_0.getWidget(1), 122).getSlotBorder();\n}\n;\n_.getFirstHour = function getFirstHour_0(){\n  return this.firstHour;\n}\n;\n_.getInternalWidth = function getInternalWidth(){\n  return this.width_0;\n}\n;\n_.getLastHour = function getLastHour_0(){\n  return this.lastHour;\n}\n;\n_.getParentCalendar = function getParentCalendar(){\n  return this.calendar;\n}\n;\n_.getPixelLengthFor = function getPixelLengthFor(startFromMinutes, durationInMinutes){\n  var currentSlot, durationInSlots, endHourInMinutes, endOverFlowTime, firstHourInMinutes, lastFullSlot, lastSlotHeight, pixelLength, shownHeightInMinutes, slotsTillEvent, startOverFlowTime;\n  pixelLength = 0;\n  currentSlot = 0;\n  firstHourInMinutes = this.firstHour * 60;\n  endHourInMinutes = this.lastHour * 60;\n  if (firstHourInMinutes > startFromMinutes) {\n    durationInMinutes = durationInMinutes - (firstHourInMinutes - startFromMinutes);\n    startFromMinutes = 0;\n  }\n   else {\n    startFromMinutes -= firstHourInMinutes;\n  }\n  shownHeightInMinutes = endHourInMinutes - firstHourInMinutes + 60;\n  durationInMinutes = jl.min_3(durationInMinutes, shownHeightInMinutes - startFromMinutes);\n  slotsTillEvent = narrow_int(startFromMinutes / this.slotInMinutes);\n  startOverFlowTime = this.slotInMinutes - startFromMinutes % this.slotInMinutes;\n  if (startOverFlowTime == this.slotInMinutes) {\n    startOverFlowTime = 0;\n    currentSlot = slotsTillEvent;\n  }\n   else {\n    currentSlot = slotsTillEvent + 1;\n  }\n  durationInSlots = 0;\n  endOverFlowTime = 0;\n  if (startOverFlowTime > 0) {\n    durationInSlots = narrow_int((durationInMinutes - startOverFlowTime) / this.slotInMinutes);\n    endOverFlowTime = (durationInMinutes - startOverFlowTime) % this.slotInMinutes;\n  }\n   else {\n    durationInSlots = narrow_int(durationInMinutes / this.slotInMinutes);\n    endOverFlowTime = durationInMinutes % this.slotInMinutes;\n  }\n  if (startOverFlowTime > 0 && currentSlot < this.cellHeights.length) {\n    lastSlotHeight = this.cellHeights[currentSlot] + this.dateCellBorder;\n    pixelLength += round_int(lastSlotHeight / this.slotInMinutes * startOverFlowTime);\n  }\n  lastFullSlot = currentSlot + durationInSlots;\n  for (; currentSlot < lastFullSlot && currentSlot < this.cellHeights.length; currentSlot++) {\n    pixelLength += this.cellHeights[currentSlot] + this.dateCellBorder;\n  }\n  if (endOverFlowTime > 0 && currentSlot < this.cellHeights.length) {\n    lastSlotHeight = this.cellHeights[currentSlot] + this.dateCellBorder;\n    pixelLength += round_int(lastSlotHeight / this.slotInMinutes * endOverFlowTime);\n  }\n  if (endOverFlowTime < 0) {\n    lastSlotHeight = this.cellHeights[currentSlot] + this.dateCellBorder;\n    pixelLength += round_int(lastSlotHeight / this.slotInMinutes * endOverFlowTime);\n  }\n  return pixelLength;\n}\n;\n_.getPixelTopFor = function getPixelTopFor(startFromMinutes){\n  var firstHourInMinutes, lastSlotHeight, overFlowTime, pixelsToTop, slotIndex, slotsTillEvent;\n  pixelsToTop = 0;\n  slotIndex = 0;\n  firstHourInMinutes = this.firstHour * 60;\n  if (firstHourInMinutes > startFromMinutes) {\n    startFromMinutes = 0;\n  }\n   else {\n    startFromMinutes -= firstHourInMinutes;\n  }\n  slotsTillEvent = narrow_int(startFromMinutes / this.slotInMinutes);\n  overFlowTime = startFromMinutes % this.slotInMinutes;\n  if (slotsTillEvent > 0) {\n    for (slotIndex = 0; slotIndex < slotsTillEvent; slotIndex++) {\n      pixelsToTop += this.cellHeights[slotIndex] + this.dateCellBorder;\n    }\n  }\n  if (overFlowTime > 0) {\n    lastSlotHeight = this.cellHeights[slotIndex] + this.dateCellBorder;\n    pixelsToTop = round_int(pixelsToTop + lastSlotHeight / this.slotInMinutes * overFlowTime);\n  }\n  return pixelsToTop;\n}\n;\n_.getTimeBar = function getTimeBar(){\n  return this.timebar;\n}\n;\n_.hasToday = function hasToday(){\n  return isNotNull(this.dateCellOfToday);\n}\n;\n_.isDisabled = function isDisabled_3(){\n  return this.disabled_0;\n}\n;\n_.isHorizontalScrollable = function isHorizontalScrollable(){\n  return this.horizontalScrollEnabled;\n}\n;\n_.isVerticalScrollable = function isVerticalScrollable(){\n  return this.verticalScrollEnabled;\n}\n;\n_.setCalendar = function setCalendar_1(calendar){\n  this.calendar = calendar;\n}\n;\n_.setDisabled = function setDisabled_3(disabled){\n  this.disabled_0 = disabled;\n}\n;\n_.setFirstHour = function setFirstHour(firstHour){\n  this.firstHour = firstHour;\n  this.timebar.setFirstHour(firstHour);\n}\n;\n_.setHeightPX_1 = function setHeightPX_2(intHeight){\n  this.height_0 = intHeight;\n  this.setVerticalScroll(this.height_0 <= -1);\n  if (!this.isVerticalScrollable() && this.height_0 > 0) {\n    this.content_0.setHeight_0(this.height_0 + 'px');\n    this.setHeight_0(this.height_0 + 'px');\n    this.wrapper.setHeight_0(this.height_0 + 'px');\n    this.wrapper.removeStyleDependentName('Vsized');\n    this.updateCellHeights();\n    this.timebar.setCellHeights(this.cellHeights);\n    this.timebar.setHeightPX_1(this.height_0);\n  }\n   else if (this.isVerticalScrollable()) {\n    this.updateCellHeights();\n    this.wrapper.addStyleDependentName('Vsized');\n    this.timebar.setCellHeights(this.cellHeights);\n    this.timebar.setHeightPX_1(this.height_0);\n  }\n}\n;\n_.setLastHour = function setLastHour(lastHour){\n  this.lastHour = lastHour;\n  this.timebar.setLastHour(lastHour);\n}\n;\n_.setToday_1 = function setToday_1(todayDate, todayTimestamp){\n  var count, dc, i_0;\n  count = this.content_0.getWidgetCount();\n  if (count > 1) {\n    for (i_0 = 1; i_0 < count; i_0++) {\n      dc = dynamicCast(this.content_0.getWidget(i_0), 122);\n      if (eq(dc.getDate_1().getTime_1(), todayDate.getTime_1())) {\n        if (this.isVerticalScrollable()) {\n          dc.setToday(todayTimestamp, -1);\n        }\n         else {\n          dc.setToday(todayTimestamp, this.getOffsetWidth());\n        }\n      }\n      this.dateCellOfToday = dc;\n    }\n  }\n}\n;\n_.setVerticalScroll = function setVerticalScroll(isVerticalScrollEnabled){\n  var scrollPanel, simplePanel;\n  if (isVerticalScrollEnabled && !this.isVerticalScrollable()) {\n    this.verticalScrollEnabled = true;\n    this.horizontalScrollEnabled = false;\n    this.wrapper.remove_4(this.content_0);\n    scrollPanel = new cggucu.ScrollPanel;\n    scrollPanel.setStylePrimaryName('v-calendar-week-wrapper');\n    scrollPanel.setWidget(this.content_0);\n    scrollPanel.addScrollHandler(new cvcucs.WeekGrid$1(this, scrollPanel));\n    this.setWidget(scrollPanel);\n    this.wrapper = scrollPanel;\n  }\n   else if (!isVerticalScrollEnabled && this.isVerticalScrollable()) {\n    this.verticalScrollEnabled = false;\n    this.horizontalScrollEnabled = false;\n    this.wrapper.remove_4(this.content_0);\n    simplePanel = new cggucu.SimplePanel;\n    simplePanel.setStylePrimaryName('v-calendar-week-wrapper');\n    simplePanel.setWidget(this.content_0);\n    this.setWidget(simplePanel);\n    this.wrapper = simplePanel;\n  }\n}\n;\n_.setVerticalScrollPosition = function setVerticalScrollPosition_0(verticalScrollPosition){\n  if (this.isVerticalScrollable()) {\n    dynamicCast(this.wrapper, 694).setVerticalScrollPosition(verticalScrollPosition);\n  }\n}\n;\n_.setWidthPX = function setWidthPX_2(width_0){\n  if (this.isHorizontalScrollable()) {\n    this.updateCellWidths();\n    this.wrapper.setWidth_0(this.content_0.getOffsetWidth() + cvc.getNativeScrollbarSize() + 'px');\n    this.width_0 = this.content_0.getOffsetWidth() - this.timebar.getOffsetWidth();\n  }\n   else {\n    this.width_0 = width_0 == -1?width_0:width_0 - this.timebar.getOffsetWidth();\n    if (this.isVerticalScrollable() && width_0 != -1) {\n      this.width_0 = this.width_0 - cvc.getNativeScrollbarSize();\n    }\n    this.updateCellWidths();\n  }\n}\n;\n_.updateCellHeights = function updateCellHeights_0(){\n  var count, dateHeight, dc, first, i_0;\n  if (!this.isVerticalScrollable()) {\n    count = this.content_0.getWidgetCount();\n    if (count > 1) {\n      first = dynamicCast(this.content_0.getWidget(1), 122);\n      this.dateCellBorder = first.getSlotBorder();\n      this.cellHeights = cvcu.distributeSize(this.height_0, first.getNumberOfSlots(), -this.dateCellBorder);\n      for (i_0 = 1; i_0 < count; i_0++) {\n        dc = dynamicCast(this.content_0.getWidget(i_0), 122);\n        dc.setHeightPX(this.height_0, this.cellHeights);\n      }\n    }\n  }\n   else {\n    count = this.content_0.getWidgetCount();\n    if (count > 1) {\n      first = dynamicCast(this.content_0.getWidget(1), 122);\n      this.dateCellBorder = first.getSlotBorder();\n      dateHeight = narrow_int(first.getOffsetHeight() / first.getNumberOfSlots()) - this.dateCellBorder;\n      this.cellHeights = initDim(cggl.I_classLit, $intern_14, 0, 48, 7, 1);\n      ju.fill(this.cellHeights, dateHeight);\n      for (i_0 = 1; i_0 < count; i_0++) {\n        dc = dynamicCast(this.content_0.getWidget(i_0), 122);\n        dc.setVerticalSized(this.isVerticalScrollable());\n      }\n    }\n  }\n}\n;\n_.updateCellWidths = function updateCellWidths_0(){\n  var count, datesWidth, dc, i_0;\n  if (!this.isHorizontalScrollable() && this.width_0 != -1) {\n    count = this.content_0.getWidgetCount();\n    datesWidth = this.width_0;\n    if (datesWidth > 0 && count > 1) {\n      this.cellWidths = cvcu.distributeSize(datesWidth, count - 1, -1);\n      for (i_0 = 1; i_0 < count; i_0++) {\n        dc = dynamicCast(this.content_0.getWidget(i_0), 122);\n        dc.setHorizontalSized(this.isHorizontalScrollable() || this.width_0 < 0);\n        dc.setWidthPX(this.cellWidths[i_0 - 1]);\n        if (dc.isToday()) {\n          dc.setTimeBarWidth(this.getOffsetWidth());\n        }\n      }\n    }\n  }\n   else {\n    count = this.content_0.getWidgetCount();\n    if (count > 1) {\n      for (i_0 = 1; i_0 < count; i_0++) {\n        dc = dynamicCast(this.content_0.getWidget(i_0), 122);\n        dc.setHorizontalSized(this.isHorizontalScrollable() || this.width_0 < 0);\n      }\n    }\n  }\n}\n;\n_.dateCellBorder = 0;\n_.disabled_0 = false;\n_.firstHour = 0;\n_.height_0 = 0;\n_.horizontalScrollEnabled = false;\n_.lastHour = 0;\n_.slotInMinutes = 30;\n_.verticalScrollEnabled = false;\n_.width_0 = 0;\ndefineClass(2266, 1, $intern_238, cvcucs.WeekGrid$1);\n_.$init_1557 = function $init_1557(){\n}\n;\n_.onScroll = function onScroll_2(event_0){\n  if (isNotNull(this.this$01.calendar.getScrollListener())) {\n    this.this$01.calendar.getScrollListener().scroll_1(this.val$scrollPanel2.getVerticalScrollPosition());\n  }\n}\n;\ndefineClass(2265, 46, $intern_93, cvcucs.WeekGrid$Timebar);\n_.$init_1558 = function $init_1558(){\n}\n;\n_.clear_6 = function clear_22(){\n  while (cggdc.$getChildCount(this.getElement()) > 0) {\n    cggdc.$removeChild(this.getElement(), cggdc.$getChild(this.getElement(), 0));\n  }\n}\n;\n_.createTimeBar = function createTimeBar(format24h){\n  var amStop, ampm, delimiter, dts, e, i_0, pmStart;\n  this.setStylePrimaryName('v-calendar-times');\n  e = cgguc.createDiv();\n  cggucu.setStyleName(e, 'v-calendar-time');\n  cggdc.$setInnerText(e, '');\n  cggdc.$appendChild(this.getElement(), e);\n  dts = new cvc.DateTimeService;\n  if (format24h) {\n    for (i_0 = this.firstHour + 1; i_0 <= this.lastHour; i_0++) {\n      e = cgguc.createDiv();\n      cggucu.setStyleName(e, 'v-calendar-time');\n      delimiter = dts.getClockDelimeter();\n      cggdc.$setInnerHTML(e, '<span>' + i_0 + '<\\/span>' + delimiter + '00');\n      cggdc.$appendChild(this.getElement(), e);\n    }\n  }\n   else {\n    ampm = initValues(getClassLiteralForArray(cggl.Ljava_lang_String_2_classLit, 1), $intern_2, 2, 4, ['AM', 'PM']);\n    amStop = this.lastHour < 11?this.lastHour:11;\n    pmStart = this.firstHour > 11?this.firstHour % 11:0;\n    if (this.firstHour < 12) {\n      for (i_0 = this.firstHour + 1; i_0 <= amStop; i_0++) {\n        e = cgguc.createDiv();\n        cggucu.setStyleName(e, 'v-calendar-time');\n        cggdc.$setInnerHTML(e, '<span>' + cvcucs.timesFor12h[i_0] + '<\\/span>' + ' ' + ampm[0]);\n        cggdc.$appendChild(this.getElement(), e);\n      }\n    }\n    if (this.lastHour > 11) {\n      for (i_0 = pmStart; i_0 < this.lastHour - 11; i_0++) {\n        e = cgguc.createDiv();\n        cggucu.setStyleName(e, 'v-calendar-time');\n        cggdc.$setInnerHTML(e, '<span>' + cvcucs.timesFor12h[i_0] + '<\\/span>' + ' ' + ampm[1]);\n        cggdc.$appendChild(this.getElement(), e);\n      }\n    }\n  }\n}\n;\n_.setCellHeights = function setCellHeights(cellHeights){\n  this.slotCellHeights = cellHeights;\n}\n;\n_.setFirstHour = function setFirstHour_0(firstHour){\n  this.firstHour = firstHour;\n}\n;\n_.setHeightPX_1 = function setHeightPX_3(pixelHeight){\n  this.height_0 = pixelHeight;\n  if (pixelHeight > -1) {\n    getClassPrototype(10).setHeight_0.call(this, this.height_0 + this.verticalPadding + 'px');\n    this.removeStyleDependentName('Vsized');\n    this.updateChildHeights();\n  }\n   else {\n    this.addStyleDependentName('Vsized');\n    this.updateChildHeights();\n  }\n}\n;\n_.setLastHour = function setLastHour_0(lastHour){\n  this.lastHour = lastHour;\n}\n;\n_.updateChildHeights = function updateChildHeights(){\n  var cellHeights, childCount, e, hoursPerDay, i_0, i0, j, slotHeightPosition, slotsPerHour;\n  childCount = cggdc.$getChildCount(this.getElement());\n  if (this.height_0 != -1) {\n    hoursPerDay = this.lastHour - this.firstHour + 1;\n    slotsPerHour = narrow_int(this.slotCellHeights.length / hoursPerDay);\n    cellHeights = initDim(cggl.I_classLit, $intern_14, 0, narrow_int(this.slotCellHeights.length / slotsPerHour), 7, 1);\n    slotHeightPosition = 0;\n    for (i0 = 0; i0 < cellHeights.length; i0++) {\n      for (j = slotHeightPosition; j < slotHeightPosition + slotsPerHour; j++) {\n        cellHeights[i0] += this.slotCellHeights[j] + 1;\n      }\n      slotHeightPosition += slotsPerHour;\n    }\n    for (i_0 = 0; i_0 < childCount; i_0++) {\n      e = cggdc.$getChild(this.getElement(), i_0);\n      cggdc.$setHeight_1(cggdc.$getStyle(e), cellHeights[i_0], (cggdc.$clinit_Style$Unit() , cggdc.PX));\n    }\n  }\n   else {\n    for (i_0 = 0; i_0 < childCount; i_0++) {\n      e = cggdc.$getChild(this.getElement(), i_0);\n      cggdc.$setProperty_0(cggdc.$getStyle(e), 'height', '');\n    }\n  }\n}\n;\n_.updateTimeBar = function updateTimeBar(format24h){\n  this.clear_6();\n  this.createTimeBar(format24h);\n}\n;\n_.firstHour = 0;\n_.height_0 = 0;\n_.lastHour = 0;\n_.verticalPadding = 7;\ndefineClass(360, 1, $intern_0, cvcucs.WeekGridMinuteTimeRange);\n_.$init_1559 = function $init_1559(){\n}\n;\n_.getEnd = function getEnd_1(){\n  return this.end;\n}\n;\n_.getStart = function getStart_1(){\n  return this.start_0;\n}\n;\ndefineClass(686, 53, $intern_293, cvcucs.WeekLabel);\n_.$init_1560 = function $init_1560(){\n}\n;\n_.getWeek = function getWeek_0(){\n  return this.week;\n}\n;\n_.getYear_0 = function getYear_0(){\n  return this.year;\n}\n;\ndefineClass(2263, 198, $intern_294, cvcucs.WeeklyLongEvents);\n_.$init_1561 = function $init_1561(){\n  this.rowCount = 0;\n}\n;\n_.addDate = function addDate_0(d){\n  var dcc;\n  dcc = new cvcucs.DateCellContainer;\n  dcc.setDate_1(d);\n  dcc.setCalendar(this.calendar);\n  this.add_2(dcc);\n}\n;\n_.addEvent_1 = function addEvent_2(calendarEvent){\n  var comp, comp2, dateCount, dc, dcDate, eventLabel, extraStyle, from, i_0, started, to;\n  this.updateEventSlot(calendarEvent);\n  dateCount = this.getWidgetCount();\n  from = calendarEvent.getStart();\n  to = calendarEvent.getEnd();\n  started = false;\n  for (i_0 = 0; i_0 < dateCount; i_0++) {\n    dc = dynamicCast(this.getWidget(i_0), 427);\n    dcDate = dc.getDate_1();\n    comp = dcDate.compareTo_1(from);\n    comp2 = dcDate.compareTo_1(to);\n    eventLabel = dc.getDateCell(calendarEvent.getSlotIndex());\n    eventLabel.setStylePrimaryName('v-calendar-event');\n    if (comp >= 0 && comp2 <= 0) {\n      eventLabel.setEvent(calendarEvent);\n      eventLabel.setCalendar(this.calendar);\n      eventLabel.addStyleDependentName('all-day');\n      if (comp == 0) {\n        eventLabel.addStyleDependentName('start');\n      }\n      if (comp2 == 0) {\n        eventLabel.addStyleDependentName('end');\n      }\n      if (!started && comp > 0 && comp2 <= 0) {\n        eventLabel.addStyleDependentName('continued-from');\n      }\n       else if (i_0 == dateCount - 1) {\n        eventLabel.addStyleDependentName('continued-to');\n      }\n      extraStyle = calendarEvent.getStyleName();\n      if (jsNotEquals(extraStyle, null) && jl.length__I__devirtual$_0(extraStyle) > 0) {\n        eventLabel.addStyleDependentName(extraStyle + '-all-day');\n      }\n      if (!started) {\n        if (this.calendar.isEventCaptionAsHtml()) {\n          eventLabel.setHTML(calendarEvent.getCaption());\n        }\n         else {\n          eventLabel.setText(calendarEvent.getCaption());\n        }\n        started = true;\n      }\n    }\n  }\n}\n;\n_.addEvents = function addEvents(events){\n  var e, e$iterator;\n  for (e$iterator = events.iterator(); e$iterator.hasNext();) {\n    e = dynamicCast(e$iterator.next_1(), 260);\n    this.addEvent_1(e);\n  }\n}\n;\n_.getTooltipKey = function getTooltipKey_1(){\n  return this.getTooltipKey_0();\n}\n;\n_.getTooltipKey_0 = function getTooltipKey_2(){\n  return null;\n}\n;\n_.isSlotFree = function isSlotFree(slot, start_0, end){\n  var comp, comp2, dateCount, dc, dcDate, i_0;\n  dateCount = this.getWidgetCount();\n  for (i_0 = 0; i_0 < dateCount; i_0++) {\n    dc = dynamicCast(this.getWidget(i_0), 427);\n    dcDate = dc.getDate_1();\n    comp = dcDate.compareTo_1(start_0);\n    comp2 = dcDate.compareTo_1(end);\n    if (comp >= 0 && comp2 <= 0) {\n      if (dc.hasEvent(slot)) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n;\n_.setWidthPX = function setWidthPX_3(width_0){\n  if (this.getWidgetCount() == 0) {\n    return;\n  }\n  this.undefinedWidth = width_0 < 0;\n  this.updateCellWidths();\n}\n;\n_.updateCellWidths = function updateCellWidths_1(){\n  var cellWidth, cells_0, dc, i_0;\n  cells_0 = this.getWidgetCount();\n  if (cells_0 <= 0) {\n    return;\n  }\n  cellWidth = -1;\n  if (this.undefinedWidth) {\n    cellWidth = this.calendar.getWeekGrid().getDateCellWidth_0() - this.calendar.getWeekGrid().getDateSlotBorder();\n  }\n  for (i_0 = 0; i_0 < cells_0; i_0++) {\n    dc = dynamicCast(this.getWidget(i_0), 427);\n    if (this.undefinedWidth) {\n      dc.setWidth_0(cellWidth + 'px');\n    }\n     else {\n      dc.setWidth_0(this.calendar.getWeekGrid().getDateCellWidths()[i_0] + 'px');\n    }\n  }\n}\n;\n_.updateEventSlot = function updateEventSlot(e){\n  var foundFreeSlot, slot;\n  foundFreeSlot = false;\n  slot = 0;\n  while (!foundFreeSlot) {\n    if (this.isSlotFree(slot, e.getStart(), e.getEnd())) {\n      e.setSlotIndex(slot);\n      foundFreeSlot = true;\n    }\n     else {\n      slot++;\n    }\n  }\n}\n;\ndefineClass(358, 46, $intern_295, cvcucs.WeeklyLongEventsDateCell);\n_.$init_1562 = function $init_1562(){\n}\n;\n_.getEvent = function getEvent_0(){\n  return this.calendarEvent;\n}\n;\n_.getTooltipKey = function getTooltipKey_3(){\n  if (isNotNull(this.calendarEvent)) {\n    return jl.valueOf_73(this.calendarEvent.getIndex());\n  }\n  return null;\n}\n;\n_.setCalendar = function setCalendar_2(calendar){\n  this.calendar = calendar;\n}\n;\n_.setEvent = function setEvent_0(event_0){\n  this.calendarEvent = event_0;\n}\n;\ndefineClass(807, 153, $intern_0);\n_.$init_1563 = function $init_1563(){\n}\n;\n_.getApplicationConnection = function getApplicationConnection_4(){\n  return this.calendarConnector.getClient();\n}\n;\n_.getConnector_5 = function getConnector_12(){\n  return this.getConnector_7();\n}\n;\n_.getConnector_7 = function getConnector_13(){\n  return this.calendarConnector;\n}\n;\ndefineClass(503, 807, {503:1, 1:1}, cvcucsd.CalendarMonthDropHandler);\n_.$init_1564 = function $init_1564(){\n}\n;\n_.deEmphasis_1 = function deEmphasis_1(){\n  if (isNotNull(this.currentTargetElement) && isNotNull(this.currentTargetDay)) {\n    this.currentTargetDay.removeEmphasisStyle_1();\n    this.currentTargetElement = null;\n  }\n}\n;\n_.dragAccepted = function dragAccepted_2(drag){\n  this.deEmphasis_1();\n  this.currentTargetElement = drag.getElementOver();\n  this.currentTargetDay = dynamicCast(cvc.findWidget_0(this.currentTargetElement, cggl.Lcom_vaadin_client_ui_calendar_schedule_SimpleDayCell_2_classLit), 137);\n  this.emphasis_2();\n}\n;\n_.dragEnter = function dragEnter_3(drag){\n}\n;\n_.dragLeave = function dragLeave_3(drag){\n  this.deEmphasis_1();\n  getClassPrototype(153).dragLeave.call(this, drag);\n}\n;\n_.dragOver = function dragOver_3(drag){\n  if (this.isLocationValid(drag.getElementOver())) {\n    this.validate(new cvcucsd.CalendarMonthDropHandler$1(this, drag), drag);\n  }\n}\n;\n_.drop = function drop_4(drag){\n  if (this.isLocationValid(drag.getElementOver())) {\n    this.updateDropDetails_1(drag);\n    this.deEmphasis_1();\n    return getClassPrototype(153).drop.call(this, drag);\n  }\n   else {\n    this.deEmphasis_1();\n    return false;\n  }\n}\n;\n_.emphasis_2 = function emphasis_2(){\n  if (isNotNull(this.currentTargetElement) && isNotNull(this.currentTargetDay)) {\n    this.currentTargetDay.addEmphasisStyle_1();\n  }\n}\n;\n_.isLocationValid = function isLocationValid(elementOver){\n  var monthGridElement;\n  monthGridElement = this.calendarConnector.getWidget_13().getMonthGrid().getElement();\n  return cgguc.isOrHasChild_3(monthGridElement, elementOver);\n}\n;\n_.updateDropDetails_1 = function updateDropDetails_1(drag){\n  var dayIndex;\n  dayIndex = this.calendarConnector.getWidget_13().getMonthGrid().getDayCellIndex(this.currentTargetDay);\n  drag.getDropDetails().put_0('dropDayIndex', jl.valueOf_73(dayIndex));\n}\n;\ndefineClass(2225, 1, $intern_0, cvcucsd.CalendarMonthDropHandler$1);\n_.$init_1565 = function $init_1565(){\n}\n;\n_.accepted_0 = function accepted_3(event_0){\n  this.this$01.dragAccepted(this.val$drag2);\n}\n;\ndefineClass(504, 807, {504:1, 1:1}, cvcucsd.CalendarWeekDropHandler);\n_.$init_1566 = function $init_1566(){\n}\n;\n_.deEmphasis_2 = function deEmphasis_2(){\n  if (isNotNull(this.currentTargetElement)) {\n    this.currentTargetDay.removeEmphasisStyle(this.currentTargetElement);\n    this.currentTargetElement = null;\n  }\n}\n;\n_.dragAccepted = function dragAccepted_3(drag){\n  this.deEmphasis_2();\n  this.currentTargetElement = drag.getElementOver();\n  this.currentTargetDay = dynamicCast(cvc.findWidget_0(this.currentTargetElement, cggl.Lcom_vaadin_client_ui_calendar_schedule_DateCell_2_classLit), 122);\n  this.emphasis_3();\n}\n;\n_.dragEnter = function dragEnter_4(drag){\n}\n;\n_.dragLeave = function dragLeave_4(drag){\n  this.deEmphasis_2();\n  getClassPrototype(153).dragLeave.call(this, drag);\n}\n;\n_.dragOver = function dragOver_4(drag){\n  if (this.isLocationValid_0(drag.getElementOver())) {\n    this.validate(new cvcucsd.CalendarWeekDropHandler$1(this, drag), drag);\n  }\n}\n;\n_.drop = function drop_5(drag){\n  if (this.isLocationValid_0(drag.getElementOver())) {\n    this.updateDropDetails_2(drag);\n    this.deEmphasis_2();\n    return getClassPrototype(153).drop.call(this, drag);\n  }\n   else {\n    this.deEmphasis_2();\n    return false;\n  }\n}\n;\n_.emphasis_3 = function emphasis_3(){\n  this.currentTargetDay.addEmphasisStyle(this.currentTargetElement);\n}\n;\n_.isLocationValid_0 = function isLocationValid_0(elementOver){\n  var timeBarElement, todayBarElement, weekGridElement;\n  weekGridElement = this.calendarConnector.getWidget_13().getWeekGrid().getElement();\n  timeBarElement = this.calendarConnector.getWidget_13().getWeekGrid().getTimeBar().getElement();\n  todayBarElement = null;\n  if (this.calendarConnector.getWidget_13().getWeekGrid().hasToday()) {\n    todayBarElement = this.calendarConnector.getWidget_13().getWeekGrid().getDateCellOfToday().getTodaybarElement();\n  }\n  return cgguc.isOrHasChild_3(weekGridElement, elementOver) && !cgguc.isOrHasChild_3(timeBarElement, elementOver) && jsNotEquals(todayBarElement, elementOver) && jsEquals(cvc.findWidget_0(elementOver, cggl.Lcom_vaadin_client_ui_calendar_schedule_DateCellDayEvent_2_classLit), null);\n}\n;\n_.updateDropDetails_2 = function updateDropDetails_2(drag){\n  var dayIndex, slotIndex;\n  slotIndex = this.currentTargetDay.getSlotIndex_0(this.currentTargetElement);\n  dayIndex = this.calendarConnector.getWidget_13().getWeekGrid().getDateCellIndex(this.currentTargetDay);\n  drag.getDropDetails().put_0('dropDayIndex', jl.valueOf_73(dayIndex));\n  drag.getDropDetails().put_0('dropSlotIndex', jl.valueOf_73(slotIndex));\n}\n;\ndefineClass(2228, 1, $intern_0, cvcucsd.CalendarWeekDropHandler$1);\n_.$init_1567 = function $init_1567(){\n}\n;\n_.accepted_0 = function accepted_4(event_0){\n  this.this$01.dragAccepted(this.val$drag2);\n}\n;\ndefineClass(648, 31, {31:1, 35:1, 648:1, 3:1, 1:1}, cvsuc.CalendarState);\n_.$init_1954 = function $init_1954(){\n  this.firstVisibleDayOfWeek = 1;\n  this.lastVisibleDayOfWeek = 7;\n  this.firstHourOfDay = 0;\n  this.lastHourOfDay = 23;\n}\n;\n_.eventCaptionAsHtml = false;\n_.firstDayOfWeek = 0;\n_.firstHourOfDay = 0;\n_.firstVisibleDayOfWeek = 0;\n_.format24H = false;\n_.lastHourOfDay = 0;\n_.lastVisibleDayOfWeek = 0;\n_.scroll_0 = 0;\ndefineClass(646, 1, {646:1, 3:1, 1:1}, cvsuc.CalendarState$Action);\n_.$init_1955 = function $init_1955(){\n}\n;\ndefineClass(647, 1, {647:1, 3:1, 1:1}, cvsuc.CalendarState$Day);\n_.$init_1956 = function $init_1956(){\n}\n;\n_.dayOfWeek = 0;\n_.week = 0;\n_.yearOfWeek = 0;\ndefineClass(476, 1, {476:1, 3:1, 1:1}, cvsuc.CalendarState$Event);\n_.$init_1957 = function $init_1957(){\n}\n;\n_.allDay = false;\n_.index_0 = 0;\ndefineClass(239, 132, $intern_276);\n_.longValue = function longValue_3(){\n  return this.value_0;\n}\n;\n$entry(onLoad)(3);\n\n//# sourceURL=ChartJsWidgetset-3.js\n")
